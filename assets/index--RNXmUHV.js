(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function l(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(r){if(r.ep)return;r.ep=!0;const f=l(r);fetch(r.href,f)}})();function am(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Xu={exports:{}},ea={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function uv(){if(mp)return ea;mp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(a,r,f){var p=null;if(f!==void 0&&(p=""+f),r.key!==void 0&&(p=""+r.key),"key"in r){f={};for(var m in r)m!=="key"&&(f[m]=r[m])}else f=r;return r=f.ref,{$$typeof:i,type:a,key:p,ref:r!==void 0?r:null,props:f}}return ea.Fragment=t,ea.jsx=l,ea.jsxs=l,ea}var gp;function cv(){return gp||(gp=1,Xu.exports=uv()),Xu.exports}var x=cv(),Ku={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp;function fv(){if(yp)return be;yp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),_=Symbol.iterator;function A(b){return b===null||typeof b!="object"?null:(b=_&&b[_]||b["@@iterator"],typeof b=="function"?b:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,N={};function q(b,L,F){this.props=b,this.context=L,this.refs=N,this.updater=F||D}q.prototype.isReactComponent={},q.prototype.setState=function(b,L){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,L,"setState")},q.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function X(){}X.prototype=q.prototype;function J(b,L,F){this.props=b,this.context=L,this.refs=N,this.updater=F||D}var te=J.prototype=new X;te.constructor=J,P(te,q.prototype),te.isPureReactComponent=!0;var le=Array.isArray;function ue(){}var Z={H:null,A:null,T:null,S:null},ve=Object.prototype.hasOwnProperty;function ae(b,L,F){var B=F.ref;return{$$typeof:i,type:b,key:L,ref:B!==void 0?B:null,props:F}}function _e(b,L){return ae(b.type,L,b.props)}function j(b){return typeof b=="object"&&b!==null&&b.$$typeof===i}function re(b){var L={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(F){return L[F]})}var pe=/\/+/g;function Re(b,L){return typeof b=="object"&&b!==null&&b.key!=null?re(""+b.key):L.toString(36)}function ze(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(ue,ue):(b.status="pending",b.then(function(L){b.status==="pending"&&(b.status="fulfilled",b.value=L)},function(L){b.status==="pending"&&(b.status="rejected",b.reason=L)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function k(b,L,F,B,K){var Q=typeof b;(Q==="undefined"||Q==="boolean")&&(b=null);var ee=!1;if(b===null)ee=!0;else switch(Q){case"bigint":case"string":case"number":ee=!0;break;case"object":switch(b.$$typeof){case i:case t:ee=!0;break;case v:return ee=b._init,k(ee(b._payload),L,F,B,K)}}if(ee)return K=K(b),ee=B===""?"."+Re(b,0):B,le(K)?(F="",ee!=null&&(F=ee.replace(pe,"$&/")+"/"),k(K,L,F,"",function(Ze){return Ze})):K!=null&&(j(K)&&(K=_e(K,F+(K.key==null||b&&b.key===K.key?"":(""+K.key).replace(pe,"$&/")+"/")+ee)),L.push(K)),1;ee=0;var Le=B===""?".":B+":";if(le(b))for(var Me=0;Me<b.length;Me++)B=b[Me],Q=Le+Re(B,Me),ee+=k(B,L,F,Q,K);else if(Me=A(b),typeof Me=="function")for(b=Me.call(b),Me=0;!(B=b.next()).done;)B=B.value,Q=Le+Re(B,Me++),ee+=k(B,L,F,Q,K);else if(Q==="object"){if(typeof b.then=="function")return k(ze(b),L,F,B,K);throw L=String(b),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return ee}function $(b,L,F){if(b==null)return b;var B=[],K=0;return k(b,B,"","",function(Q){return L.call(F,Q,K++)}),B}function se(b){if(b._status===-1){var L=b._result;L=L(),L.then(function(F){(b._status===0||b._status===-1)&&(b._status=1,b._result=F)},function(F){(b._status===0||b._status===-1)&&(b._status=2,b._result=F)}),b._status===-1&&(b._status=0,b._result=L)}if(b._status===1)return b._result.default;throw b._result}var Ne=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},Ue={map:$,forEach:function(b,L,F){$(b,function(){L.apply(this,arguments)},F)},count:function(b){var L=0;return $(b,function(){L++}),L},toArray:function(b){return $(b,function(L){return L})||[]},only:function(b){if(!j(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return be.Activity=E,be.Children=Ue,be.Component=q,be.Fragment=l,be.Profiler=r,be.PureComponent=J,be.StrictMode=a,be.Suspense=y,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,be.__COMPILER_RUNTIME={__proto__:null,c:function(b){return Z.H.useMemoCache(b)}},be.cache=function(b){return function(){return b.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(b,L,F){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var B=P({},b.props),K=b.key;if(L!=null)for(Q in L.key!==void 0&&(K=""+L.key),L)!ve.call(L,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&L.ref===void 0||(B[Q]=L[Q]);var Q=arguments.length-2;if(Q===1)B.children=F;else if(1<Q){for(var ee=Array(Q),Le=0;Le<Q;Le++)ee[Le]=arguments[Le+2];B.children=ee}return ae(b.type,K,B)},be.createContext=function(b){return b={$$typeof:p,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:f,_context:b},b},be.createElement=function(b,L,F){var B,K={},Q=null;if(L!=null)for(B in L.key!==void 0&&(Q=""+L.key),L)ve.call(L,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&(K[B]=L[B]);var ee=arguments.length-2;if(ee===1)K.children=F;else if(1<ee){for(var Le=Array(ee),Me=0;Me<ee;Me++)Le[Me]=arguments[Me+2];K.children=Le}if(b&&b.defaultProps)for(B in ee=b.defaultProps,ee)K[B]===void 0&&(K[B]=ee[B]);return ae(b,Q,K)},be.createRef=function(){return{current:null}},be.forwardRef=function(b){return{$$typeof:m,render:b}},be.isValidElement=j,be.lazy=function(b){return{$$typeof:v,_payload:{_status:-1,_result:b},_init:se}},be.memo=function(b,L){return{$$typeof:g,type:b,compare:L===void 0?null:L}},be.startTransition=function(b){var L=Z.T,F={};Z.T=F;try{var B=b(),K=Z.S;K!==null&&K(F,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(ue,Ne)}catch(Q){Ne(Q)}finally{L!==null&&F.types!==null&&(L.types=F.types),Z.T=L}},be.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},be.use=function(b){return Z.H.use(b)},be.useActionState=function(b,L,F){return Z.H.useActionState(b,L,F)},be.useCallback=function(b,L){return Z.H.useCallback(b,L)},be.useContext=function(b){return Z.H.useContext(b)},be.useDebugValue=function(){},be.useDeferredValue=function(b,L){return Z.H.useDeferredValue(b,L)},be.useEffect=function(b,L){return Z.H.useEffect(b,L)},be.useEffectEvent=function(b){return Z.H.useEffectEvent(b)},be.useId=function(){return Z.H.useId()},be.useImperativeHandle=function(b,L,F){return Z.H.useImperativeHandle(b,L,F)},be.useInsertionEffect=function(b,L){return Z.H.useInsertionEffect(b,L)},be.useLayoutEffect=function(b,L){return Z.H.useLayoutEffect(b,L)},be.useMemo=function(b,L){return Z.H.useMemo(b,L)},be.useOptimistic=function(b,L){return Z.H.useOptimistic(b,L)},be.useReducer=function(b,L,F){return Z.H.useReducer(b,L,F)},be.useRef=function(b){return Z.H.useRef(b)},be.useState=function(b){return Z.H.useState(b)},be.useSyncExternalStore=function(b,L,F){return Z.H.useSyncExternalStore(b,L,F)},be.useTransition=function(){return Z.H.useTransition()},be.version="19.2.3",be}var vp;function Tc(){return vp||(vp=1,Ku.exports=fv()),Ku.exports}var ie=Tc();const dv=am(ie);var Qu={exports:{}},ta={},Zu={exports:{}},$u={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp;function pv(){return Tp||(Tp=1,(function(i){function t(k,$){var se=k.length;k.push($);e:for(;0<se;){var Ne=se-1>>>1,Ue=k[Ne];if(0<r(Ue,$))k[Ne]=$,k[se]=Ue,se=Ne;else break e}}function l(k){return k.length===0?null:k[0]}function a(k){if(k.length===0)return null;var $=k[0],se=k.pop();if(se!==$){k[0]=se;e:for(var Ne=0,Ue=k.length,b=Ue>>>1;Ne<b;){var L=2*(Ne+1)-1,F=k[L],B=L+1,K=k[B];if(0>r(F,se))B<Ue&&0>r(K,F)?(k[Ne]=K,k[B]=se,Ne=B):(k[Ne]=F,k[L]=se,Ne=L);else if(B<Ue&&0>r(K,se))k[Ne]=K,k[B]=se,Ne=B;else break e}}return $}function r(k,$){var se=k.sortIndex-$.sortIndex;return se!==0?se:k.id-$.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var p=Date,m=p.now();i.unstable_now=function(){return p.now()-m}}var y=[],g=[],v=1,E=null,_=3,A=!1,D=!1,P=!1,N=!1,q=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function te(k){for(var $=l(g);$!==null;){if($.callback===null)a(g);else if($.startTime<=k)a(g),$.sortIndex=$.expirationTime,t(y,$);else break;$=l(g)}}function le(k){if(P=!1,te(k),!D)if(l(y)!==null)D=!0,ue||(ue=!0,re());else{var $=l(g);$!==null&&ze(le,$.startTime-k)}}var ue=!1,Z=-1,ve=5,ae=-1;function _e(){return N?!0:!(i.unstable_now()-ae<ve)}function j(){if(N=!1,ue){var k=i.unstable_now();ae=k;var $=!0;try{e:{D=!1,P&&(P=!1,X(Z),Z=-1),A=!0;var se=_;try{t:{for(te(k),E=l(y);E!==null&&!(E.expirationTime>k&&_e());){var Ne=E.callback;if(typeof Ne=="function"){E.callback=null,_=E.priorityLevel;var Ue=Ne(E.expirationTime<=k);if(k=i.unstable_now(),typeof Ue=="function"){E.callback=Ue,te(k),$=!0;break t}E===l(y)&&a(y),te(k)}else a(y);E=l(y)}if(E!==null)$=!0;else{var b=l(g);b!==null&&ze(le,b.startTime-k),$=!1}}break e}finally{E=null,_=se,A=!1}$=void 0}}finally{$?re():ue=!1}}}var re;if(typeof J=="function")re=function(){J(j)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Re=pe.port2;pe.port1.onmessage=j,re=function(){Re.postMessage(null)}}else re=function(){q(j,0)};function ze(k,$){Z=q(function(){k(i.unstable_now())},$)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(k){k.callback=null},i.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ve=0<k?Math.floor(1e3/k):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_next=function(k){switch(_){case 1:case 2:case 3:var $=3;break;default:$=_}var se=_;_=$;try{return k()}finally{_=se}},i.unstable_requestPaint=function(){N=!0},i.unstable_runWithPriority=function(k,$){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var se=_;_=k;try{return $()}finally{_=se}},i.unstable_scheduleCallback=function(k,$,se){var Ne=i.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Ne+se:Ne):se=Ne,k){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=se+Ue,k={id:v++,callback:$,priorityLevel:k,startTime:se,expirationTime:Ue,sortIndex:-1},se>Ne?(k.sortIndex=se,t(g,k),l(y)===null&&k===l(g)&&(P?(X(Z),Z=-1):P=!0,ze(le,se-Ne))):(k.sortIndex=Ue,t(y,k),D||A||(D=!0,ue||(ue=!0,re()))),k},i.unstable_shouldYield=_e,i.unstable_wrapCallback=function(k){var $=_;return function(){var se=_;_=$;try{return k.apply(this,arguments)}finally{_=se}}}})($u)),$u}var Sp;function hv(){return Sp||(Sp=1,Zu.exports=pv()),Zu.exports}var Wu={exports:{}},zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function mv(){if(Ep)return zt;Ep=1;var i=Tc();function t(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(y,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:E==null?null:""+E,children:y,containerInfo:g,implementation:v}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,zt.createPortal=function(y,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return f(y,g,null,v)},zt.flushSync=function(y){var g=p.T,v=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=g,a.p=v,a.d.f()}},zt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(y,g))},zt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},zt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin),_=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?a.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:_,fetchPriority:A}):v==="script"&&a.d.X(y,{crossOrigin:E,integrity:_,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},zt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(y)},zt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin);a.d.L(y,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},zt.preloadModule=function(y,g){if(typeof y=="string")if(g){var v=m(g.as,g.crossOrigin);a.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(y)},zt.requestFormReset=function(y){a.d.r(y)},zt.unstable_batchedUpdates=function(y,g){return y(g)},zt.useFormState=function(y,g,v){return p.H.useFormState(y,g,v)},zt.useFormStatus=function(){return p.H.useHostTransitionStatus()},zt.version="19.2.3",zt}var _p;function gv(){if(_p)return Wu.exports;_p=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Wu.exports=mv(),Wu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function yv(){if(Cp)return ta;Cp=1;var i=hv(),t=Tc(),l=gv();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(a(188))}function g(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(a(188));return n!==e?null:e}for(var o=e,s=n;;){var d=o.return;if(d===null)break;var h=d.alternate;if(h===null){if(s=d.return,s!==null){o=s;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===o)return y(d),e;if(h===s)return y(d),n;h=h.sibling}throw Error(a(188))}if(o.return!==s.return)o=d,s=h;else{for(var S=!1,C=d.child;C;){if(C===o){S=!0,o=d,s=h;break}if(C===s){S=!0,s=d,o=h;break}C=C.sibling}if(!S){for(C=h.child;C;){if(C===o){S=!0,o=h,s=d;break}if(C===s){S=!0,s=h,o=d;break}C=C.sibling}if(!S)throw Error(a(189))}}if(o.alternate!==s)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,_=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),J=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),_e=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function re(e){return e===null||typeof e!="object"?null:(e=j&&e[j]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Symbol.for("react.client.reference");function Re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===pe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case q:return"Profiler";case N:return"StrictMode";case le:return"Suspense";case ue:return"SuspenseList";case ae:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case J:return e.displayName||"Context";case X:return(e._context.displayName||"Context")+".Consumer";case te:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return n=e.displayName||null,n!==null?n:Re(e.type)||"Memo";case ve:n=e._payload,e=e._init;try{return Re(e(n))}catch{}}return null}var ze=Array.isArray,k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Ne=[],Ue=-1;function b(e){return{current:e}}function L(e){0>Ue||(e.current=Ne[Ue],Ne[Ue]=null,Ue--)}function F(e,n){Ue++,Ne[Ue]=e.current,e.current=n}var B=b(null),K=b(null),Q=b(null),ee=b(null);function Le(e,n){switch(F(Q,n),F(K,e),F(B,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?P0(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=P0(n),e=q0(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(B),F(B,e)}function Me(){L(B),L(K),L(Q)}function Ze(e){e.memoizedState!==null&&F(ee,e);var n=B.current,o=q0(n,e.type);n!==o&&(F(K,e),F(B,o))}function mt(e){K.current===e&&(L(B),L(K)),ee.current===e&&(L(ee),Zo._currentValue=se)}var Tt,bt;function ce(e){if(Tt===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);Tt=n&&n[1]||"",bt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tt+e+bt}var me=!1;function we(e,n){if(!e||me)return"";me=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(V){var H=V}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(V){H=V}e.call(Y.prototype)}}else{try{throw Error()}catch(V){H=V}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(V){if(V&&H&&typeof V.stack=="string")return[V.stack,H.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=s.DetermineComponentFrameRoot(),S=h[0],C=h[1];if(S&&C){var M=S.split(`
`),G=C.split(`
`);for(d=s=0;s<M.length&&!M[s].includes("DetermineComponentFrameRoot");)s++;for(;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;if(s===M.length||d===G.length)for(s=M.length-1,d=G.length-1;1<=s&&0<=d&&M[s]!==G[d];)d--;for(;1<=s&&0<=d;s--,d--)if(M[s]!==G[d]){if(s!==1||d!==1)do if(s--,d--,0>d||M[s]!==G[d]){var z=`
`+M[s].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=s&&0<=d);break}}}finally{me=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?ce(o):""}function T(e,n){switch(e.tag){case 26:case 27:case 5:return ce(e.type);case 16:return ce("Lazy");case 13:return e.child!==n&&n!==null?ce("Suspense Fallback"):ce("Suspense");case 19:return ce("SuspenseList");case 0:case 15:return we(e.type,!1);case 11:return we(e.type.render,!1);case 1:return we(e.type,!0);case 31:return ce("Activity");default:return""}}function at(e){try{var n="",o=null;do n+=T(e,o),o=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var gt=Object.prototype.hasOwnProperty,Zt=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,lt=i.unstable_shouldYield,Ft=i.unstable_requestPaint,ft=i.unstable_now,ln=i.unstable_getCurrentPriorityLevel,lo=i.unstable_ImmediatePriority,rl=i.unstable_UserBlockingPriority,Rt=i.unstable_NormalPriority,wn=i.unstable_LowPriority,oo=i.unstable_IdlePriority,ao=i.log,aa=i.unstable_setDisableYieldValue,ci=null,Yt=null;function In(e){if(typeof ao=="function"&&aa(e),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(ci,e)}catch{}}var Pt=Math.clz32?Math.clz32:so,Vs=Math.log,zs=Math.LN2;function so(e){return e>>>=0,e===0?32:31-(Vs(e)/zs|0)|0}var fi=256,Hn=262144,ul=4194304;function Pn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function cl(e,n,o){var s=e.pendingLanes;if(s===0)return 0;var d=0,h=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var C=s&134217727;return C!==0?(s=C&~h,s!==0?d=Pn(s):(S&=C,S!==0?d=Pn(S):o||(o=C&~e,o!==0&&(d=Pn(o))))):(C=s&~h,C!==0?d=Pn(C):S!==0?d=Pn(S):o||(o=s&~e,o!==0&&(d=Pn(o)))),d===0?0:n!==0&&n!==d&&(n&h)===0&&(h=d&-d,o=n&-n,h>=o||h===32&&(o&4194048)!==0)?n:d}function Bi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function sa(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ro(){var e=ul;return ul<<=1,(ul&62914560)===0&&(ul=4194304),e}function di(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function Jt(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ra(e,n,o,s,d,h){var S=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var C=e.entanglements,M=e.expirationTimes,G=e.hiddenUpdates;for(o=S&~o;0<o;){var z=31-Pt(o),Y=1<<z;C[z]=0,M[z]=-1;var H=G[z];if(H!==null)for(G[z]=null,z=0;z<H.length;z++){var V=H[z];V!==null&&(V.lane&=-536870913)}o&=~Y}s!==0&&uo(e,s,0),h!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=h&~(S&~n))}function uo(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Pt(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|o&261930}function fl(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var s=31-Pt(o),d=1<<s;d&n|e[s]&n&&(e[s]|=n),o&=~d}}function pi(e,n){var o=n&-n;return o=(o&42)!==0?1:At(o),(o&(e.suspendedLanes|n))!==0?0:o}function At(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function qt(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:rp(e.type))}function hi(e,n){var o=$.p;try{return $.p=e,n()}finally{$.p=o}}var Dn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Dn,Dt="__reactProps$"+Dn,Vn="__reactContainer$"+Dn,dl="__reactEvents$"+Dn,ua="__reactListeners$"+Dn,ca="__reactHandles$"+Dn,co="__reactResources$"+Dn,mi="__reactMarker$"+Dn;function w(e){delete e[xt],delete e[Dt],delete e[dl],delete e[ua],delete e[ca]}function ne(e){var n=e[xt];if(n)return n;for(var o=e.parentNode;o;){if(n=o[Vn]||o[xt]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=J0(e);e!==null;){if(o=e[xt])return o;e=J0(e)}return n}e=o,o=e.parentNode}return null}function ge(e){if(e=e[xt]||e[Vn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function W(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function fe(e){var n=e[co];return n||(n=e[co]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[mi]=!0}var Je=new Set,Ce={};function Ae(e,n){Vt(e,n),Vt(e+"Capture",n)}function Vt(e,n){for(Ce[e]=n,e=0;e<n.length;e++)Je.add(n[e])}var fo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pl={},hl={};function zn(e){return gt.call(hl,e)?!0:gt.call(pl,e)?!1:fo.test(e)?hl[e]=!0:(pl[e]=!0,!1)}function Te(e,n,o){if(zn(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function ut(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function tt(e,n,o,s){if(s===null)e.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+s)}}function nt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Oi(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function gi(e,n,o){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,h=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(S){o=""+S,h.call(this,S)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function dt(e){if(!e._valueTracker){var n=Oi(e)?"checked":"value";e._valueTracker=gi(e,n,""+e[n])}}function Nt(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),s="";return e&&(s=Oi(e)?e.checked?"true":"false":e.value),e=s,e!==o?(n.setValue(e),!0):!1}function Bn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ml=/[\n"\\]/g;function Lt(e){return e.replace(ml,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function gl(e,n,o,s,d,h,S,C){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+nt(n)):e.value!==""+nt(n)&&(e.value=""+nt(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?Bs(e,S,nt(n)):o!=null?Bs(e,S,nt(o)):s!=null&&e.removeAttribute("value"),d==null&&h!=null&&(e.defaultChecked=!!h),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+nt(C):e.removeAttribute("name")}function Ic(e,n,o,s,d,h,S,C){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||o!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){dt(e);return}o=o!=null?""+nt(o):"",n=n!=null?""+nt(n):o,C||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=C?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),dt(e)}function Bs(e,n,o){n==="number"&&Bn(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function yl(e,n,o,s){if(e=e.options,n){n={};for(var d=0;d<o.length;d++)n["$"+o[d]]=!0;for(o=0;o<e.length;o++)d=n.hasOwnProperty("$"+e[o].value),e[o].selected!==d&&(e[o].selected=d),d&&s&&(e[o].defaultSelected=!0)}else{for(o=""+nt(o),n=null,d=0;d<e.length;d++){if(e[d].value===o){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function Dc(e,n,o){if(n!=null&&(n=""+nt(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+nt(o):""}function Lc(e,n,o,s){if(n==null){if(s!=null){if(o!=null)throw Error(a(92));if(ze(s)){if(1<s.length)throw Error(a(93));s=s[0]}o=s}o==null&&(o=""),n=o}o=nt(n),e.defaultValue=o,s=e.textContent,s===o&&s!==""&&s!==null&&(e.value=s),dt(e)}function vl(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var lg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uc(e,n,o){var s=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,o):typeof o!="number"||o===0||lg.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function Gc(e,n,o){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,o!=null){for(var s in o)!o.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&o[d]!==s&&Uc(e,d,s)}else for(var h in n)n.hasOwnProperty(h)&&Uc(e,h,n[h])}function Os(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var og=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ag=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(e){return ag.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function On(){}var Fs=null;function Ys(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tl=null,Sl=null;function kc(e){var n=ge(e);if(n&&(e=n.stateNode)){var o=e[Dt]||null;e:switch(e=n.stateNode,n.type){case"input":if(gl(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Lt(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var s=o[n];if(s!==e&&s.form===e.form){var d=s[Dt]||null;if(!d)throw Error(a(90));gl(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<o.length;n++)s=o[n],s.form===e.form&&Nt(s)}break e;case"textarea":Dc(e,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&yl(e,!!o.multiple,n,!1)}}}var Js=!1;function Hc(e,n,o){if(Js)return e(n,o);Js=!0;try{var s=e(n);return s}finally{if(Js=!1,(Tl!==null||Sl!==null)&&(Wa(),Tl&&(n=Tl,e=Sl,Sl=Tl=null,kc(n),e)))for(n=0;n<e.length;n++)kc(e[n])}}function po(e,n){var o=e.stateNode;if(o===null)return null;var s=o[Dt]||null;if(s===null)return null;o=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,n,typeof o));return o}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xs=!1;if(Fn)try{var ho={};Object.defineProperty(ho,"passive",{get:function(){Xs=!0}}),window.addEventListener("test",ho,ho),window.removeEventListener("test",ho,ho)}catch{Xs=!1}var yi=null,Ks=null,da=null;function Pc(){if(da)return da;var e,n=Ks,o=n.length,s,d="value"in yi?yi.value:yi.textContent,h=d.length;for(e=0;e<o&&n[e]===d[e];e++);var S=o-e;for(s=1;s<=S&&n[o-s]===d[h-s];s++);return da=d.slice(e,1<s?1-s:void 0)}function pa(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ha(){return!0}function qc(){return!1}function $t(e){function n(o,s,d,h,S){this._reactName=o,this._targetInst=d,this.type=s,this.nativeEvent=h,this.target=S,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(o=e[C],this[C]=o?o(h):h[C]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ha:qc,this.isPropagationStopped=qc,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ha)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ha)},persist:function(){},isPersistent:ha}),n}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ma=$t(Fi),mo=E({},Fi,{view:0,detail:0}),sg=$t(mo),Qs,Zs,go,ga=E({},mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ws,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==go&&(go&&e.type==="mousemove"?(Qs=e.screenX-go.screenX,Zs=e.screenY-go.screenY):Zs=Qs=0,go=e),Qs)},movementY:function(e){return"movementY"in e?e.movementY:Zs}}),Vc=$t(ga),rg=E({},ga,{dataTransfer:0}),ug=$t(rg),cg=E({},mo,{relatedTarget:0}),$s=$t(cg),fg=E({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),dg=$t(fg),pg=E({},Fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hg=$t(pg),mg=E({},Fi,{data:0}),zc=$t(mg),gg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=vg[e])?!!n[e]:!1}function Ws(){return Tg}var Sg=E({},mo,{key:function(e){if(e.key){var n=gg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=pa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ws,charCode:function(e){return e.type==="keypress"?pa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eg=$t(Sg),_g=E({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bc=$t(_g),Cg=E({},mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ws}),Ag=$t(Cg),xg=E({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mg=$t(xg),bg=E({},ga,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rg=$t(bg),Ng=E({},Fi,{newState:0,oldState:0}),wg=$t(Ng),Ig=[9,13,27,32],js=Fn&&"CompositionEvent"in window,yo=null;Fn&&"documentMode"in document&&(yo=document.documentMode);var Dg=Fn&&"TextEvent"in window&&!yo,Oc=Fn&&(!js||yo&&8<yo&&11>=yo),Fc=" ",Yc=!1;function Jc(e,n){switch(e){case"keyup":return Ig.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var El=!1;function Lg(e,n){switch(e){case"compositionend":return Xc(n);case"keypress":return n.which!==32?null:(Yc=!0,Fc);case"textInput":return e=n.data,e===Fc&&Yc?null:e;default:return null}}function Ug(e,n){if(El)return e==="compositionend"||!js&&Jc(e,n)?(e=Pc(),da=Ks=yi=null,El=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Oc&&n.locale!=="ko"?null:n.data;default:return null}}var Gg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Gg[e.type]:n==="textarea"}function Qc(e,n,o,s){Tl?Sl?Sl.push(s):Sl=[s]:Tl=s,n=os(n,"onChange"),0<n.length&&(o=new ma("onChange","change",null,o,s),e.push({event:o,listeners:n}))}var vo=null,To=null;function kg(e){D0(e,0)}function ya(e){var n=W(e);if(Nt(n))return e}function Zc(e,n){if(e==="change")return n}var $c=!1;if(Fn){var er;if(Fn){var tr="oninput"in document;if(!tr){var Wc=document.createElement("div");Wc.setAttribute("oninput","return;"),tr=typeof Wc.oninput=="function"}er=tr}else er=!1;$c=er&&(!document.documentMode||9<document.documentMode)}function jc(){vo&&(vo.detachEvent("onpropertychange",ef),To=vo=null)}function ef(e){if(e.propertyName==="value"&&ya(To)){var n=[];Qc(n,To,e,Ys(e)),Hc(kg,n)}}function Hg(e,n,o){e==="focusin"?(jc(),vo=n,To=o,vo.attachEvent("onpropertychange",ef)):e==="focusout"&&jc()}function Pg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ya(To)}function qg(e,n){if(e==="click")return ya(n)}function Vg(e,n){if(e==="input"||e==="change")return ya(n)}function zg(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var on=typeof Object.is=="function"?Object.is:zg;function So(e,n){if(on(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),s=Object.keys(n);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var d=o[s];if(!gt.call(n,d)||!on(e[d],n[d]))return!1}return!0}function tf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nf(e,n){var o=tf(e);e=0;for(var s;o;){if(o.nodeType===3){if(s=e+o.textContent.length,e<=n&&s>=n)return{node:o,offset:n-e};e=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=tf(o)}}function lf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?lf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function of(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Bn(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=Bn(e.document)}return n}function nr(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Bg=Fn&&"documentMode"in document&&11>=document.documentMode,_l=null,ir=null,Eo=null,lr=!1;function af(e,n,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;lr||_l==null||_l!==Bn(s)||(s=_l,"selectionStart"in s&&nr(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Eo&&So(Eo,s)||(Eo=s,s=os(ir,"onSelect"),0<s.length&&(n=new ma("onSelect","select",null,n,o),e.push({event:n,listeners:s}),n.target=_l)))}function Yi(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var Cl={animationend:Yi("Animation","AnimationEnd"),animationiteration:Yi("Animation","AnimationIteration"),animationstart:Yi("Animation","AnimationStart"),transitionrun:Yi("Transition","TransitionRun"),transitionstart:Yi("Transition","TransitionStart"),transitioncancel:Yi("Transition","TransitionCancel"),transitionend:Yi("Transition","TransitionEnd")},or={},sf={};Fn&&(sf=document.createElement("div").style,"AnimationEvent"in window||(delete Cl.animationend.animation,delete Cl.animationiteration.animation,delete Cl.animationstart.animation),"TransitionEvent"in window||delete Cl.transitionend.transition);function Ji(e){if(or[e])return or[e];if(!Cl[e])return e;var n=Cl[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in sf)return or[e]=n[o];return e}var rf=Ji("animationend"),uf=Ji("animationiteration"),cf=Ji("animationstart"),Og=Ji("transitionrun"),Fg=Ji("transitionstart"),Yg=Ji("transitioncancel"),ff=Ji("transitionend"),df=new Map,ar="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ar.push("scrollEnd");function Cn(e,n){df.set(e,n),Ae(n,[e])}var va=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},dn=[],Al=0,sr=0;function Ta(){for(var e=Al,n=sr=Al=0;n<e;){var o=dn[n];dn[n++]=null;var s=dn[n];dn[n++]=null;var d=dn[n];dn[n++]=null;var h=dn[n];if(dn[n++]=null,s!==null&&d!==null){var S=s.pending;S===null?d.next=d:(d.next=S.next,S.next=d),s.pending=d}h!==0&&pf(o,d,h)}}function Sa(e,n,o,s){dn[Al++]=e,dn[Al++]=n,dn[Al++]=o,dn[Al++]=s,sr|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function rr(e,n,o,s){return Sa(e,n,o,s),Ea(e)}function Xi(e,n){return Sa(e,null,null,n),Ea(e)}function pf(e,n,o){e.lanes|=o;var s=e.alternate;s!==null&&(s.lanes|=o);for(var d=!1,h=e.return;h!==null;)h.childLanes|=o,s=h.alternate,s!==null&&(s.childLanes|=o),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(d=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,d&&n!==null&&(d=31-Pt(o),e=h.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=o|536870912),h):null}function Ea(e){if(50<Oo)throw Oo=0,yu=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var xl={};function Jg(e,n,o,s){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,n,o,s){return new Jg(e,n,o,s)}function ur(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yn(e,n){var o=e.alternate;return o===null?(o=an(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function hf(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function _a(e,n,o,s,d,h){var S=0;if(s=e,typeof e=="function")ur(e)&&(S=1);else if(typeof e=="string")S=$y(e,o,B.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ae:return e=an(31,o,n,d),e.elementType=ae,e.lanes=h,e;case P:return Ki(o.children,d,h,n);case N:S=8,d|=24;break;case q:return e=an(12,o,n,d|2),e.elementType=q,e.lanes=h,e;case le:return e=an(13,o,n,d),e.elementType=le,e.lanes=h,e;case ue:return e=an(19,o,n,d),e.elementType=ue,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J:S=10;break e;case X:S=9;break e;case te:S=11;break e;case Z:S=14;break e;case ve:S=16,s=null;break e}S=29,o=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=an(S,o,n,d),n.elementType=e,n.type=s,n.lanes=h,n}function Ki(e,n,o,s){return e=an(7,e,s,n),e.lanes=o,e}function cr(e,n,o){return e=an(6,e,null,n),e.lanes=o,e}function mf(e){var n=an(18,null,null,0);return n.stateNode=e,n}function fr(e,n,o){return n=an(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var gf=new WeakMap;function pn(e,n){if(typeof e=="object"&&e!==null){var o=gf.get(e);return o!==void 0?o:(n={value:e,source:n,stack:at(n)},gf.set(e,n),n)}return{value:e,source:n,stack:at(n)}}var Ml=[],bl=0,Ca=null,_o=0,hn=[],mn=0,vi=null,Ln=1,Un="";function Jn(e,n){Ml[bl++]=_o,Ml[bl++]=Ca,Ca=e,_o=n}function yf(e,n,o){hn[mn++]=Ln,hn[mn++]=Un,hn[mn++]=vi,vi=e;var s=Ln;e=Un;var d=32-Pt(s)-1;s&=~(1<<d),o+=1;var h=32-Pt(n)+d;if(30<h){var S=d-d%5;h=(s&(1<<S)-1).toString(32),s>>=S,d-=S,Ln=1<<32-Pt(n)+d|o<<d|s,Un=h+e}else Ln=1<<h|o<<d|s,Un=e}function dr(e){e.return!==null&&(Jn(e,1),yf(e,1,0))}function pr(e){for(;e===Ca;)Ca=Ml[--bl],Ml[bl]=null,_o=Ml[--bl],Ml[bl]=null;for(;e===vi;)vi=hn[--mn],hn[mn]=null,Un=hn[--mn],hn[mn]=null,Ln=hn[--mn],hn[mn]=null}function vf(e,n){hn[mn++]=Ln,hn[mn++]=Un,hn[mn++]=vi,Ln=n.id,Un=n.overflow,vi=e}var Ut=null,st=null,Ve=!1,Ti=null,gn=!1,hr=Error(a(519));function Si(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Co(pn(n,e)),hr}function Tf(e){var n=e.stateNode,o=e.type,s=e.memoizedProps;switch(n[xt]=e,n[Dt]=s,o){case"dialog":He("cancel",n),He("close",n);break;case"iframe":case"object":case"embed":He("load",n);break;case"video":case"audio":for(o=0;o<Yo.length;o++)He(Yo[o],n);break;case"source":He("error",n);break;case"img":case"image":case"link":He("error",n),He("load",n);break;case"details":He("toggle",n);break;case"input":He("invalid",n),Ic(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":He("invalid",n);break;case"textarea":He("invalid",n),Lc(n,s.value,s.defaultValue,s.children)}o=s.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||s.suppressHydrationWarning===!0||k0(n.textContent,o)?(s.popover!=null&&(He("beforetoggle",n),He("toggle",n)),s.onScroll!=null&&He("scroll",n),s.onScrollEnd!=null&&He("scrollend",n),s.onClick!=null&&(n.onclick=On),n=!0):n=!1,n||Si(e,!0)}function Sf(e){for(Ut=e.return;Ut;)switch(Ut.tag){case 5:case 31:case 13:gn=!1;return;case 27:case 3:gn=!0;return;default:Ut=Ut.return}}function Rl(e){if(e!==Ut)return!1;if(!Ve)return Sf(e),Ve=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Du(e.type,e.memoizedProps)),o=!o),o&&st&&Si(e),Sf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));st=Y0(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));st=Y0(e)}else n===27?(n=st,Ui(e.type)?(e=Hu,Hu=null,st=e):st=n):st=Ut?vn(e.stateNode.nextSibling):null;return!0}function Qi(){st=Ut=null,Ve=!1}function mr(){var e=Ti;return e!==null&&(tn===null?tn=e:tn.push.apply(tn,e),Ti=null),e}function Co(e){Ti===null?Ti=[e]:Ti.push(e)}var gr=b(null),Zi=null,Xn=null;function Ei(e,n,o){F(gr,n._currentValue),n._currentValue=o}function Kn(e){e._currentValue=gr.current,L(gr)}function yr(e,n,o){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===o)break;e=e.return}}function vr(e,n,o,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var h=d.dependencies;if(h!==null){var S=d.child;h=h.firstContext;e:for(;h!==null;){var C=h;h=d;for(var M=0;M<n.length;M++)if(C.context===n[M]){h.lanes|=o,C=h.alternate,C!==null&&(C.lanes|=o),yr(h.return,o,e),s||(S=null);break e}h=C.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(a(341));S.lanes|=o,h=S.alternate,h!==null&&(h.lanes|=o),yr(S,o,e),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===e){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function Nl(e,n,o,s){e=null;for(var d=n,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var C=d.type;on(d.pendingProps.value,S.value)||(e!==null?e.push(C):e=[C])}}else if(d===ee.current){if(S=d.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Zo):e=[Zo])}d=d.return}e!==null&&vr(n,e,o,s),n.flags|=262144}function Aa(e){for(e=e.firstContext;e!==null;){if(!on(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function $i(e){Zi=e,Xn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Gt(e){return Ef(Zi,e)}function xa(e,n){return Zi===null&&$i(e),Ef(e,n)}function Ef(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},Xn===null){if(e===null)throw Error(a(308));Xn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Xn=Xn.next=n;return o}var Xg=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},Kg=i.unstable_scheduleCallback,Qg=i.unstable_NormalPriority,St={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tr(){return{controller:new Xg,data:new Map,refCount:0}}function Ao(e){e.refCount--,e.refCount===0&&Kg(Qg,function(){e.controller.abort()})}var xo=null,Sr=0,wl=0,Il=null;function Zg(e,n){if(xo===null){var o=xo=[];Sr=0,wl=Cu(),Il={status:"pending",value:void 0,then:function(s){o.push(s)}}}return Sr++,n.then(_f,_f),n}function _f(){if(--Sr===0&&xo!==null){Il!==null&&(Il.status="fulfilled");var e=xo;xo=null,wl=0,Il=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function $g(e,n){var o=[],s={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<o.length;d++)(0,o[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),s}var Cf=k.S;k.S=function(e,n){a0=ft(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Zg(e,n),Cf!==null&&Cf(e,n)};var Wi=b(null);function Er(){var e=Wi.current;return e!==null?e:it.pooledCache}function Ma(e,n){n===null?F(Wi,Wi.current):F(Wi,n.pool)}function Af(){var e=Er();return e===null?null:{parent:St._currentValue,pool:e}}var Dl=Error(a(460)),_r=Error(a(474)),ba=Error(a(542)),Ra={then:function(){}};function xf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Mf(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(On,On),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Rf(e),e;default:if(typeof n.status=="string")n.then(On,On);else{if(e=it,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Rf(e),e}throw el=n,Dl}}function ji(e){try{var n=e._init;return n(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(el=o,Dl):o}}var el=null;function bf(){if(el===null)throw Error(a(459));var e=el;return el=null,e}function Rf(e){if(e===Dl||e===ba)throw Error(a(483))}var Ll=null,Mo=0;function Na(e){var n=Mo;return Mo+=1,Ll===null&&(Ll=[]),Mf(Ll,e,n)}function bo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function wa(e,n){throw n.$$typeof===_?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Nf(e){function n(I,R){if(e){var U=I.deletions;U===null?(I.deletions=[R],I.flags|=16):U.push(R)}}function o(I,R){if(!e)return null;for(;R!==null;)n(I,R),R=R.sibling;return null}function s(I){for(var R=new Map;I!==null;)I.key!==null?R.set(I.key,I):R.set(I.index,I),I=I.sibling;return R}function d(I,R){return I=Yn(I,R),I.index=0,I.sibling=null,I}function h(I,R,U){return I.index=U,e?(U=I.alternate,U!==null?(U=U.index,U<R?(I.flags|=67108866,R):U):(I.flags|=67108866,R)):(I.flags|=1048576,R)}function S(I){return e&&I.alternate===null&&(I.flags|=67108866),I}function C(I,R,U,O){return R===null||R.tag!==6?(R=cr(U,I.mode,O),R.return=I,R):(R=d(R,U),R.return=I,R)}function M(I,R,U,O){var ye=U.type;return ye===P?z(I,R,U.props.children,O,U.key):R!==null&&(R.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===ve&&ji(ye)===R.type)?(R=d(R,U.props),bo(R,U),R.return=I,R):(R=_a(U.type,U.key,U.props,null,I.mode,O),bo(R,U),R.return=I,R)}function G(I,R,U,O){return R===null||R.tag!==4||R.stateNode.containerInfo!==U.containerInfo||R.stateNode.implementation!==U.implementation?(R=fr(U,I.mode,O),R.return=I,R):(R=d(R,U.children||[]),R.return=I,R)}function z(I,R,U,O,ye){return R===null||R.tag!==7?(R=Ki(U,I.mode,O,ye),R.return=I,R):(R=d(R,U),R.return=I,R)}function Y(I,R,U){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=cr(""+R,I.mode,U),R.return=I,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case A:return U=_a(R.type,R.key,R.props,null,I.mode,U),bo(U,R),U.return=I,U;case D:return R=fr(R,I.mode,U),R.return=I,R;case ve:return R=ji(R),Y(I,R,U)}if(ze(R)||re(R))return R=Ki(R,I.mode,U,null),R.return=I,R;if(typeof R.then=="function")return Y(I,Na(R),U);if(R.$$typeof===J)return Y(I,xa(I,R),U);wa(I,R)}return null}function H(I,R,U,O){var ye=R!==null?R.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ye!==null?null:C(I,R,""+U,O);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case A:return U.key===ye?M(I,R,U,O):null;case D:return U.key===ye?G(I,R,U,O):null;case ve:return U=ji(U),H(I,R,U,O)}if(ze(U)||re(U))return ye!==null?null:z(I,R,U,O,null);if(typeof U.then=="function")return H(I,R,Na(U),O);if(U.$$typeof===J)return H(I,R,xa(I,U),O);wa(I,U)}return null}function V(I,R,U,O,ye){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return I=I.get(U)||null,C(R,I,""+O,ye);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case A:return I=I.get(O.key===null?U:O.key)||null,M(R,I,O,ye);case D:return I=I.get(O.key===null?U:O.key)||null,G(R,I,O,ye);case ve:return O=ji(O),V(I,R,U,O,ye)}if(ze(O)||re(O))return I=I.get(U)||null,z(R,I,O,ye,null);if(typeof O.then=="function")return V(I,R,U,Na(O),ye);if(O.$$typeof===J)return V(I,R,U,xa(R,O),ye);wa(R,O)}return null}function de(I,R,U,O){for(var ye=null,Be=null,he=R,De=R=0,qe=null;he!==null&&De<U.length;De++){he.index>De?(qe=he,he=null):qe=he.sibling;var Oe=H(I,he,U[De],O);if(Oe===null){he===null&&(he=qe);break}e&&he&&Oe.alternate===null&&n(I,he),R=h(Oe,R,De),Be===null?ye=Oe:Be.sibling=Oe,Be=Oe,he=qe}if(De===U.length)return o(I,he),Ve&&Jn(I,De),ye;if(he===null){for(;De<U.length;De++)he=Y(I,U[De],O),he!==null&&(R=h(he,R,De),Be===null?ye=he:Be.sibling=he,Be=he);return Ve&&Jn(I,De),ye}for(he=s(he);De<U.length;De++)qe=V(he,I,De,U[De],O),qe!==null&&(e&&qe.alternate!==null&&he.delete(qe.key===null?De:qe.key),R=h(qe,R,De),Be===null?ye=qe:Be.sibling=qe,Be=qe);return e&&he.forEach(function(qi){return n(I,qi)}),Ve&&Jn(I,De),ye}function Se(I,R,U,O){if(U==null)throw Error(a(151));for(var ye=null,Be=null,he=R,De=R=0,qe=null,Oe=U.next();he!==null&&!Oe.done;De++,Oe=U.next()){he.index>De?(qe=he,he=null):qe=he.sibling;var qi=H(I,he,Oe.value,O);if(qi===null){he===null&&(he=qe);break}e&&he&&qi.alternate===null&&n(I,he),R=h(qi,R,De),Be===null?ye=qi:Be.sibling=qi,Be=qi,he=qe}if(Oe.done)return o(I,he),Ve&&Jn(I,De),ye;if(he===null){for(;!Oe.done;De++,Oe=U.next())Oe=Y(I,Oe.value,O),Oe!==null&&(R=h(Oe,R,De),Be===null?ye=Oe:Be.sibling=Oe,Be=Oe);return Ve&&Jn(I,De),ye}for(he=s(he);!Oe.done;De++,Oe=U.next())Oe=V(he,I,De,Oe.value,O),Oe!==null&&(e&&Oe.alternate!==null&&he.delete(Oe.key===null?De:Oe.key),R=h(Oe,R,De),Be===null?ye=Oe:Be.sibling=Oe,Be=Oe);return e&&he.forEach(function(rv){return n(I,rv)}),Ve&&Jn(I,De),ye}function je(I,R,U,O){if(typeof U=="object"&&U!==null&&U.type===P&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case A:e:{for(var ye=U.key;R!==null;){if(R.key===ye){if(ye=U.type,ye===P){if(R.tag===7){o(I,R.sibling),O=d(R,U.props.children),O.return=I,I=O;break e}}else if(R.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===ve&&ji(ye)===R.type){o(I,R.sibling),O=d(R,U.props),bo(O,U),O.return=I,I=O;break e}o(I,R);break}else n(I,R);R=R.sibling}U.type===P?(O=Ki(U.props.children,I.mode,O,U.key),O.return=I,I=O):(O=_a(U.type,U.key,U.props,null,I.mode,O),bo(O,U),O.return=I,I=O)}return S(I);case D:e:{for(ye=U.key;R!==null;){if(R.key===ye)if(R.tag===4&&R.stateNode.containerInfo===U.containerInfo&&R.stateNode.implementation===U.implementation){o(I,R.sibling),O=d(R,U.children||[]),O.return=I,I=O;break e}else{o(I,R);break}else n(I,R);R=R.sibling}O=fr(U,I.mode,O),O.return=I,I=O}return S(I);case ve:return U=ji(U),je(I,R,U,O)}if(ze(U))return de(I,R,U,O);if(re(U)){if(ye=re(U),typeof ye!="function")throw Error(a(150));return U=ye.call(U),Se(I,R,U,O)}if(typeof U.then=="function")return je(I,R,Na(U),O);if(U.$$typeof===J)return je(I,R,xa(I,U),O);wa(I,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,R!==null&&R.tag===6?(o(I,R.sibling),O=d(R,U),O.return=I,I=O):(o(I,R),O=cr(U,I.mode,O),O.return=I,I=O),S(I)):o(I,R)}return function(I,R,U,O){try{Mo=0;var ye=je(I,R,U,O);return Ll=null,ye}catch(he){if(he===Dl||he===ba)throw he;var Be=an(29,he,null,I.mode);return Be.lanes=O,Be.return=I,Be}finally{}}}var tl=Nf(!0),wf=Nf(!1),_i=!1;function Cr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ar(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ci(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ai(e,n,o){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ye&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=Ea(e),pf(e,null,o),n}return Sa(e,s,n,o),Ea(e)}function Ro(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,fl(e,o)}}function xr(e,n){var o=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var d=null,h=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};h===null?d=h=S:h=h.next=S,o=o.next}while(o!==null);h===null?d=h=n:h=h.next=n}else d=h=n;o={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:s.shared,callbacks:s.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var Mr=!1;function No(){if(Mr){var e=Il;if(e!==null)throw e}}function wo(e,n,o,s){Mr=!1;var d=e.updateQueue;_i=!1;var h=d.firstBaseUpdate,S=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var M=C,G=M.next;M.next=null,S===null?h=G:S.next=G,S=M;var z=e.alternate;z!==null&&(z=z.updateQueue,C=z.lastBaseUpdate,C!==S&&(C===null?z.firstBaseUpdate=G:C.next=G,z.lastBaseUpdate=M))}if(h!==null){var Y=d.baseState;S=0,z=G=M=null,C=h;do{var H=C.lane&-536870913,V=H!==C.lane;if(V?(Pe&H)===H:(s&H)===H){H!==0&&H===wl&&(Mr=!0),z!==null&&(z=z.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var de=e,Se=C;H=n;var je=o;switch(Se.tag){case 1:if(de=Se.payload,typeof de=="function"){Y=de.call(je,Y,H);break e}Y=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=Se.payload,H=typeof de=="function"?de.call(je,Y,H):de,H==null)break e;Y=E({},Y,H);break e;case 2:_i=!0}}H=C.callback,H!==null&&(e.flags|=64,V&&(e.flags|=8192),V=d.callbacks,V===null?d.callbacks=[H]:V.push(H))}else V={lane:H,tag:C.tag,payload:C.payload,callback:C.callback,next:null},z===null?(G=z=V,M=Y):z=z.next=V,S|=H;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;V=C,C=V.next,V.next=null,d.lastBaseUpdate=V,d.shared.pending=null}}while(!0);z===null&&(M=Y),d.baseState=M,d.firstBaseUpdate=G,d.lastBaseUpdate=z,h===null&&(d.shared.lanes=0),Ni|=S,e.lanes=S,e.memoizedState=Y}}function If(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Df(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)If(o[e],n)}var Ul=b(null),Ia=b(0);function Lf(e,n){e=ii,F(Ia,e),F(Ul,n),ii=e|n.baseLanes}function br(){F(Ia,ii),F(Ul,Ul.current)}function Rr(){ii=Ia.current,L(Ul),L(Ia)}var sn=b(null),yn=null;function xi(e){var n=e.alternate;F(yt,yt.current&1),F(sn,e),yn===null&&(n===null||Ul.current!==null||n.memoizedState!==null)&&(yn=e)}function Nr(e){F(yt,yt.current),F(sn,e),yn===null&&(yn=e)}function Uf(e){e.tag===22?(F(yt,yt.current),F(sn,e),yn===null&&(yn=e)):Mi()}function Mi(){F(yt,yt.current),F(sn,sn.current)}function rn(e){L(sn),yn===e&&(yn=null),L(yt)}var yt=b(0);function Da(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Gu(o)||ku(o)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Qn=0,Ie=null,$e=null,Et=null,La=!1,Gl=!1,nl=!1,Ua=0,Io=0,kl=null,Wg=0;function pt(){throw Error(a(321))}function wr(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!on(e[o],n[o]))return!1;return!0}function Ir(e,n,o,s,d,h){return Qn=h,Ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,k.H=e===null||e.memoizedState===null?yd:Jr,nl=!1,h=o(s,d),nl=!1,Gl&&(h=kf(n,o,s,d)),Gf(e),h}function Gf(e){k.H=Uo;var n=$e!==null&&$e.next!==null;if(Qn=0,Et=$e=Ie=null,La=!1,Io=0,kl=null,n)throw Error(a(300));e===null||_t||(e=e.dependencies,e!==null&&Aa(e)&&(_t=!0))}function kf(e,n,o,s){Ie=e;var d=0;do{if(Gl&&(kl=null),Io=0,Gl=!1,25<=d)throw Error(a(301));if(d+=1,Et=$e=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}k.H=vd,h=n(o,s)}while(Gl);return h}function jg(){var e=k.H,n=e.useState()[0];return n=typeof n.then=="function"?Do(n):n,e=e.useState()[0],($e!==null?$e.memoizedState:null)!==e&&(Ie.flags|=1024),n}function Dr(){var e=Ua!==0;return Ua=0,e}function Lr(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function Ur(e){if(La){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}La=!1}Qn=0,Et=$e=Ie=null,Gl=!1,Io=Ua=0,kl=null}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ie.memoizedState=Et=e:Et=Et.next=e,Et}function vt(){if($e===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var n=Et===null?Ie.memoizedState:Et.next;if(n!==null)Et=n,$e=e;else{if(e===null)throw Ie.alternate===null?Error(a(467)):Error(a(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Et===null?Ie.memoizedState=Et=e:Et=Et.next=e}return Et}function Ga(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Do(e){var n=Io;return Io+=1,kl===null&&(kl=[]),e=Mf(kl,e,n),n=Ie,(Et===null?n.memoizedState:Et.next)===null&&(n=n.alternate,k.H=n===null||n.memoizedState===null?yd:Jr),e}function ka(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Do(e);if(e.$$typeof===J)return Gt(e)}throw Error(a(438,String(e)))}function Gr(e){var n=null,o=Ie.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var s=Ie.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=Ga(),Ie.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),s=0;s<e;s++)o[s]=_e;return n.index++,o}function Zn(e,n){return typeof n=="function"?n(e):n}function Ha(e){var n=vt();return kr(n,$e,e)}function kr(e,n,o){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=o;var d=e.baseQueue,h=s.pending;if(h!==null){if(d!==null){var S=d.next;d.next=h.next,h.next=S}n.baseQueue=d=h,s.pending=null}if(h=e.baseState,d===null)e.memoizedState=h;else{n=d.next;var C=S=null,M=null,G=n,z=!1;do{var Y=G.lane&-536870913;if(Y!==G.lane?(Pe&Y)===Y:(Qn&Y)===Y){var H=G.revertLane;if(H===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),Y===wl&&(z=!0);else if((Qn&H)===H){G=G.next,H===wl&&(z=!0);continue}else Y={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(C=M=Y,S=h):M=M.next=Y,Ie.lanes|=H,Ni|=H;Y=G.action,nl&&o(h,Y),h=G.hasEagerState?G.eagerState:o(h,Y)}else H={lane:Y,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(C=M=H,S=h):M=M.next=H,Ie.lanes|=Y,Ni|=Y;G=G.next}while(G!==null&&G!==n);if(M===null?S=h:M.next=C,!on(h,e.memoizedState)&&(_t=!0,z&&(o=Il,o!==null)))throw o;e.memoizedState=h,e.baseState=S,e.baseQueue=M,s.lastRenderedState=h}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Hr(e){var n=vt(),o=n.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var s=o.dispatch,d=o.pending,h=n.memoizedState;if(d!==null){o.pending=null;var S=d=d.next;do h=e(h,S.action),S=S.next;while(S!==d);on(h,n.memoizedState)||(_t=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),o.lastRenderedState=h}return[h,s]}function Hf(e,n,o){var s=Ie,d=vt(),h=Ve;if(h){if(o===void 0)throw Error(a(407));o=o()}else o=n();var S=!on(($e||d).memoizedState,o);if(S&&(d.memoizedState=o,_t=!0),d=d.queue,Vr(Vf.bind(null,s,d,e),[e]),d.getSnapshot!==n||S||Et!==null&&Et.memoizedState.tag&1){if(s.flags|=2048,Hl(9,{destroy:void 0},qf.bind(null,s,d,o,n),null),it===null)throw Error(a(349));h||(Qn&127)!==0||Pf(s,n,o)}return o}function Pf(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=Ie.updateQueue,n===null?(n=Ga(),Ie.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function qf(e,n,o,s){n.value=o,n.getSnapshot=s,zf(n)&&Bf(e)}function Vf(e,n,o){return o(function(){zf(n)&&Bf(e)})}function zf(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!on(e,o)}catch{return!0}}function Bf(e){var n=Xi(e,2);n!==null&&nn(n,e,2)}function Pr(e){var n=Xt();if(typeof e=="function"){var o=e;if(e=o(),nl){In(!0);try{o()}finally{In(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:e},n}function Of(e,n,o,s){return e.baseState=o,kr(e,$e,typeof s=="function"?s:Zn)}function ey(e,n,o,s,d){if(Va(e))throw Error(a(485));if(e=n.action,e!==null){var h={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){h.listeners.push(S)}};k.T!==null?o(!0):h.isTransition=!1,s(h),o=n.pending,o===null?(h.next=n.pending=h,Ff(n,h)):(h.next=o.next,n.pending=o.next=h)}}function Ff(e,n){var o=n.action,s=n.payload,d=e.state;if(n.isTransition){var h=k.T,S={};k.T=S;try{var C=o(d,s),M=k.S;M!==null&&M(S,C),Yf(e,n,C)}catch(G){qr(e,n,G)}finally{h!==null&&S.types!==null&&(h.types=S.types),k.T=h}}else try{h=o(d,s),Yf(e,n,h)}catch(G){qr(e,n,G)}}function Yf(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(s){Jf(e,n,s)},function(s){return qr(e,n,s)}):Jf(e,n,o)}function Jf(e,n,o){n.status="fulfilled",n.value=o,Xf(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,Ff(e,o)))}function qr(e,n,o){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=o,Xf(n),n=n.next;while(n!==s)}e.action=null}function Xf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Kf(e,n){return n}function Qf(e,n){if(Ve){var o=it.formState;if(o!==null){e:{var s=Ie;if(Ve){if(st){t:{for(var d=st,h=gn;d.nodeType!==8;){if(!h){d=null;break t}if(d=vn(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){st=vn(d.nextSibling),s=d.data==="F!";break e}}Si(s)}s=!1}s&&(n=o[0])}}return o=Xt(),o.memoizedState=o.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kf,lastRenderedState:n},o.queue=s,o=hd.bind(null,Ie,s),s.dispatch=o,s=Pr(!1),h=Yr.bind(null,Ie,!1,s.queue),s=Xt(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,o=ey.bind(null,Ie,d,h,o),d.dispatch=o,s.memoizedState=e,[n,o,!1]}function Zf(e){var n=vt();return $f(n,$e,e)}function $f(e,n,o){if(n=kr(e,n,Kf)[0],e=Ha(Zn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Do(n)}catch(S){throw S===Dl?ba:S}else s=n;n=vt();var d=n.queue,h=d.dispatch;return o!==n.memoizedState&&(Ie.flags|=2048,Hl(9,{destroy:void 0},ty.bind(null,d,o),null)),[s,h,e]}function ty(e,n){e.action=n}function Wf(e){var n=vt(),o=$e;if(o!==null)return $f(n,o,e);vt(),n=n.memoizedState,o=vt();var s=o.queue.dispatch;return o.memoizedState=e,[n,s,!1]}function Hl(e,n,o,s){return e={tag:e,create:o,deps:s,inst:n,next:null},n=Ie.updateQueue,n===null&&(n=Ga(),Ie.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(s=o.next,o.next=e,e.next=s,n.lastEffect=e),e}function jf(){return vt().memoizedState}function Pa(e,n,o,s){var d=Xt();Ie.flags|=e,d.memoizedState=Hl(1|n,{destroy:void 0},o,s===void 0?null:s)}function qa(e,n,o,s){var d=vt();s=s===void 0?null:s;var h=d.memoizedState.inst;$e!==null&&s!==null&&wr(s,$e.memoizedState.deps)?d.memoizedState=Hl(n,h,o,s):(Ie.flags|=e,d.memoizedState=Hl(1|n,h,o,s))}function ed(e,n){Pa(8390656,8,e,n)}function Vr(e,n){qa(2048,8,e,n)}function ny(e){Ie.flags|=4;var n=Ie.updateQueue;if(n===null)n=Ga(),Ie.updateQueue=n,n.events=[e];else{var o=n.events;o===null?n.events=[e]:o.push(e)}}function td(e){var n=vt().memoizedState;return ny({ref:n,nextImpl:e}),function(){if((Ye&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function nd(e,n){return qa(4,2,e,n)}function id(e,n){return qa(4,4,e,n)}function ld(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function od(e,n,o){o=o!=null?o.concat([e]):null,qa(4,4,ld.bind(null,n,e),o)}function zr(){}function ad(e,n){var o=vt();n=n===void 0?null:n;var s=o.memoizedState;return n!==null&&wr(n,s[1])?s[0]:(o.memoizedState=[e,n],e)}function sd(e,n){var o=vt();n=n===void 0?null:n;var s=o.memoizedState;if(n!==null&&wr(n,s[1]))return s[0];if(s=e(),nl){In(!0);try{e()}finally{In(!1)}}return o.memoizedState=[s,n],s}function Br(e,n,o){return o===void 0||(Qn&1073741824)!==0&&(Pe&261930)===0?e.memoizedState=n:(e.memoizedState=o,e=r0(),Ie.lanes|=e,Ni|=e,o)}function rd(e,n,o,s){return on(o,n)?o:Ul.current!==null?(e=Br(e,o,s),on(e,n)||(_t=!0),e):(Qn&42)===0||(Qn&1073741824)!==0&&(Pe&261930)===0?(_t=!0,e.memoizedState=o):(e=r0(),Ie.lanes|=e,Ni|=e,n)}function ud(e,n,o,s,d){var h=$.p;$.p=h!==0&&8>h?h:8;var S=k.T,C={};k.T=C,Yr(e,!1,n,o);try{var M=d(),G=k.S;if(G!==null&&G(C,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var z=$g(M,s);Lo(e,n,z,fn(e))}else Lo(e,n,s,fn(e))}catch(Y){Lo(e,n,{then:function(){},status:"rejected",reason:Y},fn())}finally{$.p=h,S!==null&&C.types!==null&&(S.types=C.types),k.T=S}}function iy(){}function Or(e,n,o,s){if(e.tag!==5)throw Error(a(476));var d=cd(e).queue;ud(e,d,n,se,o===null?iy:function(){return fd(e),o(s)})}function cd(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:se},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function fd(e){var n=cd(e);n.next===null&&(n=e.alternate.memoizedState),Lo(e,n.next.queue,{},fn())}function Fr(){return Gt(Zo)}function dd(){return vt().memoizedState}function pd(){return vt().memoizedState}function ly(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=fn();e=Ci(o);var s=Ai(n,e,o);s!==null&&(nn(s,n,o),Ro(s,n,o)),n={cache:Tr()},e.payload=n;return}n=n.return}}function oy(e,n,o){var s=fn();o={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Va(e)?md(n,o):(o=rr(e,n,o,s),o!==null&&(nn(o,e,s),gd(o,n,s)))}function hd(e,n,o){var s=fn();Lo(e,n,o,s)}function Lo(e,n,o,s){var d={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Va(e))md(n,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var S=n.lastRenderedState,C=h(S,o);if(d.hasEagerState=!0,d.eagerState=C,on(C,S))return Sa(e,n,d,0),it===null&&Ta(),!1}catch{}finally{}if(o=rr(e,n,d,s),o!==null)return nn(o,e,s),gd(o,n,s),!0}return!1}function Yr(e,n,o,s){if(s={lane:2,revertLane:Cu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Va(e)){if(n)throw Error(a(479))}else n=rr(e,o,s,2),n!==null&&nn(n,e,2)}function Va(e){var n=e.alternate;return e===Ie||n!==null&&n===Ie}function md(e,n){Gl=La=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function gd(e,n,o){if((o&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,fl(e,o)}}var Uo={readContext:Gt,use:ka,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};Uo.useEffectEvent=pt;var yd={readContext:Gt,use:ka,useCallback:function(e,n){return Xt().memoizedState=[e,n===void 0?null:n],e},useContext:Gt,useEffect:ed,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,Pa(4194308,4,ld.bind(null,n,e),o)},useLayoutEffect:function(e,n){return Pa(4194308,4,e,n)},useInsertionEffect:function(e,n){Pa(4,2,e,n)},useMemo:function(e,n){var o=Xt();n=n===void 0?null:n;var s=e();if(nl){In(!0);try{e()}finally{In(!1)}}return o.memoizedState=[s,n],s},useReducer:function(e,n,o){var s=Xt();if(o!==void 0){var d=o(n);if(nl){In(!0);try{o(n)}finally{In(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=oy.bind(null,Ie,e),[s.memoizedState,e]},useRef:function(e){var n=Xt();return e={current:e},n.memoizedState=e},useState:function(e){e=Pr(e);var n=e.queue,o=hd.bind(null,Ie,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:zr,useDeferredValue:function(e,n){var o=Xt();return Br(o,e,n)},useTransition:function(){var e=Pr(!1);return e=ud.bind(null,Ie,e.queue,!0,!1),Xt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var s=Ie,d=Xt();if(Ve){if(o===void 0)throw Error(a(407));o=o()}else{if(o=n(),it===null)throw Error(a(349));(Pe&127)!==0||Pf(s,n,o)}d.memoizedState=o;var h={value:o,getSnapshot:n};return d.queue=h,ed(Vf.bind(null,s,h,e),[e]),s.flags|=2048,Hl(9,{destroy:void 0},qf.bind(null,s,h,o,n),null),o},useId:function(){var e=Xt(),n=it.identifierPrefix;if(Ve){var o=Un,s=Ln;o=(s&~(1<<32-Pt(s)-1)).toString(32)+o,n="_"+n+"R_"+o,o=Ua++,0<o&&(n+="H"+o.toString(32)),n+="_"}else o=Wg++,n="_"+n+"r_"+o.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Fr,useFormState:Qf,useActionState:Qf,useOptimistic:function(e){var n=Xt();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=Yr.bind(null,Ie,!0,o),o.dispatch=n,[e,n]},useMemoCache:Gr,useCacheRefresh:function(){return Xt().memoizedState=ly.bind(null,Ie)},useEffectEvent:function(e){var n=Xt(),o={impl:e};return n.memoizedState=o,function(){if((Ye&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},Jr={readContext:Gt,use:ka,useCallback:ad,useContext:Gt,useEffect:Vr,useImperativeHandle:od,useInsertionEffect:nd,useLayoutEffect:id,useMemo:sd,useReducer:Ha,useRef:jf,useState:function(){return Ha(Zn)},useDebugValue:zr,useDeferredValue:function(e,n){var o=vt();return rd(o,$e.memoizedState,e,n)},useTransition:function(){var e=Ha(Zn)[0],n=vt().memoizedState;return[typeof e=="boolean"?e:Do(e),n]},useSyncExternalStore:Hf,useId:dd,useHostTransitionStatus:Fr,useFormState:Zf,useActionState:Zf,useOptimistic:function(e,n){var o=vt();return Of(o,$e,e,n)},useMemoCache:Gr,useCacheRefresh:pd};Jr.useEffectEvent=td;var vd={readContext:Gt,use:ka,useCallback:ad,useContext:Gt,useEffect:Vr,useImperativeHandle:od,useInsertionEffect:nd,useLayoutEffect:id,useMemo:sd,useReducer:Hr,useRef:jf,useState:function(){return Hr(Zn)},useDebugValue:zr,useDeferredValue:function(e,n){var o=vt();return $e===null?Br(o,e,n):rd(o,$e.memoizedState,e,n)},useTransition:function(){var e=Hr(Zn)[0],n=vt().memoizedState;return[typeof e=="boolean"?e:Do(e),n]},useSyncExternalStore:Hf,useId:dd,useHostTransitionStatus:Fr,useFormState:Wf,useActionState:Wf,useOptimistic:function(e,n){var o=vt();return $e!==null?Of(o,$e,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Gr,useCacheRefresh:pd};vd.useEffectEvent=td;function Xr(e,n,o,s){n=e.memoizedState,o=o(s,n),o=o==null?n:E({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Kr={enqueueSetState:function(e,n,o){e=e._reactInternals;var s=fn(),d=Ci(s);d.payload=n,o!=null&&(d.callback=o),n=Ai(e,d,s),n!==null&&(nn(n,e,s),Ro(n,e,s))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var s=fn(),d=Ci(s);d.tag=1,d.payload=n,o!=null&&(d.callback=o),n=Ai(e,d,s),n!==null&&(nn(n,e,s),Ro(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=fn(),s=Ci(o);s.tag=2,n!=null&&(s.callback=n),n=Ai(e,s,o),n!==null&&(nn(n,e,o),Ro(n,e,o))}};function Td(e,n,o,s,d,h,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,h,S):n.prototype&&n.prototype.isPureReactComponent?!So(o,s)||!So(d,h):!0}function Sd(e,n,o,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,s),n.state!==e&&Kr.enqueueReplaceState(n,n.state,null)}function il(e,n){var o=n;if("ref"in n){o={};for(var s in n)s!=="ref"&&(o[s]=n[s])}if(e=e.defaultProps){o===n&&(o=E({},o));for(var d in e)o[d]===void 0&&(o[d]=e[d])}return o}function Ed(e){va(e)}function _d(e){console.error(e)}function Cd(e){va(e)}function za(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function Ad(e,n,o){try{var s=e.onCaughtError;s(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Qr(e,n,o){return o=Ci(o),o.tag=3,o.payload={element:null},o.callback=function(){za(e,n)},o}function xd(e){return e=Ci(e),e.tag=3,e}function Md(e,n,o,s){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var h=s.value;e.payload=function(){return d(h)},e.callback=function(){Ad(n,o,s)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){Ad(n,o,s),typeof d!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var C=s.stack;this.componentDidCatch(s.value,{componentStack:C!==null?C:""})})}function ay(e,n,o,s,d){if(o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=o.alternate,n!==null&&Nl(n,o,d,!0),o=sn.current,o!==null){switch(o.tag){case 31:case 13:return yn===null?ja():o.alternate===null&&ht===0&&(ht=3),o.flags&=-257,o.flags|=65536,o.lanes=d,s===Ra?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([s]):n.add(s),Su(e,s,d)),!1;case 22:return o.flags|=65536,s===Ra?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([s]):o.add(s)),Su(e,s,d)),!1}throw Error(a(435,o.tag))}return Su(e,s,d),ja(),!1}if(Ve)return n=sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==hr&&(e=Error(a(422),{cause:s}),Co(pn(e,o)))):(s!==hr&&(n=Error(a(423),{cause:s}),Co(pn(n,o))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=pn(s,o),d=Qr(e.stateNode,s,d),xr(e,d),ht!==4&&(ht=2)),!1;var h=Error(a(520),{cause:s});if(h=pn(h,o),Bo===null?Bo=[h]:Bo.push(h),ht!==4&&(ht=2),n===null)return!0;s=pn(s,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=d&-d,o.lanes|=e,e=Qr(o.stateNode,s,e),xr(o,e),!1;case 1:if(n=o.type,h=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(wi===null||!wi.has(h))))return o.flags|=65536,d&=-d,o.lanes|=d,d=xd(d),Md(d,e,o,s),xr(o,d),!1}o=o.return}while(o!==null);return!1}var Zr=Error(a(461)),_t=!1;function kt(e,n,o,s){n.child=e===null?wf(n,null,o,s):tl(n,e.child,o,s)}function bd(e,n,o,s,d){o=o.render;var h=n.ref;if("ref"in s){var S={};for(var C in s)C!=="ref"&&(S[C]=s[C])}else S=s;return $i(n),s=Ir(e,n,o,S,h,d),C=Dr(),e!==null&&!_t?(Lr(e,n,d),$n(e,n,d)):(Ve&&C&&dr(n),n.flags|=1,kt(e,n,s,d),n.child)}function Rd(e,n,o,s,d){if(e===null){var h=o.type;return typeof h=="function"&&!ur(h)&&h.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=h,Nd(e,n,h,s,d)):(e=_a(o.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!lu(e,d)){var S=h.memoizedProps;if(o=o.compare,o=o!==null?o:So,o(S,s)&&e.ref===n.ref)return $n(e,n,d)}return n.flags|=1,e=Yn(h,s),e.ref=n.ref,e.return=n,n.child=e}function Nd(e,n,o,s,d){if(e!==null){var h=e.memoizedProps;if(So(h,s)&&e.ref===n.ref)if(_t=!1,n.pendingProps=s=h,lu(e,d))(e.flags&131072)!==0&&(_t=!0);else return n.lanes=e.lanes,$n(e,n,d)}return $r(e,n,o,s,d)}function wd(e,n,o,s){var d=s.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|o:o,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~h}else s=0,n.child=null;return Id(e,n,h,o,s)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ma(n,h!==null?h.cachePool:null),h!==null?Lf(n,h):br(),Uf(n);else return s=n.lanes=536870912,Id(e,n,h!==null?h.baseLanes|o:o,o,s)}else h!==null?(Ma(n,h.cachePool),Lf(n,h),Mi(),n.memoizedState=null):(e!==null&&Ma(n,null),br(),Mi());return kt(e,n,d,o),n.child}function Go(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Id(e,n,o,s,d){var h=Er();return h=h===null?null:{parent:St._currentValue,pool:h},n.memoizedState={baseLanes:o,cachePool:h},e!==null&&Ma(n,null),br(),Uf(n),e!==null&&Nl(e,n,s,!0),n.childLanes=d,null}function Ba(e,n){return n=Fa({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Dd(e,n,o){return tl(n,e.child,null,o),e=Ba(n,n.pendingProps),e.flags|=2,rn(n),n.memoizedState=null,e}function sy(e,n,o){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ve){if(s.mode==="hidden")return e=Ba(n,s),n.lanes=536870912,Go(null,e);if(Nr(n),(e=st)?(e=F0(e,gn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vi!==null?{id:Ln,overflow:Un}:null,retryLane:536870912,hydrationErrors:null},o=mf(e),o.return=n,n.child=o,Ut=n,st=null)):e=null,e===null)throw Si(n);return n.lanes=536870912,null}return Ba(n,s)}var h=e.memoizedState;if(h!==null){var S=h.dehydrated;if(Nr(n),d)if(n.flags&256)n.flags&=-257,n=Dd(e,n,o);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(_t||Nl(e,n,o,!1),d=(o&e.childLanes)!==0,_t||d){if(s=it,s!==null&&(S=pi(s,o),S!==0&&S!==h.retryLane))throw h.retryLane=S,Xi(e,S),nn(s,e,S),Zr;ja(),n=Dd(e,n,o)}else e=h.treeContext,st=vn(S.nextSibling),Ut=n,Ve=!0,Ti=null,gn=!1,e!==null&&vf(n,e),n=Ba(n,s),n.flags|=4096;return n}return e=Yn(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Oa(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function $r(e,n,o,s,d){return $i(n),o=Ir(e,n,o,s,void 0,d),s=Dr(),e!==null&&!_t?(Lr(e,n,d),$n(e,n,d)):(Ve&&s&&dr(n),n.flags|=1,kt(e,n,o,d),n.child)}function Ld(e,n,o,s,d,h){return $i(n),n.updateQueue=null,o=kf(n,s,o,d),Gf(e),s=Dr(),e!==null&&!_t?(Lr(e,n,h),$n(e,n,h)):(Ve&&s&&dr(n),n.flags|=1,kt(e,n,o,h),n.child)}function Ud(e,n,o,s,d){if($i(n),n.stateNode===null){var h=xl,S=o.contextType;typeof S=="object"&&S!==null&&(h=Gt(S)),h=new o(s,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Kr,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=s,h.state=n.memoizedState,h.refs={},Cr(n),S=o.contextType,h.context=typeof S=="object"&&S!==null?Gt(S):xl,h.state=n.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Xr(n,o,S,s),h.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(S=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),S!==h.state&&Kr.enqueueReplaceState(h,h.state,null),wo(n,s,h,d),No(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){h=n.stateNode;var C=n.memoizedProps,M=il(o,C);h.props=M;var G=h.context,z=o.contextType;S=xl,typeof z=="object"&&z!==null&&(S=Gt(z));var Y=o.getDerivedStateFromProps;z=typeof Y=="function"||typeof h.getSnapshotBeforeUpdate=="function",C=n.pendingProps!==C,z||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(C||G!==S)&&Sd(n,h,s,S),_i=!1;var H=n.memoizedState;h.state=H,wo(n,s,h,d),No(),G=n.memoizedState,C||H!==G||_i?(typeof Y=="function"&&(Xr(n,o,Y,s),G=n.memoizedState),(M=_i||Td(n,o,M,s,H,G,S))?(z||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=G),h.props=s,h.state=G,h.context=S,s=M):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{h=n.stateNode,Ar(e,n),S=n.memoizedProps,z=il(o,S),h.props=z,Y=n.pendingProps,H=h.context,G=o.contextType,M=xl,typeof G=="object"&&G!==null&&(M=Gt(G)),C=o.getDerivedStateFromProps,(G=typeof C=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S!==Y||H!==M)&&Sd(n,h,s,M),_i=!1,H=n.memoizedState,h.state=H,wo(n,s,h,d),No();var V=n.memoizedState;S!==Y||H!==V||_i||e!==null&&e.dependencies!==null&&Aa(e.dependencies)?(typeof C=="function"&&(Xr(n,o,C,s),V=n.memoizedState),(z=_i||Td(n,o,z,s,H,V,M)||e!==null&&e.dependencies!==null&&Aa(e.dependencies))?(G||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,V,M),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,V,M)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||S===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=V),h.props=s,h.state=V,h.context=M,s=z):(typeof h.componentDidUpdate!="function"||S===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),s=!1)}return h=s,Oa(e,n),s=(n.flags&128)!==0,h||s?(h=n.stateNode,o=s&&typeof o.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&s?(n.child=tl(n,e.child,null,d),n.child=tl(n,null,o,d)):kt(e,n,o,d),n.memoizedState=h.state,e=n.child):e=$n(e,n,d),e}function Gd(e,n,o,s){return Qi(),n.flags|=256,kt(e,n,o,s),n.child}var Wr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jr(e){return{baseLanes:e,cachePool:Af()}}function eu(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=cn),e}function kd(e,n,o){var s=n.pendingProps,d=!1,h=(n.flags&128)!==0,S;if((S=h)||(S=e!==null&&e.memoizedState===null?!1:(yt.current&2)!==0),S&&(d=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ve){if(d?xi(n):Mi(),(e=st)?(e=F0(e,gn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vi!==null?{id:Ln,overflow:Un}:null,retryLane:536870912,hydrationErrors:null},o=mf(e),o.return=n,n.child=o,Ut=n,st=null)):e=null,e===null)throw Si(n);return ku(e)?n.lanes=32:n.lanes=536870912,null}var C=s.children;return s=s.fallback,d?(Mi(),d=n.mode,C=Fa({mode:"hidden",children:C},d),s=Ki(s,d,o,null),C.return=n,s.return=n,C.sibling=s,n.child=C,s=n.child,s.memoizedState=jr(o),s.childLanes=eu(e,S,o),n.memoizedState=Wr,Go(null,s)):(xi(n),tu(n,C))}var M=e.memoizedState;if(M!==null&&(C=M.dehydrated,C!==null)){if(h)n.flags&256?(xi(n),n.flags&=-257,n=nu(e,n,o)):n.memoizedState!==null?(Mi(),n.child=e.child,n.flags|=128,n=null):(Mi(),C=s.fallback,d=n.mode,s=Fa({mode:"visible",children:s.children},d),C=Ki(C,d,o,null),C.flags|=2,s.return=n,C.return=n,s.sibling=C,n.child=s,tl(n,e.child,null,o),s=n.child,s.memoizedState=jr(o),s.childLanes=eu(e,S,o),n.memoizedState=Wr,n=Go(null,s));else if(xi(n),ku(C)){if(S=C.nextSibling&&C.nextSibling.dataset,S)var G=S.dgst;S=G,s=Error(a(419)),s.stack="",s.digest=S,Co({value:s,source:null,stack:null}),n=nu(e,n,o)}else if(_t||Nl(e,n,o,!1),S=(o&e.childLanes)!==0,_t||S){if(S=it,S!==null&&(s=pi(S,o),s!==0&&s!==M.retryLane))throw M.retryLane=s,Xi(e,s),nn(S,e,s),Zr;Gu(C)||ja(),n=nu(e,n,o)}else Gu(C)?(n.flags|=192,n.child=e.child,n=null):(e=M.treeContext,st=vn(C.nextSibling),Ut=n,Ve=!0,Ti=null,gn=!1,e!==null&&vf(n,e),n=tu(n,s.children),n.flags|=4096);return n}return d?(Mi(),C=s.fallback,d=n.mode,M=e.child,G=M.sibling,s=Yn(M,{mode:"hidden",children:s.children}),s.subtreeFlags=M.subtreeFlags&65011712,G!==null?C=Yn(G,C):(C=Ki(C,d,o,null),C.flags|=2),C.return=n,s.return=n,s.sibling=C,n.child=s,Go(null,s),s=n.child,C=e.child.memoizedState,C===null?C=jr(o):(d=C.cachePool,d!==null?(M=St._currentValue,d=d.parent!==M?{parent:M,pool:M}:d):d=Af(),C={baseLanes:C.baseLanes|o,cachePool:d}),s.memoizedState=C,s.childLanes=eu(e,S,o),n.memoizedState=Wr,Go(e.child,s)):(xi(n),o=e.child,e=o.sibling,o=Yn(o,{mode:"visible",children:s.children}),o.return=n,o.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=o,n.memoizedState=null,o)}function tu(e,n){return n=Fa({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Fa(e,n){return e=an(22,e,null,n),e.lanes=0,e}function nu(e,n,o){return tl(n,e.child,null,o),e=tu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Hd(e,n,o){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),yr(e.return,n,o)}function iu(e,n,o,s,d,h){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:d,treeForkCount:h}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=s,S.tail=o,S.tailMode=d,S.treeForkCount=h)}function Pd(e,n,o){var s=n.pendingProps,d=s.revealOrder,h=s.tail;s=s.children;var S=yt.current,C=(S&2)!==0;if(C?(S=S&1|2,n.flags|=128):S&=1,F(yt,S),kt(e,n,s,o),s=Ve?_o:0,!C&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hd(e,o,n);else if(e.tag===19)Hd(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(o=n.child,d=null;o!==null;)e=o.alternate,e!==null&&Da(e)===null&&(d=o),o=o.sibling;o=d,o===null?(d=n.child,n.child=null):(d=o.sibling,o.sibling=null),iu(n,!1,d,o,h,s);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Da(e)===null){n.child=d;break}e=d.sibling,d.sibling=o,o=d,d=e}iu(n,!0,o,null,h,s);break;case"together":iu(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function $n(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),Ni|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(Nl(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,o=Yn(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=Yn(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function lu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Aa(e)))}function ry(e,n,o){switch(n.tag){case 3:Le(n,n.stateNode.containerInfo),Ei(n,St,e.memoizedState.cache),Qi();break;case 27:case 5:Ze(n);break;case 4:Le(n,n.stateNode.containerInfo);break;case 10:Ei(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Nr(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(xi(n),n.flags|=128,null):(o&n.child.childLanes)!==0?kd(e,n,o):(xi(n),e=$n(e,n,o),e!==null?e.sibling:null);xi(n);break;case 19:var d=(e.flags&128)!==0;if(s=(o&n.childLanes)!==0,s||(Nl(e,n,o,!1),s=(o&n.childLanes)!==0),d){if(s)return Pd(e,n,o);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),F(yt,yt.current),s)break;return null;case 22:return n.lanes=0,wd(e,n,o,n.pendingProps);case 24:Ei(n,St,e.memoizedState.cache)}return $n(e,n,o)}function qd(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)_t=!0;else{if(!lu(e,o)&&(n.flags&128)===0)return _t=!1,ry(e,n,o);_t=(e.flags&131072)!==0}else _t=!1,Ve&&(n.flags&1048576)!==0&&yf(n,_o,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=ji(n.elementType),n.type=e,typeof e=="function")ur(e)?(s=il(e,s),n.tag=1,n=Ud(null,n,e,s,o)):(n.tag=0,n=$r(null,n,e,s,o));else{if(e!=null){var d=e.$$typeof;if(d===te){n.tag=11,n=bd(null,n,e,s,o);break e}else if(d===Z){n.tag=14,n=Rd(null,n,e,s,o);break e}}throw n=Re(e)||e,Error(a(306,n,""))}}return n;case 0:return $r(e,n,n.type,n.pendingProps,o);case 1:return s=n.type,d=il(s,n.pendingProps),Ud(e,n,s,d,o);case 3:e:{if(Le(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var h=n.memoizedState;d=h.element,Ar(e,n),wo(n,s,null,o);var S=n.memoizedState;if(s=S.cache,Ei(n,St,s),s!==h.cache&&vr(n,[St],o,!0),No(),s=S.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Gd(e,n,s,o);break e}else if(s!==d){d=pn(Error(a(424)),n),Co(d),n=Gd(e,n,s,o);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(st=vn(e.firstChild),Ut=n,Ve=!0,Ti=null,gn=!0,o=wf(n,null,s,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Qi(),s===d){n=$n(e,n,o);break e}kt(e,n,s,o)}n=n.child}return n;case 26:return Oa(e,n),e===null?(o=Z0(n.type,null,n.pendingProps,null))?n.memoizedState=o:Ve||(o=n.type,e=n.pendingProps,s=as(Q.current).createElement(o),s[xt]=n,s[Dt]=e,Ht(s,o,e),Ee(s),n.stateNode=s):n.memoizedState=Z0(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ze(n),e===null&&Ve&&(s=n.stateNode=X0(n.type,n.pendingProps,Q.current),Ut=n,gn=!0,d=st,Ui(n.type)?(Hu=d,st=vn(s.firstChild)):st=d),kt(e,n,n.pendingProps.children,o),Oa(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ve&&((d=s=st)&&(s=Py(s,n.type,n.pendingProps,gn),s!==null?(n.stateNode=s,Ut=n,st=vn(s.firstChild),gn=!1,d=!0):d=!1),d||Si(n)),Ze(n),d=n.type,h=n.pendingProps,S=e!==null?e.memoizedProps:null,s=h.children,Du(d,h)?s=null:S!==null&&Du(d,S)&&(n.flags|=32),n.memoizedState!==null&&(d=Ir(e,n,jg,null,null,o),Zo._currentValue=d),Oa(e,n),kt(e,n,s,o),n.child;case 6:return e===null&&Ve&&((e=o=st)&&(o=qy(o,n.pendingProps,gn),o!==null?(n.stateNode=o,Ut=n,st=null,e=!0):e=!1),e||Si(n)),null;case 13:return kd(e,n,o);case 4:return Le(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=tl(n,null,s,o):kt(e,n,s,o),n.child;case 11:return bd(e,n,n.type,n.pendingProps,o);case 7:return kt(e,n,n.pendingProps,o),n.child;case 8:return kt(e,n,n.pendingProps.children,o),n.child;case 12:return kt(e,n,n.pendingProps.children,o),n.child;case 10:return s=n.pendingProps,Ei(n,n.type,s.value),kt(e,n,s.children,o),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,$i(n),d=Gt(d),s=s(d),n.flags|=1,kt(e,n,s,o),n.child;case 14:return Rd(e,n,n.type,n.pendingProps,o);case 15:return Nd(e,n,n.type,n.pendingProps,o);case 19:return Pd(e,n,o);case 31:return sy(e,n,o);case 22:return wd(e,n,o,n.pendingProps);case 24:return $i(n),s=Gt(St),e===null?(d=Er(),d===null&&(d=it,h=Tr(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=o),d=h),n.memoizedState={parent:s,cache:d},Cr(n),Ei(n,St,d)):((e.lanes&o)!==0&&(Ar(e,n),wo(n,null,null,o),No()),d=e.memoizedState,h=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Ei(n,St,s)):(s=h.cache,Ei(n,St,s),s!==d.cache&&vr(n,[St],o,!0))),kt(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Wn(e){e.flags|=4}function ou(e,n,o,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(d0())e.flags|=8192;else throw el=Ra,_r}else e.flags&=-16777217}function Vd(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!tp(n))if(d0())e.flags|=8192;else throw el=Ra,_r}function Ya(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ro():536870912,e.lanes|=n,zl|=n)}function ko(e,n){if(!Ve)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function rt(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,s=0;if(n)for(var d=e.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=o,n}function uy(e,n,o){var s=n.pendingProps;switch(pr(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(n),null;case 1:return rt(n),null;case 3:return o=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Kn(St),Me(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Rl(n)?Wn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,mr())),rt(n),null;case 26:var d=n.type,h=n.memoizedState;return e===null?(Wn(n),h!==null?(rt(n),Vd(n,h)):(rt(n),ou(n,d,null,s,o))):h?h!==e.memoizedState?(Wn(n),rt(n),Vd(n,h)):(rt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&Wn(n),rt(n),ou(n,d,e,s,o)),null;case 27:if(mt(n),o=Q.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&Wn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return rt(n),null}e=B.current,Rl(n)?Tf(n):(e=X0(d,s,o),n.stateNode=e,Wn(n))}return rt(n),null;case 5:if(mt(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&Wn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return rt(n),null}if(h=B.current,Rl(n))Tf(n);else{var S=as(Q.current);switch(h){case 1:h=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=S.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof s.is=="string"?S.createElement("select",{is:s.is}):S.createElement("select"),s.multiple?h.multiple=!0:s.size&&(h.size=s.size);break;default:h=typeof s.is=="string"?S.createElement(d,{is:s.is}):S.createElement(d)}}h[xt]=n,h[Dt]=s;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)h.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=h;e:switch(Ht(h,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Wn(n)}}return rt(n),ou(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,o),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&Wn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=Q.current,Rl(n)){if(e=n.stateNode,o=n.memoizedProps,s=null,d=Ut,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[xt]=n,e=!!(e.nodeValue===o||s!==null&&s.suppressHydrationWarning===!0||k0(e.nodeValue,o)),e||Si(n,!0)}else e=as(e).createTextNode(s),e[xt]=n,n.stateNode=e}return rt(n),null;case 31:if(o=n.memoizedState,e===null||e.memoizedState!==null){if(s=Rl(n),o!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[xt]=n}else Qi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;rt(n),e=!1}else o=mr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return n.flags&256?(rn(n),n):(rn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return rt(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Rl(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[xt]=n}else Qi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;rt(n),d=!1}else d=mr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(rn(n),n):(rn(n),null)}return rn(n),(n.flags&128)!==0?(n.lanes=o,n):(o=s!==null,e=e!==null&&e.memoizedState!==null,o&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==d&&(s.flags|=2048)),o!==e&&o&&(n.child.flags|=8192),Ya(n,n.updateQueue),rt(n),null);case 4:return Me(),e===null&&bu(n.stateNode.containerInfo),rt(n),null;case 10:return Kn(n.type),rt(n),null;case 19:if(L(yt),s=n.memoizedState,s===null)return rt(n),null;if(d=(n.flags&128)!==0,h=s.rendering,h===null)if(d)ko(s,!1);else{if(ht!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Da(e),h!==null){for(n.flags|=128,ko(s,!1),e=h.updateQueue,n.updateQueue=e,Ya(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)hf(o,e),o=o.sibling;return F(yt,yt.current&1|2),Ve&&Jn(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&ft()>Za&&(n.flags|=128,d=!0,ko(s,!1),n.lanes=4194304)}else{if(!d)if(e=Da(h),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,Ya(n,e),ko(s,!0),s.tail===null&&s.tailMode==="hidden"&&!h.alternate&&!Ve)return rt(n),null}else 2*ft()-s.renderingStartTime>Za&&o!==536870912&&(n.flags|=128,d=!0,ko(s,!1),n.lanes=4194304);s.isBackwards?(h.sibling=n.child,n.child=h):(e=s.last,e!==null?e.sibling=h:n.child=h,s.last=h)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ft(),e.sibling=null,o=yt.current,F(yt,d?o&1|2:o&1),Ve&&Jn(n,s.treeForkCount),e):(rt(n),null);case 22:case 23:return rn(n),Rr(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(o&536870912)!==0&&(n.flags&128)===0&&(rt(n),n.subtreeFlags&6&&(n.flags|=8192)):rt(n),o=n.updateQueue,o!==null&&Ya(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==o&&(n.flags|=2048),e!==null&&L(Wi),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Kn(St),rt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function cy(e,n){switch(pr(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Kn(St),Me(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return mt(n),null;case 31:if(n.memoizedState!==null){if(rn(n),n.alternate===null)throw Error(a(340));Qi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(rn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Qi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return L(yt),null;case 4:return Me(),null;case 10:return Kn(n.type),null;case 22:case 23:return rn(n),Rr(),e!==null&&L(Wi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Kn(St),null;case 25:return null;default:return null}}function zd(e,n){switch(pr(n),n.tag){case 3:Kn(St),Me();break;case 26:case 27:case 5:mt(n);break;case 4:Me();break;case 31:n.memoizedState!==null&&rn(n);break;case 13:rn(n);break;case 19:L(yt);break;case 10:Kn(n.type);break;case 22:case 23:rn(n),Rr(),e!==null&&L(Wi);break;case 24:Kn(St)}}function Ho(e,n){try{var o=n.updateQueue,s=o!==null?o.lastEffect:null;if(s!==null){var d=s.next;o=d;do{if((o.tag&e)===e){s=void 0;var h=o.create,S=o.inst;s=h(),S.destroy=s}o=o.next}while(o!==d)}}catch(C){Ke(n,n.return,C)}}function bi(e,n,o){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var h=d.next;s=h;do{if((s.tag&e)===e){var S=s.inst,C=S.destroy;if(C!==void 0){S.destroy=void 0,d=n;var M=o,G=C;try{G()}catch(z){Ke(d,M,z)}}}s=s.next}while(s!==h)}}catch(z){Ke(n,n.return,z)}}function Bd(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{Df(n,o)}catch(s){Ke(e,e.return,s)}}}function Od(e,n,o){o.props=il(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(s){Ke(e,n,s)}}function Po(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof o=="function"?e.refCleanup=o(s):o.current=s}}catch(d){Ke(e,n,d)}}function Gn(e,n){var o=e.ref,s=e.refCleanup;if(o!==null)if(typeof s=="function")try{s()}catch(d){Ke(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Ke(e,n,d)}else o.current=null}function Fd(e){var n=e.type,o=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break e;case"img":o.src?s.src=o.src:o.srcSet&&(s.srcset=o.srcSet)}}catch(d){Ke(e,e.return,d)}}function au(e,n,o){try{var s=e.stateNode;Dy(s,e.type,o,n),s[Dt]=n}catch(d){Ke(e,e.return,d)}}function Yd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ui(e.type)||e.tag===4}function su(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ui(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ru(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=On));else if(s!==4&&(s===27&&Ui(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(ru(e,n,o),e=e.sibling;e!==null;)ru(e,n,o),e=e.sibling}function Ja(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(s!==4&&(s===27&&Ui(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Ja(e,n,o),e=e.sibling;e!==null;)Ja(e,n,o),e=e.sibling}function Jd(e){var n=e.stateNode,o=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);Ht(n,s,o),n[xt]=e,n[Dt]=o}catch(h){Ke(e,e.return,h)}}var jn=!1,Ct=!1,uu=!1,Xd=typeof WeakSet=="function"?WeakSet:Set,wt=null;function fy(e,n){if(e=e.containerInfo,wu=ps,e=of(e),nr(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var d=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{o.nodeType,h.nodeType}catch{o=null;break e}var S=0,C=-1,M=-1,G=0,z=0,Y=e,H=null;t:for(;;){for(var V;Y!==o||d!==0&&Y.nodeType!==3||(C=S+d),Y!==h||s!==0&&Y.nodeType!==3||(M=S+s),Y.nodeType===3&&(S+=Y.nodeValue.length),(V=Y.firstChild)!==null;)H=Y,Y=V;for(;;){if(Y===e)break t;if(H===o&&++G===d&&(C=S),H===h&&++z===s&&(M=S),(V=Y.nextSibling)!==null)break;Y=H,H=Y.parentNode}Y=V}o=C===-1||M===-1?null:{start:C,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(Iu={focusedElem:e,selectionRange:o},ps=!1,wt=n;wt!==null;)if(n=wt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,wt=e;else for(;wt!==null;){switch(n=wt,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)d=e[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,o=n,d=h.memoizedProps,h=h.memoizedState,s=o.stateNode;try{var de=il(o.type,d);e=s.getSnapshotBeforeUpdate(de,h),s.__reactInternalSnapshotBeforeUpdate=e}catch(Se){Ke(o,o.return,Se)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)Uu(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Uu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,wt=e;break}wt=n.return}}function Kd(e,n,o){var s=o.flags;switch(o.tag){case 0:case 11:case 15:ti(e,o),s&4&&Ho(5,o);break;case 1:if(ti(e,o),s&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(S){Ke(o,o.return,S)}else{var d=il(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Ke(o,o.return,S)}}s&64&&Bd(o),s&512&&Po(o,o.return);break;case 3:if(ti(e,o),s&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{Df(e,n)}catch(S){Ke(o,o.return,S)}}break;case 27:n===null&&s&4&&Jd(o);case 26:case 5:ti(e,o),n===null&&s&4&&Fd(o),s&512&&Po(o,o.return);break;case 12:ti(e,o);break;case 31:ti(e,o),s&4&&$d(e,o);break;case 13:ti(e,o),s&4&&Wd(e,o),s&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=Sy.bind(null,o),Vy(e,o))));break;case 22:if(s=o.memoizedState!==null||jn,!s){n=n!==null&&n.memoizedState!==null||Ct,d=jn;var h=Ct;jn=s,(Ct=n)&&!h?ni(e,o,(o.subtreeFlags&8772)!==0):ti(e,o),jn=d,Ct=h}break;case 30:break;default:ti(e,o)}}function Qd(e){var n=e.alternate;n!==null&&(e.alternate=null,Qd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&w(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ct=null,Wt=!1;function ei(e,n,o){for(o=o.child;o!==null;)Zd(e,n,o),o=o.sibling}function Zd(e,n,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(ci,o)}catch{}switch(o.tag){case 26:Ct||Gn(o,n),ei(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ct||Gn(o,n);var s=ct,d=Wt;Ui(o.type)&&(ct=o.stateNode,Wt=!1),ei(e,n,o),Xo(o.stateNode),ct=s,Wt=d;break;case 5:Ct||Gn(o,n);case 6:if(s=ct,d=Wt,ct=null,ei(e,n,o),ct=s,Wt=d,ct!==null)if(Wt)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(o.stateNode)}catch(h){Ke(o,n,h)}else try{ct.removeChild(o.stateNode)}catch(h){Ke(o,n,h)}break;case 18:ct!==null&&(Wt?(e=ct,B0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Ql(e)):B0(ct,o.stateNode));break;case 4:s=ct,d=Wt,ct=o.stateNode.containerInfo,Wt=!0,ei(e,n,o),ct=s,Wt=d;break;case 0:case 11:case 14:case 15:bi(2,o,n),Ct||bi(4,o,n),ei(e,n,o);break;case 1:Ct||(Gn(o,n),s=o.stateNode,typeof s.componentWillUnmount=="function"&&Od(o,n,s)),ei(e,n,o);break;case 21:ei(e,n,o);break;case 22:Ct=(s=Ct)||o.memoizedState!==null,ei(e,n,o),Ct=s;break;default:ei(e,n,o)}}function $d(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ql(e)}catch(o){Ke(n,n.return,o)}}}function Wd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ql(e)}catch(o){Ke(n,n.return,o)}}function dy(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Xd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Xd),n;default:throw Error(a(435,e.tag))}}function Xa(e,n){var o=dy(e);n.forEach(function(s){if(!o.has(s)){o.add(s);var d=Ey.bind(null,e,s);s.then(d,d)}})}function jt(e,n){var o=n.deletions;if(o!==null)for(var s=0;s<o.length;s++){var d=o[s],h=e,S=n,C=S;e:for(;C!==null;){switch(C.tag){case 27:if(Ui(C.type)){ct=C.stateNode,Wt=!1;break e}break;case 5:ct=C.stateNode,Wt=!1;break e;case 3:case 4:ct=C.stateNode.containerInfo,Wt=!0;break e}C=C.return}if(ct===null)throw Error(a(160));Zd(h,S,d),ct=null,Wt=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)jd(n,e),n=n.sibling}var An=null;function jd(e,n){var o=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:jt(n,e),en(e),s&4&&(bi(3,e,e.return),Ho(3,e),bi(5,e,e.return));break;case 1:jt(n,e),en(e),s&512&&(Ct||o===null||Gn(o,o.return)),s&64&&jn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?s:o.concat(s))));break;case 26:var d=An;if(jt(n,e),en(e),s&512&&(Ct||o===null||Gn(o,o.return)),s&4){var h=o!==null?o.memoizedState:null;if(s=e.memoizedState,o===null)if(s===null)if(e.stateNode===null){e:{s=e.type,o=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":h=d.getElementsByTagName("title")[0],(!h||h[mi]||h[xt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(s),d.head.insertBefore(h,d.querySelector("head > title"))),Ht(h,s,o),h[xt]=e,Ee(h),s=h;break e;case"link":var S=j0("link","href",d).get(s+(o.href||""));if(S){for(var C=0;C<S.length;C++)if(h=S[C],h.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&h.getAttribute("rel")===(o.rel==null?null:o.rel)&&h.getAttribute("title")===(o.title==null?null:o.title)&&h.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(C,1);break t}}h=d.createElement(s),Ht(h,s,o),d.head.appendChild(h);break;case"meta":if(S=j0("meta","content",d).get(s+(o.content||""))){for(C=0;C<S.length;C++)if(h=S[C],h.getAttribute("content")===(o.content==null?null:""+o.content)&&h.getAttribute("name")===(o.name==null?null:o.name)&&h.getAttribute("property")===(o.property==null?null:o.property)&&h.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&h.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(C,1);break t}}h=d.createElement(s),Ht(h,s,o),d.head.appendChild(h);break;default:throw Error(a(468,s))}h[xt]=e,Ee(h),s=h}e.stateNode=s}else ep(d,e.type,e.stateNode);else e.stateNode=W0(d,s,e.memoizedProps);else h!==s?(h===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):h.count--,s===null?ep(d,e.type,e.stateNode):W0(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&au(e,e.memoizedProps,o.memoizedProps)}break;case 27:jt(n,e),en(e),s&512&&(Ct||o===null||Gn(o,o.return)),o!==null&&s&4&&au(e,e.memoizedProps,o.memoizedProps);break;case 5:if(jt(n,e),en(e),s&512&&(Ct||o===null||Gn(o,o.return)),e.flags&32){d=e.stateNode;try{vl(d,"")}catch(de){Ke(e,e.return,de)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,au(e,d,o!==null?o.memoizedProps:d)),s&1024&&(uu=!0);break;case 6:if(jt(n,e),en(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,o=e.stateNode;try{o.nodeValue=s}catch(de){Ke(e,e.return,de)}}break;case 3:if(us=null,d=An,An=ss(n.containerInfo),jt(n,e),An=d,en(e),s&4&&o!==null&&o.memoizedState.isDehydrated)try{Ql(n.containerInfo)}catch(de){Ke(e,e.return,de)}uu&&(uu=!1,e0(e));break;case 4:s=An,An=ss(e.stateNode.containerInfo),jt(n,e),en(e),An=s;break;case 12:jt(n,e),en(e);break;case 31:jt(n,e),en(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Xa(e,s)));break;case 13:jt(n,e),en(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Qa=ft()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Xa(e,s)));break;case 22:d=e.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,G=jn,z=Ct;if(jn=G||d,Ct=z||M,jt(n,e),Ct=z,jn=G,en(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(o===null||M||jn||Ct||ll(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){M=o=n;try{if(h=M.stateNode,d)S=h.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{C=M.stateNode;var Y=M.memoizedProps.style,H=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;C.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(de){Ke(M,M.return,de)}}}else if(n.tag===6){if(o===null){M=n;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(de){Ke(M,M.return,de)}}}else if(n.tag===18){if(o===null){M=n;try{var V=M.stateNode;d?O0(V,!0):O0(M.stateNode,!1)}catch(de){Ke(M,M.return,de)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(o=s.retryQueue,o!==null&&(s.retryQueue=null,Xa(e,o))));break;case 19:jt(n,e),en(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Xa(e,s)));break;case 30:break;case 21:break;default:jt(n,e),en(e)}}function en(e){var n=e.flags;if(n&2){try{for(var o,s=e.return;s!==null;){if(Yd(s)){o=s;break}s=s.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var d=o.stateNode,h=su(e);Ja(e,h,d);break;case 5:var S=o.stateNode;o.flags&32&&(vl(S,""),o.flags&=-33);var C=su(e);Ja(e,C,S);break;case 3:case 4:var M=o.stateNode.containerInfo,G=su(e);ru(e,G,M);break;default:throw Error(a(161))}}catch(z){Ke(e,e.return,z)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function e0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;e0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ti(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Kd(e,n.alternate,n),n=n.sibling}function ll(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:bi(4,n,n.return),ll(n);break;case 1:Gn(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&Od(n,n.return,o),ll(n);break;case 27:Xo(n.stateNode);case 26:case 5:Gn(n,n.return),ll(n);break;case 22:n.memoizedState===null&&ll(n);break;case 30:ll(n);break;default:ll(n)}e=e.sibling}}function ni(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,h=n,S=h.flags;switch(h.tag){case 0:case 11:case 15:ni(d,h,o),Ho(4,h);break;case 1:if(ni(d,h,o),s=h,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(G){Ke(s,s.return,G)}if(s=h,d=s.updateQueue,d!==null){var C=s.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)If(M[d],C)}catch(G){Ke(s,s.return,G)}}o&&S&64&&Bd(h),Po(h,h.return);break;case 27:Jd(h);case 26:case 5:ni(d,h,o),o&&s===null&&S&4&&Fd(h),Po(h,h.return);break;case 12:ni(d,h,o);break;case 31:ni(d,h,o),o&&S&4&&$d(d,h);break;case 13:ni(d,h,o),o&&S&4&&Wd(d,h);break;case 22:h.memoizedState===null&&ni(d,h,o),Po(h,h.return);break;case 30:break;default:ni(d,h,o)}n=n.sibling}}function cu(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Ao(o))}function fu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ao(e))}function xn(e,n,o,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)t0(e,n,o,s),n=n.sibling}function t0(e,n,o,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:xn(e,n,o,s),d&2048&&Ho(9,n);break;case 1:xn(e,n,o,s);break;case 3:xn(e,n,o,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ao(e)));break;case 12:if(d&2048){xn(e,n,o,s),e=n.stateNode;try{var h=n.memoizedProps,S=h.id,C=h.onPostCommit;typeof C=="function"&&C(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){Ke(n,n.return,M)}}else xn(e,n,o,s);break;case 31:xn(e,n,o,s);break;case 13:xn(e,n,o,s);break;case 23:break;case 22:h=n.stateNode,S=n.alternate,n.memoizedState!==null?h._visibility&2?xn(e,n,o,s):qo(e,n):h._visibility&2?xn(e,n,o,s):(h._visibility|=2,Pl(e,n,o,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&cu(S,n);break;case 24:xn(e,n,o,s),d&2048&&fu(n.alternate,n);break;default:xn(e,n,o,s)}}function Pl(e,n,o,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,S=n,C=o,M=s,G=S.flags;switch(S.tag){case 0:case 11:case 15:Pl(h,S,C,M,d),Ho(8,S);break;case 23:break;case 22:var z=S.stateNode;S.memoizedState!==null?z._visibility&2?Pl(h,S,C,M,d):qo(h,S):(z._visibility|=2,Pl(h,S,C,M,d)),d&&G&2048&&cu(S.alternate,S);break;case 24:Pl(h,S,C,M,d),d&&G&2048&&fu(S.alternate,S);break;default:Pl(h,S,C,M,d)}n=n.sibling}}function qo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,s=n,d=s.flags;switch(s.tag){case 22:qo(o,s),d&2048&&cu(s.alternate,s);break;case 24:qo(o,s),d&2048&&fu(s.alternate,s);break;default:qo(o,s)}n=n.sibling}}var Vo=8192;function ql(e,n,o){if(e.subtreeFlags&Vo)for(e=e.child;e!==null;)n0(e,n,o),e=e.sibling}function n0(e,n,o){switch(e.tag){case 26:ql(e,n,o),e.flags&Vo&&e.memoizedState!==null&&Wy(o,An,e.memoizedState,e.memoizedProps);break;case 5:ql(e,n,o);break;case 3:case 4:var s=An;An=ss(e.stateNode.containerInfo),ql(e,n,o),An=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Vo,Vo=16777216,ql(e,n,o),Vo=s):ql(e,n,o));break;default:ql(e,n,o)}}function i0(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function zo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];wt=s,o0(s,e)}i0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)l0(e),e=e.sibling}function l0(e){switch(e.tag){case 0:case 11:case 15:zo(e),e.flags&2048&&bi(9,e,e.return);break;case 3:zo(e);break;case 12:zo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ka(e)):zo(e);break;default:zo(e)}}function Ka(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];wt=s,o0(s,e)}i0(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:bi(8,n,n.return),Ka(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,Ka(n));break;default:Ka(n)}e=e.sibling}}function o0(e,n){for(;wt!==null;){var o=wt;switch(o.tag){case 0:case 11:case 15:bi(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var s=o.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ao(o.memoizedState.cache)}if(s=o.child,s!==null)s.return=o,wt=s;else e:for(o=e;wt!==null;){s=wt;var d=s.sibling,h=s.return;if(Qd(s),s===o){wt=null;break e}if(d!==null){d.return=h,wt=d;break e}wt=h}}}var py={getCacheForType:function(e){var n=Gt(St),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o},cacheSignal:function(){return Gt(St).controller.signal}},hy=typeof WeakMap=="function"?WeakMap:Map,Ye=0,it=null,ke=null,Pe=0,Xe=0,un=null,Ri=!1,Vl=!1,du=!1,ii=0,ht=0,Ni=0,ol=0,pu=0,cn=0,zl=0,Bo=null,tn=null,hu=!1,Qa=0,a0=0,Za=1/0,$a=null,wi=null,Mt=0,Ii=null,Bl=null,li=0,mu=0,gu=null,s0=null,Oo=0,yu=null;function fn(){return(Ye&2)!==0&&Pe!==0?Pe&-Pe:k.T!==null?Cu():qt()}function r0(){if(cn===0)if((Pe&536870912)===0||Ve){var e=Hn;Hn<<=1,(Hn&3932160)===0&&(Hn=262144),cn=e}else cn=536870912;return e=sn.current,e!==null&&(e.flags|=32),cn}function nn(e,n,o){(e===it&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)&&(Ol(e,0),Di(e,Pe,cn,!1)),Jt(e,o),((Ye&2)===0||e!==it)&&(e===it&&((Ye&2)===0&&(ol|=o),ht===4&&Di(e,Pe,cn,!1)),kn(e))}function u0(e,n,o){if((Ye&6)!==0)throw Error(a(327));var s=!o&&(n&127)===0&&(n&e.expiredLanes)===0||Bi(e,n),d=s?yy(e,n):Tu(e,n,!0),h=s;do{if(d===0){Vl&&!s&&Di(e,n,0,!1);break}else{if(o=e.current.alternate,h&&!my(o)){d=Tu(e,n,!1),h=!1;continue}if(d===2){if(h=n,e.errorRecoveryDisabledLanes&h)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var C=e;d=Bo;var M=C.current.memoizedState.isDehydrated;if(M&&(Ol(C,S).flags|=256),S=Tu(C,S,!1),S!==2){if(du&&!M){C.errorRecoveryDisabledLanes|=h,ol|=h,d=4;break e}h=tn,tn=d,h!==null&&(tn===null?tn=h:tn.push.apply(tn,h))}d=S}if(h=!1,d!==2)continue}}if(d===1){Ol(e,0),Di(e,n,0,!0);break}e:{switch(s=e,h=d,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Di(s,n,cn,!Ri);break e;case 2:tn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=Qa+300-ft(),10<d)){if(Di(s,n,cn,!Ri),cl(s,0,!0)!==0)break e;li=n,s.timeoutHandle=V0(c0.bind(null,s,o,tn,$a,hu,n,cn,ol,zl,Ri,h,"Throttled",-0,0),d);break e}c0(s,o,tn,$a,hu,n,cn,ol,zl,Ri,h,null,-0,0)}}break}while(!0);kn(e)}function c0(e,n,o,s,d,h,S,C,M,G,z,Y,H,V){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:On},n0(n,h,Y);var de=(h&62914560)===h?Qa-ft():(h&4194048)===h?a0-ft():0;if(de=jy(Y,de),de!==null){li=h,e.cancelPendingCommit=de(v0.bind(null,e,n,h,o,s,d,S,C,M,z,Y,null,H,V)),Di(e,h,S,!G);return}}v0(e,n,h,o,s,d,S,C,M)}function my(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var s=0;s<o.length;s++){var d=o[s],h=d.getSnapshot;d=d.value;try{if(!on(h(),d))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Di(e,n,o,s){n&=~pu,n&=~ol,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var h=31-Pt(d),S=1<<h;s[h]=-1,d&=~S}o!==0&&uo(e,o,n)}function Wa(){return(Ye&6)===0?(Fo(0),!1):!0}function vu(){if(ke!==null){if(Xe===0)var e=ke.return;else e=ke,Xn=Zi=null,Ur(e),Ll=null,Mo=0,e=ke;for(;e!==null;)zd(e.alternate,e),e=e.return;ke=null}}function Ol(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,Gy(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),li=0,vu(),it=e,ke=o=Yn(e.current,null),Pe=n,Xe=0,un=null,Ri=!1,Vl=Bi(e,n),du=!1,zl=cn=pu=ol=Ni=ht=0,tn=Bo=null,hu=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-Pt(s),h=1<<d;n|=e[d],s&=~h}return ii=n,Ta(),o}function f0(e,n){Ie=null,k.H=Uo,n===Dl||n===ba?(n=bf(),Xe=3):n===_r?(n=bf(),Xe=4):Xe=n===Zr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,ke===null&&(ht=1,za(e,pn(n,e.current)))}function d0(){var e=sn.current;return e===null?!0:(Pe&4194048)===Pe?yn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?e===yn:!1}function p0(){var e=k.H;return k.H=Uo,e===null?Uo:e}function h0(){var e=k.A;return k.A=py,e}function ja(){ht=4,Ri||(Pe&4194048)!==Pe&&sn.current!==null||(Vl=!0),(Ni&134217727)===0&&(ol&134217727)===0||it===null||Di(it,Pe,cn,!1)}function Tu(e,n,o){var s=Ye;Ye|=2;var d=p0(),h=h0();(it!==e||Pe!==n)&&($a=null,Ol(e,n)),n=!1;var S=ht;e:do try{if(Xe!==0&&ke!==null){var C=ke,M=un;switch(Xe){case 8:vu(),S=6;break e;case 3:case 2:case 9:case 6:sn.current===null&&(n=!0);var G=Xe;if(Xe=0,un=null,Fl(e,C,M,G),o&&Vl){S=0;break e}break;default:G=Xe,Xe=0,un=null,Fl(e,C,M,G)}}gy(),S=ht;break}catch(z){f0(e,z)}while(!0);return n&&e.shellSuspendCounter++,Xn=Zi=null,Ye=s,k.H=d,k.A=h,ke===null&&(it=null,Pe=0,Ta()),S}function gy(){for(;ke!==null;)m0(ke)}function yy(e,n){var o=Ye;Ye|=2;var s=p0(),d=h0();it!==e||Pe!==n?($a=null,Za=ft()+500,Ol(e,n)):Vl=Bi(e,n);e:do try{if(Xe!==0&&ke!==null){n=ke;var h=un;t:switch(Xe){case 1:Xe=0,un=null,Fl(e,n,h,1);break;case 2:case 9:if(xf(h)){Xe=0,un=null,g0(n);break}n=function(){Xe!==2&&Xe!==9||it!==e||(Xe=7),kn(e)},h.then(n,n);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:xf(h)?(Xe=0,un=null,g0(n)):(Xe=0,un=null,Fl(e,n,h,7));break;case 5:var S=null;switch(ke.tag){case 26:S=ke.memoizedState;case 5:case 27:var C=ke;if(S?tp(S):C.stateNode.complete){Xe=0,un=null;var M=C.sibling;if(M!==null)ke=M;else{var G=C.return;G!==null?(ke=G,es(G)):ke=null}break t}}Xe=0,un=null,Fl(e,n,h,5);break;case 6:Xe=0,un=null,Fl(e,n,h,6);break;case 8:vu(),ht=6;break e;default:throw Error(a(462))}}vy();break}catch(z){f0(e,z)}while(!0);return Xn=Zi=null,k.H=s,k.A=d,Ye=o,ke!==null?0:(it=null,Pe=0,Ta(),ht)}function vy(){for(;ke!==null&&!lt();)m0(ke)}function m0(e){var n=qd(e.alternate,e,ii);e.memoizedProps=e.pendingProps,n===null?es(e):ke=n}function g0(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=Ld(o,n,n.pendingProps,n.type,void 0,Pe);break;case 11:n=Ld(o,n,n.pendingProps,n.type.render,n.ref,Pe);break;case 5:Ur(n);default:zd(o,n),n=ke=hf(n,ii),n=qd(o,n,ii)}e.memoizedProps=e.pendingProps,n===null?es(e):ke=n}function Fl(e,n,o,s){Xn=Zi=null,Ur(n),Ll=null,Mo=0;var d=n.return;try{if(ay(e,d,n,o,Pe)){ht=1,za(e,pn(o,e.current)),ke=null;return}}catch(h){if(d!==null)throw ke=d,h;ht=1,za(e,pn(o,e.current)),ke=null;return}n.flags&32768?(Ve||s===1?e=!0:Vl||(Pe&536870912)!==0?e=!1:(Ri=e=!0,(s===2||s===9||s===3||s===6)&&(s=sn.current,s!==null&&s.tag===13&&(s.flags|=16384))),y0(n,e)):es(n)}function es(e){var n=e;do{if((n.flags&32768)!==0){y0(n,Ri);return}e=n.return;var o=uy(n.alternate,n,ii);if(o!==null){ke=o;return}if(n=n.sibling,n!==null){ke=n;return}ke=n=e}while(n!==null);ht===0&&(ht=5)}function y0(e,n){do{var o=cy(e.alternate,e);if(o!==null){o.flags&=32767,ke=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){ke=e;return}ke=e=o}while(e!==null);ht=6,ke=null}function v0(e,n,o,s,d,h,S,C,M){e.cancelPendingCommit=null;do ts();while(Mt!==0);if((Ye&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(h=n.lanes|n.childLanes,h|=sr,ra(e,o,h,S,C,M),e===it&&(ke=it=null,Pe=0),Bl=n,Ii=e,li=o,mu=h,gu=d,s0=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_y(Rt,function(){return C0(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=k.T,k.T=null,d=$.p,$.p=2,S=Ye,Ye|=4;try{fy(e,n,o)}finally{Ye=S,$.p=d,k.T=s}}Mt=1,T0(),S0(),E0()}}function T0(){if(Mt===1){Mt=0;var e=Ii,n=Bl,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=k.T,k.T=null;var s=$.p;$.p=2;var d=Ye;Ye|=4;try{jd(n,e);var h=Iu,S=of(e.containerInfo),C=h.focusedElem,M=h.selectionRange;if(S!==C&&C&&C.ownerDocument&&lf(C.ownerDocument.documentElement,C)){if(M!==null&&nr(C)){var G=M.start,z=M.end;if(z===void 0&&(z=G),"selectionStart"in C)C.selectionStart=G,C.selectionEnd=Math.min(z,C.value.length);else{var Y=C.ownerDocument||document,H=Y&&Y.defaultView||window;if(H.getSelection){var V=H.getSelection(),de=C.textContent.length,Se=Math.min(M.start,de),je=M.end===void 0?Se:Math.min(M.end,de);!V.extend&&Se>je&&(S=je,je=Se,Se=S);var I=nf(C,Se),R=nf(C,je);if(I&&R&&(V.rangeCount!==1||V.anchorNode!==I.node||V.anchorOffset!==I.offset||V.focusNode!==R.node||V.focusOffset!==R.offset)){var U=Y.createRange();U.setStart(I.node,I.offset),V.removeAllRanges(),Se>je?(V.addRange(U),V.extend(R.node,R.offset)):(U.setEnd(R.node,R.offset),V.addRange(U))}}}}for(Y=[],V=C;V=V.parentNode;)V.nodeType===1&&Y.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<Y.length;C++){var O=Y[C];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}ps=!!wu,Iu=wu=null}finally{Ye=d,$.p=s,k.T=o}}e.current=n,Mt=2}}function S0(){if(Mt===2){Mt=0;var e=Ii,n=Bl,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=k.T,k.T=null;var s=$.p;$.p=2;var d=Ye;Ye|=4;try{Kd(e,n.alternate,n)}finally{Ye=d,$.p=s,k.T=o}}Mt=3}}function E0(){if(Mt===4||Mt===3){Mt=0,Ft();var e=Ii,n=Bl,o=li,s=s0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Mt=5:(Mt=0,Bl=Ii=null,_0(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(wi=null),qn(o),n=n.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(ci,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=k.T,d=$.p,$.p=2,k.T=null;try{for(var h=e.onRecoverableError,S=0;S<s.length;S++){var C=s[S];h(C.value,{componentStack:C.stack})}}finally{k.T=n,$.p=d}}(li&3)!==0&&ts(),kn(e),d=e.pendingLanes,(o&261930)!==0&&(d&42)!==0?e===yu?Oo++:(Oo=0,yu=e):Oo=0,Fo(0)}}function _0(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ao(n)))}function ts(){return T0(),S0(),E0(),C0()}function C0(){if(Mt!==5)return!1;var e=Ii,n=mu;mu=0;var o=qn(li),s=k.T,d=$.p;try{$.p=32>o?32:o,k.T=null,o=gu,gu=null;var h=Ii,S=li;if(Mt=0,Bl=Ii=null,li=0,(Ye&6)!==0)throw Error(a(331));var C=Ye;if(Ye|=4,l0(h.current),t0(h,h.current,S,o),Ye=C,Fo(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(ci,h)}catch{}return!0}finally{$.p=d,k.T=s,_0(e,n)}}function A0(e,n,o){n=pn(o,n),n=Qr(e.stateNode,n,2),e=Ai(e,n,2),e!==null&&(Jt(e,2),kn(e))}function Ke(e,n,o){if(e.tag===3)A0(e,e,o);else for(;n!==null;){if(n.tag===3){A0(n,e,o);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(wi===null||!wi.has(s))){e=pn(o,e),o=xd(2),s=Ai(n,o,2),s!==null&&(Md(o,s,n,e),Jt(s,2),kn(s));break}}n=n.return}}function Su(e,n,o){var s=e.pingCache;if(s===null){s=e.pingCache=new hy;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(o)||(du=!0,d.add(o),e=Ty.bind(null,e,n,o),n.then(e,e))}function Ty(e,n,o){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,it===e&&(Pe&o)===o&&(ht===4||ht===3&&(Pe&62914560)===Pe&&300>ft()-Qa?(Ye&2)===0&&Ol(e,0):pu|=o,zl===Pe&&(zl=0)),kn(e)}function x0(e,n){n===0&&(n=ro()),e=Xi(e,n),e!==null&&(Jt(e,n),kn(e))}function Sy(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),x0(e,o)}function Ey(e,n){var o=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(o=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),x0(e,o)}function _y(e,n){return Zt(e,n)}var ns=null,Yl=null,Eu=!1,is=!1,_u=!1,Li=0;function kn(e){e!==Yl&&e.next===null&&(Yl===null?ns=Yl=e:Yl=Yl.next=e),is=!0,Eu||(Eu=!0,Ay())}function Fo(e,n){if(!_u&&is){_u=!0;do for(var o=!1,s=ns;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var h=0;else{var S=s.suspendedLanes,C=s.pingedLanes;h=(1<<31-Pt(42|e)+1)-1,h&=d&~(S&~C),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(o=!0,N0(s,h))}else h=Pe,h=cl(s,s===it?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(h&3)===0||Bi(s,h)||(o=!0,N0(s,h));s=s.next}while(o);_u=!1}}function Cy(){M0()}function M0(){is=Eu=!1;var e=0;Li!==0&&Uy()&&(e=Li);for(var n=ft(),o=null,s=ns;s!==null;){var d=s.next,h=b0(s,n);h===0?(s.next=null,o===null?ns=d:o.next=d,d===null&&(Yl=o)):(o=s,(e!==0||(h&3)!==0)&&(is=!0)),s=d}Mt!==0&&Mt!==5||Fo(e),Li!==0&&(Li=0)}function b0(e,n){for(var o=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var S=31-Pt(h),C=1<<S,M=d[S];M===-1?((C&o)===0||(C&s)!==0)&&(d[S]=sa(C,n)):M<=n&&(e.expiredLanes|=C),h&=~C}if(n=it,o=Pe,o=cl(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,o===0||e===n&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Ge(s),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||Bi(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(s!==null&&Ge(s),qn(o)){case 2:case 8:o=rl;break;case 32:o=Rt;break;case 268435456:o=oo;break;default:o=Rt}return s=R0.bind(null,e),o=Zt(o,s),e.callbackPriority=n,e.callbackNode=o,n}return s!==null&&s!==null&&Ge(s),e.callbackPriority=2,e.callbackNode=null,2}function R0(e,n){if(Mt!==0&&Mt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(ts()&&e.callbackNode!==o)return null;var s=Pe;return s=cl(e,e===it?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(u0(e,s,n),b0(e,ft()),e.callbackNode!=null&&e.callbackNode===o?R0.bind(null,e):null)}function N0(e,n){if(ts())return null;u0(e,n,!0)}function Ay(){ky(function(){(Ye&6)!==0?Zt(lo,Cy):M0()})}function Cu(){if(Li===0){var e=wl;e===0&&(e=fi,fi<<=1,(fi&261888)===0&&(fi=256)),Li=e}return Li}function w0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fa(""+e)}function I0(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function xy(e,n,o,s,d){if(n==="submit"&&o&&o.stateNode===d){var h=w0((d[Dt]||null).action),S=s.submitter;S&&(n=(n=S[Dt]||null)?w0(n.formAction):S.getAttribute("formAction"),n!==null&&(h=n,S=null));var C=new ma("action","action",null,s,d);e.push({event:C,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Li!==0){var M=S?I0(d,S):new FormData(d);Or(o,{pending:!0,data:M,method:d.method,action:h},null,M)}}else typeof h=="function"&&(C.preventDefault(),M=S?I0(d,S):new FormData(d),Or(o,{pending:!0,data:M,method:d.method,action:h},h,M))},currentTarget:d}]})}}for(var Au=0;Au<ar.length;Au++){var xu=ar[Au],My=xu.toLowerCase(),by=xu[0].toUpperCase()+xu.slice(1);Cn(My,"on"+by)}Cn(rf,"onAnimationEnd"),Cn(uf,"onAnimationIteration"),Cn(cf,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(Og,"onTransitionRun"),Cn(Fg,"onTransitionStart"),Cn(Yg,"onTransitionCancel"),Cn(ff,"onTransitionEnd"),Vt("onMouseEnter",["mouseout","mouseover"]),Vt("onMouseLeave",["mouseout","mouseover"]),Vt("onPointerEnter",["pointerout","pointerover"]),Vt("onPointerLeave",["pointerout","pointerover"]),Ae("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ae("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ae("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ae("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ae("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ae("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ry=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yo));function D0(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var s=e[o],d=s.event;s=s.listeners;e:{var h=void 0;if(n)for(var S=s.length-1;0<=S;S--){var C=s[S],M=C.instance,G=C.currentTarget;if(C=C.listener,M!==h&&d.isPropagationStopped())break e;h=C,d.currentTarget=G;try{h(d)}catch(z){va(z)}d.currentTarget=null,h=M}else for(S=0;S<s.length;S++){if(C=s[S],M=C.instance,G=C.currentTarget,C=C.listener,M!==h&&d.isPropagationStopped())break e;h=C,d.currentTarget=G;try{h(d)}catch(z){va(z)}d.currentTarget=null,h=M}}}}function He(e,n){var o=n[dl];o===void 0&&(o=n[dl]=new Set);var s=e+"__bubble";o.has(s)||(L0(n,e,2,!1),o.add(s))}function Mu(e,n,o){var s=0;n&&(s|=4),L0(o,e,s,n)}var ls="_reactListening"+Math.random().toString(36).slice(2);function bu(e){if(!e[ls]){e[ls]=!0,Je.forEach(function(o){o!=="selectionchange"&&(Ry.has(o)||Mu(o,!1,e),Mu(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ls]||(n[ls]=!0,Mu("selectionchange",!1,n))}}function L0(e,n,o,s){switch(rp(n)){case 2:var d=nv;break;case 8:d=iv;break;default:d=Bu}o=d.bind(null,n,o,e),d=void 0,!Xs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,o,{capture:!0,passive:d}):e.addEventListener(n,o,!0):d!==void 0?e.addEventListener(n,o,{passive:d}):e.addEventListener(n,o,!1)}function Ru(e,n,o,s,d){var h=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var C=s.stateNode.containerInfo;if(C===d)break;if(S===4)for(S=s.return;S!==null;){var M=S.tag;if((M===3||M===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;C!==null;){if(S=ne(C),S===null)return;if(M=S.tag,M===5||M===6||M===26||M===27){s=h=S;continue e}C=C.parentNode}}s=s.return}Hc(function(){var G=h,z=Ys(o),Y=[];e:{var H=df.get(e);if(H!==void 0){var V=ma,de=e;switch(e){case"keypress":if(pa(o)===0)break e;case"keydown":case"keyup":V=Eg;break;case"focusin":de="focus",V=$s;break;case"focusout":de="blur",V=$s;break;case"beforeblur":case"afterblur":V=$s;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=ug;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Ag;break;case rf:case uf:case cf:V=dg;break;case ff:V=Mg;break;case"scroll":case"scrollend":V=sg;break;case"wheel":V=Rg;break;case"copy":case"cut":case"paste":V=hg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Bc;break;case"toggle":case"beforetoggle":V=wg}var Se=(n&4)!==0,je=!Se&&(e==="scroll"||e==="scrollend"),I=Se?H!==null?H+"Capture":null:H;Se=[];for(var R=G,U;R!==null;){var O=R;if(U=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||U===null||I===null||(O=po(R,I),O!=null&&Se.push(Jo(R,O,U))),je)break;R=R.return}0<Se.length&&(H=new V(H,de,null,o,z),Y.push({event:H,listeners:Se}))}}if((n&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",H&&o!==Fs&&(de=o.relatedTarget||o.fromElement)&&(ne(de)||de[Vn]))break e;if((V||H)&&(H=z.window===z?z:(H=z.ownerDocument)?H.defaultView||H.parentWindow:window,V?(de=o.relatedTarget||o.toElement,V=G,de=de?ne(de):null,de!==null&&(je=f(de),Se=de.tag,de!==je||Se!==5&&Se!==27&&Se!==6)&&(de=null)):(V=null,de=G),V!==de)){if(Se=Vc,O="onMouseLeave",I="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(Se=Bc,O="onPointerLeave",I="onPointerEnter",R="pointer"),je=V==null?H:W(V),U=de==null?H:W(de),H=new Se(O,R+"leave",V,o,z),H.target=je,H.relatedTarget=U,O=null,ne(z)===G&&(Se=new Se(I,R+"enter",de,o,z),Se.target=U,Se.relatedTarget=je,O=Se),je=O,V&&de)t:{for(Se=Ny,I=V,R=de,U=0,O=I;O;O=Se(O))U++;O=0;for(var ye=R;ye;ye=Se(ye))O++;for(;0<U-O;)I=Se(I),U--;for(;0<O-U;)R=Se(R),O--;for(;U--;){if(I===R||R!==null&&I===R.alternate){Se=I;break t}I=Se(I),R=Se(R)}Se=null}else Se=null;V!==null&&U0(Y,H,V,Se,!1),de!==null&&je!==null&&U0(Y,je,de,Se,!0)}}e:{if(H=G?W(G):window,V=H.nodeName&&H.nodeName.toLowerCase(),V==="select"||V==="input"&&H.type==="file")var Be=Zc;else if(Kc(H))if($c)Be=Vg;else{Be=Pg;var he=Hg}else V=H.nodeName,!V||V.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?G&&Os(G.elementType)&&(Be=Zc):Be=qg;if(Be&&(Be=Be(e,G))){Qc(Y,Be,o,z);break e}he&&he(e,H,G),e==="focusout"&&G&&H.type==="number"&&G.memoizedProps.value!=null&&Bs(H,"number",H.value)}switch(he=G?W(G):window,e){case"focusin":(Kc(he)||he.contentEditable==="true")&&(_l=he,ir=G,Eo=null);break;case"focusout":Eo=ir=_l=null;break;case"mousedown":lr=!0;break;case"contextmenu":case"mouseup":case"dragend":lr=!1,af(Y,o,z);break;case"selectionchange":if(Bg)break;case"keydown":case"keyup":af(Y,o,z)}var De;if(js)e:{switch(e){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else El?Jc(e,o)&&(qe="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(qe="onCompositionStart");qe&&(Oc&&o.locale!=="ko"&&(El||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&El&&(De=Pc()):(yi=z,Ks="value"in yi?yi.value:yi.textContent,El=!0)),he=os(G,qe),0<he.length&&(qe=new zc(qe,e,null,o,z),Y.push({event:qe,listeners:he}),De?qe.data=De:(De=Xc(o),De!==null&&(qe.data=De)))),(De=Dg?Lg(e,o):Ug(e,o))&&(qe=os(G,"onBeforeInput"),0<qe.length&&(he=new zc("onBeforeInput","beforeinput",null,o,z),Y.push({event:he,listeners:qe}),he.data=De)),xy(Y,e,G,o,z)}D0(Y,n)})}function Jo(e,n,o){return{instance:e,listener:n,currentTarget:o}}function os(e,n){for(var o=n+"Capture",s=[];e!==null;){var d=e,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=po(e,o),d!=null&&s.unshift(Jo(e,d,h)),d=po(e,n),d!=null&&s.push(Jo(e,d,h))),e.tag===3)return s;e=e.return}return[]}function Ny(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function U0(e,n,o,s,d){for(var h=n._reactName,S=[];o!==null&&o!==s;){var C=o,M=C.alternate,G=C.stateNode;if(C=C.tag,M!==null&&M===s)break;C!==5&&C!==26&&C!==27||G===null||(M=G,d?(G=po(o,h),G!=null&&S.unshift(Jo(o,G,M))):d||(G=po(o,h),G!=null&&S.push(Jo(o,G,M)))),o=o.return}S.length!==0&&e.push({event:n,listeners:S})}var wy=/\r\n?/g,Iy=/\u0000|\uFFFD/g;function G0(e){return(typeof e=="string"?e:""+e).replace(wy,`
`).replace(Iy,"")}function k0(e,n){return n=G0(n),G0(e)===n}function We(e,n,o,s,d,h){switch(o){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||vl(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&vl(e,""+s);break;case"className":ut(e,"class",s);break;case"tabIndex":ut(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ut(e,o,s);break;case"style":Gc(e,s,h);break;case"data":if(n!=="object"){ut(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=fa(""+s),e.setAttribute(o,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(o==="formAction"?(n!=="input"&&We(e,n,"name",d.name,d,null),We(e,n,"formEncType",d.formEncType,d,null),We(e,n,"formMethod",d.formMethod,d,null),We(e,n,"formTarget",d.formTarget,d,null)):(We(e,n,"encType",d.encType,d,null),We(e,n,"method",d.method,d,null),We(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=fa(""+s),e.setAttribute(o,s);break;case"onClick":s!=null&&(e.onclick=On);break;case"onScroll":s!=null&&He("scroll",e);break;case"onScrollEnd":s!=null&&He("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}o=fa(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""+s):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":s===!0?e.setAttribute(o,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,s):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(o,s):e.removeAttribute(o);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(o):e.setAttribute(o,s);break;case"popover":He("beforetoggle",e),He("toggle",e),Te(e,"popover",s);break;case"xlinkActuate":tt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":tt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":tt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":tt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":tt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":tt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":tt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":tt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":tt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Te(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=og.get(o)||o,Te(e,o,s))}}function Nu(e,n,o,s,d,h){switch(o){case"style":Gc(e,s,h);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof s=="string"?vl(e,s):(typeof s=="number"||typeof s=="bigint")&&vl(e,""+s);break;case"onScroll":s!=null&&He("scroll",e);break;case"onScrollEnd":s!=null&&He("scrollend",e);break;case"onClick":s!=null&&(e.onclick=On);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ce.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),n=o.slice(2,d?o.length-7:void 0),h=e[Dt]||null,h=h!=null?h[o]:null,typeof h=="function"&&e.removeEventListener(n,h,d),typeof s=="function")){typeof h!="function"&&h!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,s,d);break e}o in e?e[o]=s:s===!0?e.setAttribute(o,""):Te(e,o,s)}}}function Ht(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",e),He("load",e);var s=!1,d=!1,h;for(h in o)if(o.hasOwnProperty(h)){var S=o[h];if(S!=null)switch(h){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:We(e,n,h,S,o,null)}}d&&We(e,n,"srcSet",o.srcSet,o,null),s&&We(e,n,"src",o.src,o,null);return;case"input":He("invalid",e);var C=h=S=d=null,M=null,G=null;for(s in o)if(o.hasOwnProperty(s)){var z=o[s];if(z!=null)switch(s){case"name":d=z;break;case"type":S=z;break;case"checked":M=z;break;case"defaultChecked":G=z;break;case"value":h=z;break;case"defaultValue":C=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:We(e,n,s,z,o,null)}}Ic(e,h,C,M,G,S,d,!1);return;case"select":He("invalid",e),s=S=h=null;for(d in o)if(o.hasOwnProperty(d)&&(C=o[d],C!=null))switch(d){case"value":h=C;break;case"defaultValue":S=C;break;case"multiple":s=C;default:We(e,n,d,C,o,null)}n=h,o=S,e.multiple=!!s,n!=null?yl(e,!!s,n,!1):o!=null&&yl(e,!!s,o,!0);return;case"textarea":He("invalid",e),h=d=s=null;for(S in o)if(o.hasOwnProperty(S)&&(C=o[S],C!=null))switch(S){case"value":s=C;break;case"defaultValue":d=C;break;case"children":h=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(a(91));break;default:We(e,n,S,C,o,null)}Lc(e,s,d,h);return;case"option":for(M in o)if(o.hasOwnProperty(M)&&(s=o[M],s!=null))switch(M){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:We(e,n,M,s,o,null)}return;case"dialog":He("beforetoggle",e),He("toggle",e),He("cancel",e),He("close",e);break;case"iframe":case"object":He("load",e);break;case"video":case"audio":for(s=0;s<Yo.length;s++)He(Yo[s],e);break;case"image":He("error",e),He("load",e);break;case"details":He("toggle",e);break;case"embed":case"source":case"link":He("error",e),He("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(s=o[G],s!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:We(e,n,G,s,o,null)}return;default:if(Os(n)){for(z in o)o.hasOwnProperty(z)&&(s=o[z],s!==void 0&&Nu(e,n,z,s,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(s=o[C],s!=null&&We(e,n,C,s,o,null))}function Dy(e,n,o,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,S=null,C=null,M=null,G=null,z=null;for(V in o){var Y=o[V];if(o.hasOwnProperty(V)&&Y!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":M=Y;default:s.hasOwnProperty(V)||We(e,n,V,null,s,Y)}}for(var H in s){var V=s[H];if(Y=o[H],s.hasOwnProperty(H)&&(V!=null||Y!=null))switch(H){case"type":h=V;break;case"name":d=V;break;case"checked":G=V;break;case"defaultChecked":z=V;break;case"value":S=V;break;case"defaultValue":C=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(a(137,n));break;default:V!==Y&&We(e,n,H,V,s,Y)}}gl(e,S,C,M,G,z,h,d);return;case"select":V=S=C=H=null;for(h in o)if(M=o[h],o.hasOwnProperty(h)&&M!=null)switch(h){case"value":break;case"multiple":V=M;default:s.hasOwnProperty(h)||We(e,n,h,null,s,M)}for(d in s)if(h=s[d],M=o[d],s.hasOwnProperty(d)&&(h!=null||M!=null))switch(d){case"value":H=h;break;case"defaultValue":C=h;break;case"multiple":S=h;default:h!==M&&We(e,n,d,h,s,M)}n=C,o=S,s=V,H!=null?yl(e,!!o,H,!1):!!s!=!!o&&(n!=null?yl(e,!!o,n,!0):yl(e,!!o,o?[]:"",!1));return;case"textarea":V=H=null;for(C in o)if(d=o[C],o.hasOwnProperty(C)&&d!=null&&!s.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:We(e,n,C,null,s,d)}for(S in s)if(d=s[S],h=o[S],s.hasOwnProperty(S)&&(d!=null||h!=null))switch(S){case"value":H=d;break;case"defaultValue":V=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==h&&We(e,n,S,d,s,h)}Dc(e,H,V);return;case"option":for(var de in o)if(H=o[de],o.hasOwnProperty(de)&&H!=null&&!s.hasOwnProperty(de))switch(de){case"selected":e.selected=!1;break;default:We(e,n,de,null,s,H)}for(M in s)if(H=s[M],V=o[M],s.hasOwnProperty(M)&&H!==V&&(H!=null||V!=null))switch(M){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:We(e,n,M,H,s,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)H=o[Se],o.hasOwnProperty(Se)&&H!=null&&!s.hasOwnProperty(Se)&&We(e,n,Se,null,s,H);for(G in s)if(H=s[G],V=o[G],s.hasOwnProperty(G)&&H!==V&&(H!=null||V!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:We(e,n,G,H,s,V)}return;default:if(Os(n)){for(var je in o)H=o[je],o.hasOwnProperty(je)&&H!==void 0&&!s.hasOwnProperty(je)&&Nu(e,n,je,void 0,s,H);for(z in s)H=s[z],V=o[z],!s.hasOwnProperty(z)||H===V||H===void 0&&V===void 0||Nu(e,n,z,H,s,V);return}}for(var I in o)H=o[I],o.hasOwnProperty(I)&&H!=null&&!s.hasOwnProperty(I)&&We(e,n,I,null,s,H);for(Y in s)H=s[Y],V=o[Y],!s.hasOwnProperty(Y)||H===V||H==null&&V==null||We(e,n,Y,H,s,V)}function H0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ly(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,o=performance.getEntriesByType("resource"),s=0;s<o.length;s++){var d=o[s],h=d.transferSize,S=d.initiatorType,C=d.duration;if(h&&C&&H0(S)){for(S=0,C=d.responseEnd,s+=1;s<o.length;s++){var M=o[s],G=M.startTime;if(G>C)break;var z=M.transferSize,Y=M.initiatorType;z&&H0(Y)&&(M=M.responseEnd,S+=z*(M<C?1:(C-G)/(M-G)))}if(--s,n+=8*(h+S)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var wu=null,Iu=null;function as(e){return e.nodeType===9?e:e.ownerDocument}function P0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q0(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Du(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Lu=null;function Uy(){var e=window.event;return e&&e.type==="popstate"?e===Lu?!1:(Lu=e,!0):(Lu=null,!1)}var V0=typeof setTimeout=="function"?setTimeout:void 0,Gy=typeof clearTimeout=="function"?clearTimeout:void 0,z0=typeof Promise=="function"?Promise:void 0,ky=typeof queueMicrotask=="function"?queueMicrotask:typeof z0<"u"?function(e){return z0.resolve(null).then(e).catch(Hy)}:V0;function Hy(e){setTimeout(function(){throw e})}function Ui(e){return e==="head"}function B0(e,n){var o=n,s=0;do{var d=o.nextSibling;if(e.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(s===0){e.removeChild(d),Ql(n);return}s--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")s++;else if(o==="html")Xo(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,Xo(o);for(var h=o.firstChild;h;){var S=h.nextSibling,C=h.nodeName;h[mi]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&h.rel.toLowerCase()==="stylesheet"||o.removeChild(h),h=S}}else o==="body"&&Xo(e.ownerDocument.body);o=d}while(o);Ql(n)}function O0(e,n){var o=e;e=0;do{var s=o.nextSibling;if(o.nodeType===1?n?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(n?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),s&&s.nodeType===8)if(o=s.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=s}while(o)}function Uu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Uu(o),w(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function Py(e,n,o,s){for(;e.nodeType===1;){var d=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[mi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=vn(e.nextSibling),e===null)break}return null}function qy(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=vn(e.nextSibling),e===null))return null;return e}function F0(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=vn(e.nextSibling),e===null))return null;return e}function Gu(e){return e.data==="$?"||e.data==="$~"}function ku(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Vy(e,n){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||o.readyState!=="loading")n();else{var s=function(){n(),o.removeEventListener("DOMContentLoaded",s)};o.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Hu=null;function Y0(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(n===0)return vn(e.nextSibling);n--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||n++}e=e.nextSibling}return null}function J0(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(n===0)return e;n--}else o!=="/$"&&o!=="/&"||n++}e=e.previousSibling}return null}function X0(e,n,o){switch(n=as(o),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Xo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);w(e)}var Tn=new Map,K0=new Set;function ss(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var oi=$.d;$.d={f:zy,r:By,D:Oy,C:Fy,L:Yy,m:Jy,X:Ky,S:Xy,M:Qy};function zy(){var e=oi.f(),n=Wa();return e||n}function By(e){var n=ge(e);n!==null&&n.tag===5&&n.type==="form"?fd(n):oi.r(e)}var Jl=typeof document>"u"?null:document;function Q0(e,n,o){var s=Jl;if(s&&typeof n=="string"&&n){var d=Lt(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),K0.has(d)||(K0.add(d),e={rel:e,crossOrigin:o,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),Ht(n,"link",e),Ee(n),s.head.appendChild(n)))}}function Oy(e){oi.D(e),Q0("dns-prefetch",e,null)}function Fy(e,n){oi.C(e,n),Q0("preconnect",e,n)}function Yy(e,n,o){oi.L(e,n,o);var s=Jl;if(s&&e&&n){var d='link[rel="preload"][as="'+Lt(n)+'"]';n==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Lt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Lt(o.imageSizes)+'"]')):d+='[href="'+Lt(e)+'"]';var h=d;switch(n){case"style":h=Xl(e);break;case"script":h=Kl(e)}Tn.has(h)||(e=E({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),Tn.set(h,e),s.querySelector(d)!==null||n==="style"&&s.querySelector(Ko(h))||n==="script"&&s.querySelector(Qo(h))||(n=s.createElement("link"),Ht(n,"link",e),Ee(n),s.head.appendChild(n)))}}function Jy(e,n){oi.m(e,n);var o=Jl;if(o&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+Lt(s)+'"][href="'+Lt(e)+'"]',h=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Kl(e)}if(!Tn.has(h)&&(e=E({rel:"modulepreload",href:e},n),Tn.set(h,e),o.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Qo(h)))return}s=o.createElement("link"),Ht(s,"link",e),Ee(s),o.head.appendChild(s)}}}function Xy(e,n,o){oi.S(e,n,o);var s=Jl;if(s&&e){var d=fe(s).hoistableStyles,h=Xl(e);n=n||"default";var S=d.get(h);if(!S){var C={loading:0,preload:null};if(S=s.querySelector(Ko(h)))C.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},o),(o=Tn.get(h))&&Pu(e,o);var M=S=s.createElement("link");Ee(M),Ht(M,"link",e),M._p=new Promise(function(G,z){M.onload=G,M.onerror=z}),M.addEventListener("load",function(){C.loading|=1}),M.addEventListener("error",function(){C.loading|=2}),C.loading|=4,rs(S,n,s)}S={type:"stylesheet",instance:S,count:1,state:C},d.set(h,S)}}}function Ky(e,n){oi.X(e,n);var o=Jl;if(o&&e){var s=fe(o).hoistableScripts,d=Kl(e),h=s.get(d);h||(h=o.querySelector(Qo(d)),h||(e=E({src:e,async:!0},n),(n=Tn.get(d))&&qu(e,n),h=o.createElement("script"),Ee(h),Ht(h,"link",e),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(d,h))}}function Qy(e,n){oi.M(e,n);var o=Jl;if(o&&e){var s=fe(o).hoistableScripts,d=Kl(e),h=s.get(d);h||(h=o.querySelector(Qo(d)),h||(e=E({src:e,async:!0,type:"module"},n),(n=Tn.get(d))&&qu(e,n),h=o.createElement("script"),Ee(h),Ht(h,"link",e),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(d,h))}}function Z0(e,n,o,s){var d=(d=Q.current)?ss(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=Xl(o.href),o=fe(d).hoistableStyles,s=o.get(n),s||(s={type:"style",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Xl(o.href);var h=fe(d).hoistableStyles,S=h.get(e);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,S),(h=d.querySelector(Ko(e)))&&!h._p&&(S.instance=h,S.state.loading=5),Tn.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Tn.set(e,o),h||Zy(d,e,o,S.state))),n&&s===null)throw Error(a(528,""));return S}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Kl(o),o=fe(d).hoistableScripts,s=o.get(n),s||(s={type:"script",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Xl(e){return'href="'+Lt(e)+'"'}function Ko(e){return'link[rel="stylesheet"]['+e+"]"}function $0(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function Zy(e,n,o,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),Ht(n,"link",o),Ee(n),e.head.appendChild(n))}function Kl(e){return'[src="'+Lt(e)+'"]'}function Qo(e){return"script[async]"+e}function W0(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+Lt(o.href)+'"]');if(s)return n.instance=s,Ee(s),s;var d=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Ee(s),Ht(s,"style",d),rs(s,o.precedence,e),n.instance=s;case"stylesheet":d=Xl(o.href);var h=e.querySelector(Ko(d));if(h)return n.state.loading|=4,n.instance=h,Ee(h),h;s=$0(o),(d=Tn.get(d))&&Pu(s,d),h=(e.ownerDocument||e).createElement("link"),Ee(h);var S=h;return S._p=new Promise(function(C,M){S.onload=C,S.onerror=M}),Ht(h,"link",s),n.state.loading|=4,rs(h,o.precedence,e),n.instance=h;case"script":return h=Kl(o.src),(d=e.querySelector(Qo(h)))?(n.instance=d,Ee(d),d):(s=o,(d=Tn.get(h))&&(s=E({},o),qu(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),Ee(d),Ht(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,rs(s,o.precedence,e));return n.instance}function rs(e,n,o){for(var s=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,h=d,S=0;S<s.length;S++){var C=s[S];if(C.dataset.precedence===n)h=C;else if(h!==d)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function Pu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function qu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var us=null;function j0(e,n,o){if(us===null){var s=new Map,d=us=new Map;d.set(o,s)}else d=us,s=d.get(o),s||(s=new Map,d.set(o,s));if(s.has(e))return s;for(s.set(e,null),o=o.getElementsByTagName(e),d=0;d<o.length;d++){var h=o[d];if(!(h[mi]||h[xt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var S=h.getAttribute(n)||"";S=e+S;var C=s.get(S);C?C.push(h):s.set(S,[h])}}return s}function ep(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function $y(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function tp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Wy(e,n,o,s){if(o.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Xl(s.href),h=n.querySelector(Ko(d));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=cs.bind(e),n.then(e,e)),o.state.loading|=4,o.instance=h,Ee(h);return}h=n.ownerDocument||n,s=$0(s),(d=Tn.get(d))&&Pu(s,d),h=h.createElement("link"),Ee(h);var S=h;S._p=new Promise(function(C,M){S.onload=C,S.onerror=M}),Ht(h,"link",s),o.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=cs.bind(e),n.addEventListener("load",o),n.addEventListener("error",o))}}var Vu=0;function jy(e,n){return e.stylesheets&&e.count===0&&ds(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var s=setTimeout(function(){if(e.stylesheets&&ds(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&Vu===0&&(Vu=62500*Ly());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ds(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>Vu?50:800)+n);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function cs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ds(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fs=null;function ds(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fs=new Map,n.forEach(ev,e),fs=null,cs.call(e))}function ev(e,n){if(!(n.state.loading&4)){var o=fs.get(e);if(o)var s=o.get(null);else{o=new Map,fs.set(e,o);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var S=d[h];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),s=S)}s&&o.set(null,s)}d=n.instance,S=d.getAttribute("data-precedence"),h=o.get(S)||s,h===s&&o.set(null,d),o.set(S,d),this.count++,s=cs.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),h?h.parentNode.insertBefore(d,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var Zo={$$typeof:J,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function tv(e,n,o,s,d,h,S,C,M){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function np(e,n,o,s,d,h,S,C,M,G,z,Y){return e=new tv(e,n,o,S,M,G,z,Y,C),n=1,h===!0&&(n|=24),h=an(3,null,null,n),e.current=h,h.stateNode=e,n=Tr(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:s,isDehydrated:o,cache:n},Cr(h),e}function ip(e){return e?(e=xl,e):xl}function lp(e,n,o,s,d,h){d=ip(d),s.context===null?s.context=d:s.pendingContext=d,s=Ci(n),s.payload={element:o},h=h===void 0?null:h,h!==null&&(s.callback=h),o=Ai(e,s,n),o!==null&&(nn(o,e,n),Ro(o,e,n))}function op(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function zu(e,n){op(e,n),(e=e.alternate)&&op(e,n)}function ap(e){if(e.tag===13||e.tag===31){var n=Xi(e,67108864);n!==null&&nn(n,e,67108864),zu(e,67108864)}}function sp(e){if(e.tag===13||e.tag===31){var n=fn();n=At(n);var o=Xi(e,n);o!==null&&nn(o,e,n),zu(e,n)}}var ps=!0;function nv(e,n,o,s){var d=k.T;k.T=null;var h=$.p;try{$.p=2,Bu(e,n,o,s)}finally{$.p=h,k.T=d}}function iv(e,n,o,s){var d=k.T;k.T=null;var h=$.p;try{$.p=8,Bu(e,n,o,s)}finally{$.p=h,k.T=d}}function Bu(e,n,o,s){if(ps){var d=Ou(s);if(d===null)Ru(e,n,s,hs,o),up(e,s);else if(ov(d,e,n,o,s))s.stopPropagation();else if(up(e,s),n&4&&-1<lv.indexOf(e)){for(;d!==null;){var h=ge(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var S=Pn(h.pendingLanes);if(S!==0){var C=h;for(C.pendingLanes|=2,C.entangledLanes|=2;S;){var M=1<<31-Pt(S);C.entanglements[1]|=M,S&=~M}kn(h),(Ye&6)===0&&(Za=ft()+500,Fo(0))}}break;case 31:case 13:C=Xi(h,2),C!==null&&nn(C,h,2),Wa(),zu(h,2)}if(h=Ou(s),h===null&&Ru(e,n,s,hs,o),h===d)break;d=h}d!==null&&s.stopPropagation()}else Ru(e,n,s,null,o)}}function Ou(e){return e=Ys(e),Fu(e)}var hs=null;function Fu(e){if(hs=null,e=ne(e),e!==null){var n=f(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=p(n),e!==null)return e;e=null}else if(o===31){if(e=m(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return hs=e,null}function rp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ln()){case lo:return 2;case rl:return 8;case Rt:case wn:return 32;case oo:return 268435456;default:return 32}default:return 32}}var Yu=!1,Gi=null,ki=null,Hi=null,$o=new Map,Wo=new Map,Pi=[],lv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function up(e,n){switch(e){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":ki=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":$o.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wo.delete(n.pointerId)}}function jo(e,n,o,s,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:o,eventSystemFlags:s,nativeEvent:h,targetContainers:[d]},n!==null&&(n=ge(n),n!==null&&ap(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function ov(e,n,o,s,d){switch(n){case"focusin":return Gi=jo(Gi,e,n,o,s,d),!0;case"dragenter":return ki=jo(ki,e,n,o,s,d),!0;case"mouseover":return Hi=jo(Hi,e,n,o,s,d),!0;case"pointerover":var h=d.pointerId;return $o.set(h,jo($o.get(h)||null,e,n,o,s,d)),!0;case"gotpointercapture":return h=d.pointerId,Wo.set(h,jo(Wo.get(h)||null,e,n,o,s,d)),!0}return!1}function cp(e){var n=ne(e.target);if(n!==null){var o=f(n);if(o!==null){if(n=o.tag,n===13){if(n=p(o),n!==null){e.blockedOn=n,hi(e.priority,function(){sp(o)});return}}else if(n===31){if(n=m(o),n!==null){e.blockedOn=n,hi(e.priority,function(){sp(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ms(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=Ou(e.nativeEvent);if(o===null){o=e.nativeEvent;var s=new o.constructor(o.type,o);Fs=s,o.target.dispatchEvent(s),Fs=null}else return n=ge(o),n!==null&&ap(n),e.blockedOn=o,!1;n.shift()}return!0}function fp(e,n,o){ms(e)&&o.delete(n)}function av(){Yu=!1,Gi!==null&&ms(Gi)&&(Gi=null),ki!==null&&ms(ki)&&(ki=null),Hi!==null&&ms(Hi)&&(Hi=null),$o.forEach(fp),Wo.forEach(fp)}function gs(e,n){e.blockedOn===n&&(e.blockedOn=null,Yu||(Yu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,av)))}var ys=null;function dp(e){ys!==e&&(ys=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ys===e&&(ys=null);for(var n=0;n<e.length;n+=3){var o=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(Fu(s||o)===null)continue;break}var h=ge(o);h!==null&&(e.splice(n,3),n-=3,Or(h,{pending:!0,data:d,method:o.method,action:s},s,d))}}))}function Ql(e){function n(M){return gs(M,e)}Gi!==null&&gs(Gi,e),ki!==null&&gs(ki,e),Hi!==null&&gs(Hi,e),$o.forEach(n),Wo.forEach(n);for(var o=0;o<Pi.length;o++){var s=Pi[o];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Pi.length&&(o=Pi[0],o.blockedOn===null);)cp(o),o.blockedOn===null&&Pi.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(s=0;s<o.length;s+=3){var d=o[s],h=o[s+1],S=d[Dt]||null;if(typeof h=="function")S||dp(o);else if(S){var C=null;if(h&&h.hasAttribute("formAction")){if(d=h,S=h[Dt]||null)C=S.formAction;else if(Fu(d)!==null)continue}else C=S.action;typeof C=="function"?o[s+1]=C:(o.splice(s,3),s-=3),dp(o)}}}function pp(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(S){return d=S})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(o,20)}function o(){if(!s&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(o,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function Ju(e){this._internalRoot=e}vs.prototype.render=Ju.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var o=n.current,s=fn();lp(o,s,e,n,null,null)},vs.prototype.unmount=Ju.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;lp(e.current,2,null,e,null,null),Wa(),n[Vn]=null}};function vs(e){this._internalRoot=e}vs.prototype.unstable_scheduleHydration=function(e){if(e){var n=qt();e={blockedOn:null,target:e,priority:n};for(var o=0;o<Pi.length&&n!==0&&n<Pi[o].priority;o++);Pi.splice(o,0,e),o===0&&cp(e)}};var hp=t.version;if(hp!=="19.2.3")throw Error(a(527,hp,"19.2.3"));$.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=g(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var sv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ts=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ts.isDisabled&&Ts.supportsFiber)try{ci=Ts.inject(sv),Yt=Ts}catch{}}return ta.createRoot=function(e,n){if(!r(e))throw Error(a(299));var o=!1,s="",d=Ed,h=_d,S=Cd;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=np(e,1,!1,null,null,o,s,null,d,h,S,pp),e[Vn]=n.current,bu(e),new Ju(n)},ta.hydrateRoot=function(e,n,o){if(!r(e))throw Error(a(299));var s=!1,d="",h=Ed,S=_d,C=Cd,M=null;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(h=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.formState!==void 0&&(M=o.formState)),n=np(e,1,!0,n,o??null,s,d,M,h,S,C,pp),n.context=ip(null),o=n.current,s=fn(),s=At(s),d=Ci(s),d.callback=null,Ai(o,d,s),o=s,n.current.lanes=o,Jt(n,o),kn(n),e[Vn]=n.current,bu(e),new vs(n)},ta.version="19.2.3",ta}var Ap;function vv(){if(Ap)return Qu.exports;Ap=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Qu.exports=yv(),Qu.exports}var Tv=vv();const Sv=am(Tv);var et=(i=>(i.WEAPON="Weapon",i.ARMOR="Armor",i.ACCESSORY="Accessory",i.CONSUMABLE="Consumable",i.MODULE="Module",i))(et||{}),ot=(i=>(i.COMMON="Common",i.RARE="Rare",i.EPIC="Epic",i.LEGENDARY="Legendary",i))(ot||{}),Qe=(i=>(i.ZOMBIE="Zombie",i.GHOST="Ghost",i.SKELETON="Skeleton",i.GOBLIN="Goblin",i.BOSS="Boss",i))(Qe||{});const ju={hp:450,maxHp:450,mp:120,maxMp:120,level:7,xp:4500,maxXp:1e4,gold:2500,runes:0,attack:45,defense:20,avatarConfig:{usePhoto:!1,photoUrl:null}},Ev=[{id:"w1",name:"Obsidian Maw",type:et.WEAPON,rarity:ot.LEGENDARY,price:350,stats:{attack:140,speed:-10},description:"A jagged slab of volcanic glass that cleaves through bone like paper.",image:"https://picsum.photos/seed/obsidian/100/100"},{id:"a1",name:"Scale Mail of the Wyrm",type:et.ARMOR,rarity:ot.RARE,price:180,stats:{defense:55,speed:5},description:"Lightweight scales harvested from a juvenile firedrake.",image:"https://picsum.photos/seed/scales/100/100"},{id:"w2",name:"Inferno Greatsword",type:et.WEAPON,rarity:ot.EPIC,price:250,stats:{attack:95,magic:30},description:"The steel blade is permanently red-hot, cauterizing wounds instantly.",image:"https://picsum.photos/seed/inferno/100/100"},{id:"a3",name:"Void Warlord Plate",type:et.ARMOR,rarity:ot.LEGENDARY,price:550,stats:{defense:140,attack:20},description:"Spiked armor forged in the abyss. It radiates a terrifying aura.",image:"https://picsum.photos/seed/void/100/100"},{id:"w3",name:"Samurai Sword",type:et.WEAPON,rarity:ot.RARE,price:220,stats:{attack:85,speed:20},description:"A masterwork katana folded a thousand times for unparalleled sharpness.",image:"https://picsum.photos/seed/katana/100/100"},{id:"a4",name:"Shadow Stalker Garb",type:et.ARMOR,rarity:ot.EPIC,price:380,stats:{defense:70,speed:25},description:"Lightweight assassin gear designed for silence and lethality.",image:"https://picsum.photos/seed/shadow/100/100"},{id:"w4",name:"Damascus Blade",type:et.WEAPON,rarity:ot.EPIC,price:320,stats:{attack:115,defense:15},description:"Ancient steel with water-like patterns, known for its ability to cut through lesser swords.",image:"https://picsum.photos/seed/damascus/100/100"},{id:"w5",name:"Dragon's Blade",type:et.WEAPON,rarity:ot.LEGENDARY,price:600,stats:{attack:180,magic:40},description:"Carved from the fang of an Elder Dragon, it hums with draconic energy.",image:"https://picsum.photos/seed/dragonblade/100/100"},{id:"a2",name:"Drakeguard Plate",type:et.ARMOR,rarity:ot.LEGENDARY,price:400,stats:{defense:120,hp:150},description:"Forged in dragonfire, this armor is impervious to standard steel.",image:"https://picsum.photos/seed/plate/100/100"},{id:"a5",name:"Celestial Guardian",type:et.ARMOR,rarity:ot.LEGENDARY,price:650,stats:{defense:160,hp:200,magic:20},description:"Holy armor blessed by the stars. Its horns channel cosmic energy.",image:"https://picsum.photos/seed/celestial/100/100"}],Sn=64,sm=i=>i!=null&&i.includes("Scale Mail")?{light:"#fb923c",mid:"#c2410c",dark:"#7c2d12",trimLight:"#fca5a5",trimDark:"#991b1b"}:i!=null&&i.includes("Drakeguard")?{light:"#64748b",mid:"#1e293b",dark:"#020617",trimLight:"#fcd34d",trimDark:"#b45309"}:i!=null&&i.includes("Void Warlord")?{light:"#475569",mid:"#1e293b",dark:"#0f172a",trimLight:"#38bdf8",trimDark:"#0c4a6e"}:i!=null&&i.includes("Shadow Stalker")?{light:"#525252",mid:"#262626",dark:"#0a0a0a",trimLight:"#ef4444",trimDark:"#7f1d1d"}:i!=null&&i.includes("Celestial")?{light:"#bae6fd",mid:"#60a5fa",dark:"#1e3a8a",trimLight:"#fef08a",trimDark:"#ca8a04"}:{light:"#2dd4bf",mid:"#0f766e",dark:"#134e4a",trimLight:"#fef08a",trimDark:"#a16207"},rm=i=>`
  <defs>
    <linearGradient id="armorGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:${i.light};stop-opacity:1" />
      <stop offset="50%" style="stop-color:${i.mid};stop-opacity:1" />
      <stop offset="100%" style="stop-color:${i.dark};stop-opacity:1" />
    </linearGradient>
    <linearGradient id="trimGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:${i.trimLight};stop-opacity:1" />
      <stop offset="100%" style="stop-color:${i.trimDark};stop-opacity:1" />
    </linearGradient>
    <linearGradient id="skin" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#fff1f2;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#fecdd3;stop-opacity:1" />
    </linearGradient>
    <filter id="dropShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="3"/>
      <feOffset dx="2" dy="4" result="offsetblur"/>
      <feComponentTransfer><feFuncA type="linear" slope="0.3"/></feComponentTransfer>
      <feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
  </defs>
`,_v=i=>{if(!i)return"";const t="translate(325, 300) rotate(-15) scale(2.5)";return i.includes("Obsidian")?`
      <g transform="${t}">
        <defs>
           <linearGradient id="obsidianGrad" x1="0%" y1="0%" x2="0%" y2="100%">
             <stop offset="0%" style="stop-color:#0f172a;stop-opacity:1" />
             <stop offset="50%" style="stop-color:#581c87;stop-opacity:1" />
             <stop offset="100%" style="stop-color:#d8b4fe;stop-opacity:1" />
           </linearGradient>
        </defs>
        <rect x="-2" y="-5" width="4" height="20" fill="#1e1b4b" />
        <circle cx="0" cy="15" r="3" fill="#4c1d95" />
        <path d="M-5 -5 L-8 -25 L-4 -45 L-10 -65 L0 -90 L6 -75 L3 -55 L9 -30 L5 -5 Z" fill="url(#obsidianGrad)" />
        <path d="M0 -20 L2 -40 L-1 -60" fill="none" stroke="#a855f7" stroke-width="1" />
      </g>
    `:i.includes("Inferno")?`<g transform="${t}"><defs><linearGradient id="infernoGrad" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#292524;stop-opacity:1" /><stop offset="50%" style="stop-color:#44403c;stop-opacity:1" /><stop offset="100%" style="stop-color:#a8a29e;stop-opacity:1" /></linearGradient></defs><rect x="-2" y="-5" width="4" height="20" fill="#1c1917" /><circle cx="0" cy="15" r="4" fill="#7f1d1d" stroke="#b45309" stroke-width="1" /><path d="M0 -5 Q-15 -2 -20 -10 Q-10 -12 -3 -15 L3 -15 Q10 -12 20 -10 Q15 -2 0 -5" fill="#44403c" stroke="#b45309" /><path d="M-4 -15 L-6 -30 L-4 -35 L-7 -50 L-5 -60 L-8 -75 L0 -95 L8 -75 L5 -60 L7 -50 L4 -35 L6 -30 L4 -15 Z" fill="url(#infernoGrad)" /><path d="M0 -20 L-1 -80 L0 -90 L1 -80 Z" fill="#f97316" /></g>`:i.includes("Samurai")?`<g transform="${t}"><defs><linearGradient id="katanaGrad" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" style="stop-color:#94a3b8;stop-opacity:1" /><stop offset="50%" style="stop-color:#f1f5f9;stop-opacity:1" /><stop offset="100%" style="stop-color:#cbd5e1;stop-opacity:1" /></linearGradient></defs><path d="M -1.5 0 L 1.5 0 L 1.5 25 L -1.5 25 Z" fill="#0f172a" /><path d="M -1.5 5 L 1.5 8 M -1.5 12 L 1.5 15 M -1.5 19 L 1.5 22" stroke="#d4d4d4" stroke-width="0.5"/><circle cx="0" cy="0" r="4" fill="#ca8a04" stroke="#000" stroke-width="0.5"/><path d="M -2 0 Q -5 -50 0 -90 L 2 -85 Q 0 -40 2 0 Z" fill="url(#katanaGrad)" stroke="#64748b" stroke-width="0.5" /></g>`:i.includes("Damascus")?`<g transform="${t}"><defs><linearGradient id="damascusGrad" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#334155;stop-opacity:1" /><stop offset="100%" style="stop-color:#94a3b8;stop-opacity:1" /></linearGradient></defs><rect x="-3" y="0" width="6" height="15" fill="#475569" /><rect x="-6" y="-2" width="12" height="4" fill="#1e293b" /><path d="M -4 0 L -3 -70 L 0 -80 L 3 -70 L 4 0 Z" fill="url(#damascusGrad)" stroke="#1e293b" stroke-width="0.5"/><path d="M -3 -10 Q 0 -20 3 -10 M -3 -30 Q 0 -40 3 -30 M -3 -50 Q 0 -60 3 -50" fill="none" stroke="rgba(0,0,0,0.3)" stroke-width="0.5"/><path d="M 0 0 L 0 -60" stroke="#1e293b" stroke-width="0.5" /></g>`:i.includes("Dragon")?`<g transform="${t}"><defs><linearGradient id="dragonGrad" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#14532d;stop-opacity:1" /><stop offset="50%" style="stop-color:#22c55e;stop-opacity:1" /><stop offset="100%" style="stop-color:#14532d;stop-opacity:1" /></linearGradient></defs><path d="M -3 15 Q 0 20 3 15 L 2 0 L -2 0 Z" fill="#fcd34d" /><path d="M -2 0 Q -10 -5 -12 -15 L -2 -5 Z" fill="#15803d" /><path d="M 2 0 Q 10 -5 12 -15 L 2 -5 Z" fill="#15803d" /><path d="M -4 0 L -5 -20 L -3 -30 L -6 -50 L -2 -70 L 0 -90 L 2 -70 L 6 -50 L 3 -30 L 5 -20 L 4 0 Z" fill="url(#dragonGrad)" stroke="#064e3b" stroke-width="0.5"/><path d="M 0 -10 L 0 -80" stroke="#86efac" stroke-width="1" stroke-linecap="round" /></g>`:`<g transform="${t}"><path d="M -6 -80 L 6 -80 L 6 0 L -6 0 Z" fill="#cbd5e1" stroke="#475569" stroke-width="1"/><path d="M -3 0 L 3 0 L 3 15 L -3 15 Z" fill="#78350f" /><circle cx="0" cy="-60" r="3" fill="#06b6d4" /><circle cx="0" cy="-40" r="3" fill="#22c55e" /></g>`},Sc=i=>{const t=i==null?void 0:i.includes("Void Warlord"),l=i==null?void 0:i.includes("Shadow Stalker"),a=i==null?void 0:i.includes("Celestial");let r='<path d="M20 100 L160 100 L150 180 L30 180 Z" fill="#000"/><path d="M40 0 L140 0 L130 140 L50 140 Z" fill="url(#armorGradient)" filter="url(#dropShadow)"/>',f='<rect x="40" y="80" width="120" height="100" rx="40" fill="url(#skin)"/>',p='<path d="M-10 -20 Q25 -50 60 -20 L50 40 L0 40 Z" fill="url(#armorGradient)" stroke="url(#trimGradient)" stroke-width="4"/>',m='<path d="M-10 -20 Q25 -50 60 -20 L50 40 L0 40 Z" fill="url(#armorGradient)" stroke="url(#trimGradient)" stroke-width="4"/>';return t?(r=`
        <path d="M20 100 L160 100 L150 180 L30 180 Z" fill="#0f172a"/>
        <path d="M40 0 L140 0 L130 140 L90 160 L50 140 Z" fill="url(#armorGradient)" filter="url(#dropShadow)"/>
        <path d="M50 20 L90 80 L130 20" fill="none" stroke="url(#trimGradient)" stroke-width="4"/>
        <path d="M90 80 L90 160" stroke="url(#trimGradient)" stroke-width="2"/>
      `,f=`
        <rect x="40" y="80" width="120" height="100" rx="40" fill="url(#skin)"/>
        <!-- Void Helmet -->
        <path d="M30 60 L150 60 L140 130 L90 150 L40 130 Z" fill="url(#armorGradient)"/>
        <path d="M90 60 L90 150" stroke="url(#trimGradient)" stroke-width="2"/>
        <path d="M40 60 L30 20 L50 60" fill="url(#armorGradient)"/> <!-- Horn L -->
        <path d="M140 60 L150 20 L130 60" fill="url(#armorGradient)"/> <!-- Horn R -->
        <path d="M50 90 L130 90 L120 100 L60 100 Z" fill="#000"/> <!-- Visor -->
      `,p='<path d="M-20 -40 L20 -60 L60 -40 L50 40 L0 40 Z" fill="url(#armorGradient)" stroke="url(#trimGradient)" stroke-width="4"/><path d="M20 -60 L20 -80 L30 -60" fill="url(#trimGradient)"/>',m='<path d="M-20 -40 L20 -60 L60 -40 L50 40 L0 40 Z" fill="url(#armorGradient)" stroke="url(#trimGradient)" stroke-width="4"/><path d="M20 -60 L20 -80 L30 -60" fill="url(#trimGradient)"/>'):l?(r=`
         <path d="M30 100 L150 100 L140 170 L40 170 Z" fill="#171717"/>
         <path d="M50 0 L130 0 L120 130 L60 130 Z" fill="url(#armorGradient)"/>
         <path d="M60 0 L120 0 L90 60 Z" fill="url(#trimGradient)" opacity="0.5"/>
         <rect x="65" y="100" width="50" height="10" fill="#7f1d1d"/> <!-- Belt -->
      `,f=`
         <!-- Hood Back -->
         <path d="M20 70 Q90 40 160 70 L160 130 L20 130 Z" fill="url(#armorGradient)"/>
         <rect x="50" y="90" width="80" height="70" rx="30" fill="url(#skin)"/>
         <!-- Mask -->
         <path d="M50 130 L130 130 L120 160 L60 160 Z" fill="#171717"/>
         <!-- Hood Front -->
         <path d="M10 70 Q90 30 170 70 L150 120 L90 90 L30 120 Z" fill="url(#armorGradient)"/>
      `,p='<path d="M0 0 Q30 -20 60 0 L50 30 L10 30 Z" fill="url(#armorGradient)"/><circle cx="30" cy="15" r="5" fill="url(#trimGradient)"/>',m='<path d="M0 0 Q30 -20 60 0 L50 30 L10 30 Z" fill="url(#armorGradient)"/><circle cx="30" cy="15" r="5" fill="url(#trimGradient)"/>'):a&&(r=`
        <path d="M10 100 L170 100 L160 180 L20 180 Z" fill="url(#armorGradient)"/>
        <path d="M30 0 L150 0 L140 150 L40 150 Z" fill="url(#armorGradient)" filter="url(#dropShadow)"/>
        <circle cx="90" cy="70" r="20" fill="url(#trimGradient)" stroke="#fff" stroke-width="2"/>
        <path d="M90 50 L90 90 M70 70 L110 70" stroke="#fff" stroke-width="4"/>
      `,f=`
         <rect x="40" y="80" width="120" height="100" rx="40" fill="url(#skin)"/>
         <!-- Celestial Helm -->
         <path d="M20 70 Q90 40 160 70 L160 120 L20 120 Z" fill="url(#armorGradient)"/>
         <path d="M90 30 L100 70 L80 70 Z" fill="url(#trimGradient)"/> <!-- Crest -->
         <path d="M20 70 L0 20 L30 60" fill="url(#armorGradient)"/> <!-- Wing L -->
         <path d="M160 70 L180 20 L150 60" fill="url(#armorGradient)"/> <!-- Wing R -->
         <path d="M40 80 Q90 120 140 80" fill="none" stroke="url(#trimGradient)" stroke-width="4"/>
      `,p='<rect x="-10" y="-30" width="70" height="60" rx="10" fill="url(#armorGradient)" stroke="url(#trimGradient)" stroke-width="4"/><circle cx="25" cy="0" r="10" fill="url(#trimGradient)"/>',m='<rect x="-10" y="-30" width="70" height="60" rx="10" fill="url(#armorGradient)" stroke="url(#trimGradient)" stroke-width="4"/><circle cx="25" cy="0" r="10" fill="url(#trimGradient)"/>'),!t&&!l&&!a&&(r='<path d="M20 100 L160 100 L150 180 L30 180 Z" fill="#000"/><path d="M40 0 L140 0 L130 140 L50 140 Z" fill="url(#armorGradient)" filter="url(#dropShadow)"/><path d="M50 10 Q90 60 130 10" fill="none" stroke="url(#trimGradient)" stroke-width="6" stroke-linecap="round"/><path d="M60 40 Q90 90 120 40" fill="none" stroke="url(#trimGradient)" stroke-width="4" stroke-linecap="round"/><circle cx="90" cy="80" r="15" fill="url(#trimGradient)" stroke="#713f12" stroke-width="2"/><circle cx="90" cy="80" r="8" fill="url(#armorGradient)"/><path d="M20 130 Q10 180 40 190 L80 180 L70 130 Z" fill="url(#armorGradient)" stroke="url(#trimGradient)" stroke-width="3"/><path d="M160 130 Q170 180 140 190 L100 180 L110 130 Z" fill="url(#armorGradient)" stroke="url(#trimGradient)" stroke-width="3"/><path d="M70 140 L110 140 L100 200 L80 200 Z" fill="#334155"/><path d="M80 140 L100 140 L90 190 Z" fill="url(#armorGradient)"/>',f=`
      <rect x="40" y="80" width="120" height="100" rx="40" fill="url(#skin)"/>
      <ellipse cx="35" cy="130" rx="10" ry="15" fill="url(#skin)"/>
      <ellipse cx="165" cy="130" rx="10" ry="15" fill="url(#skin)"/>
      <ellipse cx="70" cy="120" rx="8" ry="12" fill="#1e293b"/>
      <ellipse cx="130" cy="120" rx="8" ry="12" fill="#1e293b"/>
      <ellipse cx="60" cy="135" rx="10" ry="6" fill="#fda4af" opacity="0.6"/>
      <ellipse cx="140" cy="135" rx="10" ry="6" fill="#fda4af" opacity="0.6"/>
      <path d="M90 145 Q100 150 110 145" fill="none" stroke="#b45309" stroke-width="2" stroke-linecap="round"/>
      <path d="M40 100 L30 160 L50 140" fill="#573e29"/>
      <path d="M160 100 L170 160 L150 140" fill="#573e29"/>
      <path d="M20 80 Q100 -20 180 80 L180 110 L20 110 Z" fill="url(#armorGradient)" stroke="#0f172a" stroke-width="2"/>
      <path d="M90 20 L110 20 L100 80 Z" fill="url(#trimGradient)"/> 
      <path d="M20 80 Q100 50 180 80" fill="none" stroke="url(#trimGradient)" stroke-width="4"/>
      <path d="M50 40 Q100 90 150 40" fill="none" stroke="url(#trimGradient)" stroke-width="3"/>
      <path d="M10 60 Q-20 20 0 0 L20 40 Z" fill="#e2e8f0" stroke="#94a3b8" stroke-width="2"/>
      <path d="M190 60 Q220 20 200 0 L180 40 Z" fill="#e2e8f0" stroke="#94a3b8" stroke-width="2"/>
      `),{legL:'<g transform="translate(130, 350)"><path d="M10 0 L10 60 Q10 80 30 80 L60 80 L60 40 L50 0 Z" fill="url(#armorGradient)" stroke="#0f172a" stroke-width="2"/><path d="M10 50 Q35 60 60 40" fill="none" stroke="url(#trimGradient)" stroke-width="4"/><path d="M10 80 L60 80 L60 90 L10 90 Z" fill="#78350f"/><path d="M20 10 L50 10 L45 40 L25 40 Z" fill="url(#trimGradient)"/></g>',legR:'<g transform="translate(210, 350)"><path d="M10 0 L10 60 Q10 80 30 80 L60 80 L60 40 L50 0 Z" fill="url(#armorGradient)" stroke="#0f172a" stroke-width="2"/><path d="M10 50 Q35 60 60 40" fill="none" stroke="url(#trimGradient)" stroke-width="4"/><path d="M10 80 L60 80 L60 90 L10 90 Z" fill="#78350f"/><path d="M20 10 L50 10 L45 40 L25 40 Z" fill="url(#trimGradient)"/></g>',armL:`<g transform="translate(50, 240)">${p}<rect x="0" y="0" width="50" height="90" rx="10" fill="url(#armorGradient)"/><path d="M0 60 L50 60 L50 80 L0 80 Z" fill="url(#trimGradient)"/></g>`,armR:`<g transform="translate(300, 240)">${m}<rect x="0" y="0" width="50" height="90" rx="10" fill="url(#armorGradient)"/><path d="M0 60 L50 60 L50 80 L0 80 Z" fill="url(#trimGradient)"/></g>`,body:`
      <g transform="translate(110, 240)">${r}</g>
      <g transform="translate(100, 50)">${f}</g>
    `}};Sc();const Mn=60,ai=60,na=(i,t)=>({x:(i-t)*(Sn/2),y:(i+t)*(Sn/4)}),Cv="M -4 -60 L 4 -60 L 4 0 L -4 0 Z",Av="M -2 0 L 2 0 L 2 12 L -2 12 Z",xv=i=>{const t=(i-1)%4;return t===0?{type:"TREX",name:"PRIMEVAL REX",colors:{skin:"#4d7c0f",dark:"#365314",accent:"#ecfccb",detail:"#1a2e05",glow:"#ef4444",aura:"#84cc16"}}:t===1?{type:"LICH",name:"THE UNDYING KING",colors:{skin:"#e2e8f0",dark:"#1e293b",accent:"#7f1d1d",detail:"#fbbf24",glow:"#8b5cf6",aura:"#581c87"}}:t===2?{type:"WRAITH",name:"VOID REAPER",colors:{skin:"#0f172a",dark:"#020617",accent:"#0ea5e9",detail:"#94a3b8",glow:"#22d3ee",aura:"#0c4a6e"}}:{type:"DRAGON",name:"INFERNO DRAKE",colors:{skin:"#7f1d1d",dark:"#450a0a",accent:"#fdba74",detail:"#000000",glow:"#fbbf24",aura:"#b91c1c"}}},Mv=(i,t)=>{const l=Math.floor((t-1)/2);if(i===Qe.ZOMBIE){const a=[{skin:"#78716c",clothes:"#44403c",blood:"#881337",hair:"#1c1917"},{skin:"#57534e",clothes:"#1e3a8a",blood:"#991b1b",hair:"#000000"},{skin:"#3f6212",clothes:"#3f3f46",blood:"#450a0a",hair:"#1a2e05"},{skin:"#5b21b6",clothes:"#171717",blood:"#be123c",hair:"#2e1065"}];return a[l%a.length]}if(i===Qe.GOBLIN){const a=[{skin:"#65a30d",gear:"#713f12",metal:"#a8a29e"},{skin:"#b91c1c",gear:"#451a03",metal:"#78716c"},{skin:"#0891b2",gear:"#1e3a8a",metal:"#94a3b8"},{skin:"#9333ea",gear:"#4c1d95",metal:"#cbd5e1"}];return a[l%a.length]}if(i===Qe.SKELETON){const a=[{bone:"#e2e8f0",shadow:"#94a3b8",gear:"#475569"},{bone:"#a8a29e",shadow:"#78716c",gear:"#7f1d1d"},{bone:"#bae6fd",shadow:"#7dd3fc",gear:"#1e40af"},{bone:"#fef08a",shadow:"#facc15",gear:"#854d0e"}];return a[l%a.length]}if(i===Qe.GHOST){const a=[{start:"#bfdbfe",end:"rgba(191, 219, 254, 0)",eye:"#1e3a8a",shadow:"#60a5fa"},{start:"#bbf7d0",end:"rgba(187, 247, 208, 0)",eye:"#14532d",shadow:"#4ade80"},{start:"#fecaca",end:"rgba(254, 202, 202, 0)",eye:"#7f1d1d",shadow:"#ef4444"},{start:"#e9d5ff",end:"rgba(233, 213, 255, 0)",eye:"#581c87",shadow:"#a855f7"}];return a[l%a.length]}return{skin:"#fff",clothes:"#000"}},bv=(i,t)=>{let l=Array(i).fill(0).map(()=>Array(t).fill(0));const a=(f,p,m,y,g)=>{for(let v=Math.floor(f-m);v<=f+m;v++)for(let E=Math.floor(p-m);E<=p+m;E++)if(v>=0&&v<i&&E>=0&&E<t){const _=Math.sqrt((v-f)**2+(E-p)**2),A=(Math.random()-.5)*g;_+A<m&&(l[v][E]=y)}};for(let f=0;f<6;f++)a(Math.random()*i,Math.random()*t,1.5+Math.random()*2,2,1);for(let f=0;f<15;f++)a(Math.random()*i,Math.random()*t,2+Math.random()*3,1,1.5);a(i*.85,t*.15,3,3,.5),a(i*.15,t*.85,3,3,.5);for(let f=0;f<i;f++)for(let p=0;p<t;p++)if(l[f][p]!==2&&l[f][p]!==3){let m=!1;[[0,1],[0,-1],[1,0],[-1,0]].forEach(([y,g])=>{f+y>=0&&f+y<i&&p+g>=0&&p+g<t&&l[f+y][p+g]===2&&(m=!0)}),m&&(l[f][p]=4)}const r=f=>{const p=f.map(m=>[...m]);for(let m=1;m<i-1;m++)for(let y=1;y<t-1;y++){const g=f[m][y];let v=0;for(let E=-1;E<=1;E++)for(let _=-1;_<=1;_++)E===0&&_===0||f[m+E][y+_]===g&&v++;if(v<2&&(p[m][y]=0),v===0){const E=f[m+1][y];p[m][y]=E}}return p};return l=r(l),l=r(l),l=r(l),a(30,55,3,0,0),l},ia=i=>{const t=Sn*2,l=document.createElement("canvas");l.width=t,l.height=t;const a=l.getContext("2d");if(!a)return l;const r=t/2,f=t/2,p=Sn*.85;switch(a.save(),a.translate(r,f),a.scale(1,.5),a.beginPath(),a.arc(0,0,p,0,Math.PI*2),i){case 0:a.clip(),a.fillStyle="#10b981";for(let m=0;m<12;m++){const y=(Math.random()-.5)*t,g=(Math.random()-.5)*t,v=4+Math.random()*6;a.fillRect(y,g,1.5,v)}a.fillStyle="#047857";for(let m=0;m<8;m++)a.fillRect((Math.random()-.5)*t,(Math.random()-.5)*t,2,2);break;case 1:a.fillStyle="#451a03",a.fill(),a.globalCompositeOperation="source-atop",a.fillStyle="#78350f";for(let m=0;m<20;m++)a.beginPath(),a.arc((Math.random()-.5)*p*1.5,(Math.random()-.5)*p*1.5,3,0,Math.PI*2),a.fill();break;case 2:a.fillStyle="#172554",a.fill(),a.fillStyle="#3b82f6",a.globalAlpha=.3,a.beginPath(),a.arc(p*.2,-p*.2,p*.4,0,Math.PI*2),a.fill(),a.globalAlpha=1;break;case 4:a.fillStyle="#92400e",a.fill(),a.fillStyle="#d97706",a.globalCompositeOperation="source-atop";for(let m=0;m<30;m++)a.fillRect((Math.random()-.5)*p*1.8,(Math.random()-.5)*p*1.8,1,1);break;case 3:a.restore(),a.save(),a.translate(r,f),a.fillStyle="rgba(0,0,0,0.4)",a.beginPath(),a.ellipse(0,10,20,10,0,0,Math.PI*2),a.fill(),a.fillStyle="#334155",a.beginPath(),a.moveTo(-15,10),a.lineTo(-10,-20),a.lineTo(5,-25),a.lineTo(20,5),a.lineTo(10,15),a.fill(),a.fillStyle="#475569",a.beginPath(),a.moveTo(-10,-20),a.lineTo(5,-25),a.lineTo(0,-10),a.fill();break}return a.restore(),l},Rv=({isPaused:i,playerStats:t,equippedItems:l,inputState:a,skillTriggerRef:r,isAutoplay:f,wave:p,onPlayerHit:m,onEnemyKilled:y,onWaveComplete:g,onRequestSkill:v,playSFX:E})=>{const _=ie.useRef(null),A=ie.useRef({x:30,y:55}),D=ie.useRef([]),P=ie.useRef([]),N=ie.useRef([]),q=ie.useRef(0),X=ie.useRef(0),J=ie.useRef(0),te=ie.useRef(!1),le=ie.useRef(0),ue=ie.useRef(Math.PI/4),Z=ie.useRef(!1),ve=ie.useRef(0),ae=ie.useRef(v),_e=ie.useRef(0),j=ie.useRef(t),re=ie.useRef(i),pe=ie.useRef(p),Re=ie.useRef(f),ze=ie.useRef(l),k=ie.useRef([]),$=ie.useRef(null),se=ie.useRef(null),Ne=ie.useRef({}),[Ue,b]=ie.useState(!1),L=ie.useRef(0),F=ie.useRef(2e3),B=l.find(Q=>Q.type===et.ARMOR),K=B==null?void 0:B.name;return ie.useEffect(()=>{k.current.length===0&&(k.current=bv(Mn,ai),$.current={0:ia(0),1:ia(1),2:ia(2),3:ia(3),4:ia(4)})},[]),ie.useEffect(()=>{ae.current=v,j.current=t,re.current=i,pe.current=p,Re.current=f,ze.current=l},[v,t,i,p,f,l]),ie.useEffect(()=>{if(t.avatarConfig.usePhoto&&t.avatarConfig.photoUrl){const Q=new Image;Q.src=t.avatarConfig.photoUrl,Q.onload=()=>{se.current=Q}}else se.current=null},[t.avatarConfig]),ie.useEffect(()=>{const Q=()=>{_.current&&(_.current.width=window.innerWidth,_.current.height=window.innerHeight)};return window.addEventListener("resize",Q),Q(),()=>window.removeEventListener("resize",Q)},[]),ie.useEffect(()=>{const Q=(Le,Me)=>new Promise(Ze=>{const mt=new Image;mt.src=Me,mt.onload=()=>Ze([Le,mt]),mt.onerror=()=>Ze([Le,mt])}),ee="/assets/hero/chibi-elf/parts";Promise.all([Q("legL",`${ee}/legL.png`),Q("legR",`${ee}/legR.png`),Q("armL",`${ee}/armL.png`),Q("armR",`${ee}/armR.png`),Q("body",`${ee}/body.png`),Q("head",`${ee}/head.png`),Q("cloak",`${ee}/cloak.png`)]).then(Le=>{const Me={};Le.forEach(([me,we])=>Me[me]=we);const Ze=Me.body;if(Ze&&Ze.naturalWidth>0&&Ze.naturalHeight>0){Ne.current=Me,b(!0);return}const mt=sm(K),Tt=rm(mt),bt=Sc(K),ce=(me,we)=>new Promise(T=>{const at=new Image,gt=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 500" width="400" height="500">${Tt}${we}</svg>`;at.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(gt)}`,at.onload=()=>T([me,at]),at.onerror=()=>T([me,at])});Promise.all([ce("legL",bt.legL),ce("legR",bt.legR),ce("armL",bt.armL),ce("armR",bt.armR),ce("body",bt.body)]).then(me=>{const we={};me.forEach(([T,at])=>we[T]=at),Ne.current=we,b(!0)})})},[K]),ie.useEffect(()=>{const Q=[],ee=3+Math.floor(p*1.5),Le=k.current;for(let Ze=0;Ze<ee;Ze++){const mt=Math.random();let Tt=Qe.ZOMBIE;p===1?Tt=mt>.5?Qe.GOBLIN:Qe.ZOMBIE:mt>.7?Tt=Qe.SKELETON:mt>.4?Tt=Qe.GHOST:mt>.2?Tt=Qe.GOBLIN:Tt=Qe.ZOMBIE;let bt=80+p*10,ce=.8,me=15+p*2;Tt===Qe.GOBLIN&&(bt=40+p*5,ce=1.6,me=10+p),Tt===Qe.SKELETON&&(bt=60+p*8,ce=1,me=20+p*2),Tt===Qe.GHOST&&(bt=50+p*5,ce=1.2,me=25+p*3);let we,T,at=0;do{we=Math.random()*(Mn-4)+2,T=Math.random()*(ai-15),at++;const gt=Math.floor(we),Zt=Math.floor(T);gt>=0&&gt<Mn&&Zt>=0&&Zt<ai&&Le[gt][Zt]===2&&(at=0)}while(at<10&&T>50);Q.push({id:`e-${p}-${Ze}`,type:Tt,x:we,y:T,hp:bt,maxHp:bt,speed:ce,damage:me,lastHitTime:0})}const Me=2e3+p*800;Q.push({id:`boss-${p}`,type:Qe.BOSS,x:Mn/2,y:5,hp:Me,maxHp:Me,speed:.8+p*.05,damage:40+p*10,lastHitTime:0,deathAnim:0}),D.current=Q},[p]),ie.useEffect(()=>{if(!Ue)return;let Q,ee=performance.now();const Le=(ce,me)=>{P.current.push({type:"shockwave",x:ce,y:me,z:2,vx:0,vy:0,vz:0,life:.5,maxLife:.5,color:"#ffedd5",size:.5});for(let we=0;we<10;we++){const T=Math.random()*Math.PI*2,at=4+Math.random()*8;P.current.push({type:"flame",x:ce,y:me,z:10,vx:Math.cos(T)*at,vy:Math.sin(T)*at,vz:5+Math.random()*10,life:.4+Math.random()*.6,maxLife:1,color:Math.random()>.5?"#ef4444":"#fbbf24",size:3+Math.random()*4})}},Me=(ce,me,we,T)=>{const gt=ze.current.find(lt=>lt.type===et.WEAPON),Ge=(gt==null?void 0:gt.name.includes("Obsidian"))?"#d8b4fe":T?"#fcd34d":"#f97316";for(let lt=0;lt<4;lt++){const Ft=Math.random()*Math.PI*2,ft=2+Math.random()*4;P.current.push({x:ce,y:me,z:10,vx:Math.cos(Ft)*ft,vy:Math.sin(Ft)*ft,vz:2+Math.random()*5,life:1,maxLife:1,type:"spark",color:Ge,size:2+Math.random()*2})}P.current.push({x:ce,y:me,z:20,vx:0,vy:-1,vz:2,life:1,maxLife:1,type:"text",color:T?"#ef4444":"#fff",size:16,text:`-${Math.round(we)}`}),q.current=T?12:5},Ze=(ce,me,we)=>{we<=0||P.current.push({x:ce,y:me,z:30,vx:0,vy:-.5,vz:2,life:2,maxLife:2,type:"text",color:"#c084fc",size:14,text:`+${we} RUNES`})},mt=ce=>{const me=pe.current;ce.isDead=!0,ce.deathAnim=1;const we=ce.type===Qe.BOSS,T=we?10:1,at=we?10:1;let gt=we?Math.floor(me*20+Math.random()*10):Math.random()>.6?Math.floor(me+Math.random()*2):0;y(20*me*T,15*me*at,gt),Ze(ce.x,ce.y,gt),E("kill")},Tt=(ce,me,we)=>{const at=Math.floor(ce),gt=Math.floor(me);for(let Zt=-1;Zt<=1;Zt++)for(let Ge=-1;Ge<=1;Ge++){const lt=at+Zt,Ft=gt+Ge;if(lt<0||lt>=Mn||Ft<0||Ft>=ai){if(ce<0||ce>Mn||me<0||me>ai)return!0;continue}if(we[lt][Ft]===2){const ft=lt+.5,ln=Ft+.5;if((ce-ft)**2+(me-ln)**2<.45*.45)return!0}}return!1},bt=ce=>{var dl,ua,ca,co,mi;if(re.current){ee=ce,Q=requestAnimationFrame(bt);return}const me=Math.min((ce-ee)/1e3,.1);ee=ce;const we=_.current;if(!we)return;const T=we.getContext("2d",{alpha:!1});if(!T)return;const at=pe.current,gt=Re.current,Zt=ze.current,Ge=xv(at);let{vector:lt,isAttacking:Ft}=a.current;const ft=D.current,ln=[];ce>F.current&&(L.current=.15,F.current=ce+Math.random()*3e3+2e3),L.current>0&&(L.current-=me);const lo=L.current>0;for(const w of ft)if(w.isDead){w.deathAnim=(w.deathAnim||1)-me*1.5,w.deathAnim>0&&ln.push(w);continue}const rl=ft.filter(w=>!w.isDead);let Rt=null,wn=1/0;for(const w of rl){const ne=Math.sqrt(Math.pow(w.x-A.current.x,2)+Math.pow(w.y-A.current.y,2));ne<wn&&(wn=ne,Rt=w)}if(gt&&lt.x===0&&lt.y===0&&rl.length>0&&Rt&&wn<20){const w=Rt.x-A.current.x,ne=Rt.y-A.current.y;if(wn>2){const ge=w-ne,W=(w+ne)*.5,fe=Math.sqrt(ge*ge+W*W);fe>0&&(lt={x:ge/fe,y:W/fe}),Ft=!1}else lt={x:0,y:0},Ft=!0,ue.current=Math.atan2((w+ne)*.5,w-ne);if(ce>_e.current){let ge=!1;const W=j.current;if(W.hp<W.maxHp*.4&&ae.current(2)&&(ge=!0),ge||(rl.filter(Ee=>Math.sqrt(Math.pow(Ee.x-A.current.x,2)+Math.pow(Ee.y-A.current.y,2))<5).length>=3||(Rt==null?void 0:Rt.type)===Qe.BOSS&&wn<5)&&ae.current(1)&&(ge=!0),!ge&&Rt&&wn>6&&wn<15){const fe=Rt.x-A.current.x,Ee=Rt.y-A.current.y;ue.current=Math.atan2((fe+Ee)*.5,fe-Ee),ae.current(3)&&(ge=!0)}ge&&(_e.current=ce+800)}}if(r.current==="spin")le.current=1,r.current=null,E("skill"),P.current.push({x:A.current.x,y:A.current.y,z:5,vx:0,vy:0,vz:0,life:.5,maxLife:.5,type:"shockwave",color:"#0ea5e9",size:1});else if(r.current==="fireball"){X.current++;const w=ue.current,ne=Math.cos(w),ge=Math.sin(w),W=ne+2*ge,fe=2*ge-ne,Ee=j.current;E("skill"),N.current.push({id:X.current,x:A.current.x,y:A.current.y,vx:W*8,vy:fe*8,life:1.5,damage:Ee.attack*1.5}),r.current=null}if(le.current>0&&(le.current-=me*2,le.current>.4&&le.current<.5)){q.current=8;const w=j.current;for(const ne of ft){if(ne.isDead)continue;if(Math.sqrt(Math.pow(ne.x-A.current.x,2)+Math.pow(ne.y-A.current.y,2))<4){const W=w.attack*1.5;ne.hp-=W;const fe=Math.atan2(ne.y-A.current.y,ne.x-A.current.x),Ee=ne.type===Qe.BOSS?.5:2.5;ne.x+=Math.cos(fe)*Ee,ne.y+=Math.sin(fe)*Ee,ne.lastHitTime=ce;const Je=ne.hp<=0;Me(ne.x,ne.y,W,Je),E("hit"),Je&&!ne.isDead&&mt(ne)}}}const oo=2.5*me,ao=lt.x!==0||lt.y!==0;if(ao){const w=lt.x+2*lt.y,ne=2*lt.y-lt.x,ge=A.current.x+w*oo,W=A.current.y+ne*oo,fe=k.current;let Ee=!Tt(ge,A.current.y,fe),Je=!Tt(A.current.x,W,fe);Ee&&Je&&Tt(ge,W,fe)&&(Math.abs(w)>Math.abs(ne)?Je=!1:Ee=!1),Ee&&(A.current.x=ge),Je&&(A.current.y=W),(!gt||lt.x!==0)&&(ue.current=Math.atan2(lt.y,lt.x)),Math.random()>.9&&P.current.push({x:A.current.x,y:A.current.y,z:0,vx:0,vy:0,vz:0,life:.5,maxLife:.5,type:"walk",color:"#94a3b8",size:2})}let aa=!1;const ci=4;Ft?(J.current===0&&E("attack"),J.current+=me*ci,J.current>=1.2&&(J.current=0,te.current=!1),J.current>.3&&J.current<.8&&!te.current&&(aa=!0,te.current=!0)):J.current>0&&(J.current-=me*ci*2,J.current<0&&(J.current=0,te.current=!1)),ve.current>0&&(ve.current-=me);for(const w of ft){if(w.isDead)continue;const ne=A.current.x-w.x,ge=A.current.y-w.y,W=Math.sqrt(ne*ne+ge*ge),fe=W<.001?.001:W;if(W>.6){const Ee=w.x+ne/fe*w.speed*me,Je=w.y+ge/fe*w.speed*me;w.x=Ee,w.y=Je}if(W<.9){const Ee=4*me,Je=A.current.x+ne/fe*Ee,Ce=A.current.y+ge/fe*Ee;Tt(Je,Ce,k.current)||(A.current.x=Je,A.current.y=Ce)}if(w.type===Qe.BOSS?(W<5&&w.deathAnim===0&&(w.deathAnim=.1),w.deathAnim>0&&w.deathAnim<3?(w.deathAnim+=me*1.5,w.deathAnim>=2&&w.deathAnim<2.1&&(q.current=15,W<6&&ve.current<=0&&(m(w.damage*1.5),E("hit"),ve.current=1)),w.deathAnim>=3&&(w.deathAnim=-2)):w.deathAnim<0&&(w.deathAnim+=me,w.deathAnim>=0&&(w.deathAnim=0)),Math.random()>.7&&P.current.push({type:"boss_aura",x:w.x+(Math.random()-.5)*4,y:w.y+(Math.random()-.5)*4,z:0,vx:0,vy:1,vz:0,life:1,maxLife:1,color:Ge.colors.aura,size:2+Math.random()*3})):W<1&&ve.current<=0&&(m(w.damage),q.current=8,E("hit"),ve.current=1),aa&&W<3.5&&ce-w.lastHitTime>200){const Ee=j.current.attack;w.hp-=Ee,w.lastHitTime=ce;const Je=w.type===Qe.BOSS?.3:2;w.x-=ne/fe*Je,w.y-=ge/fe*Je;const Ce=w.hp<=0;Me(w.x,w.y,Ee,Ce),E("hit"),Ce&&mt(w)}ln.push(w)}N.current=N.current.filter(w=>{w.x+=w.vx*me,w.y+=w.vy*me,w.life-=me,Math.random()>.3&&P.current.push({type:"flame",x:w.x+(Math.random()-.5)*1.5,y:w.y+(Math.random()-.5)*1.5,z:15,vx:-w.vx*.2,vy:-w.vy*.2,vz:1+Math.random(),life:.4,maxLife:.4,color:Math.random()>.5?"#fcd34d":"#ef4444",size:2+Math.random()*3});let ne=!1;if(ln.find(W=>!W.isDead&&Math.pow(w.x-W.x,2)+Math.pow(w.y-W.y,2)<4)||w.life<=0){ne=!0,q.current=20,Le(w.x,w.y);const W=144;for(const fe of ln){if(fe.isDead)continue;if(Math.pow(w.x-fe.x,2)+Math.pow(w.y-fe.y,2)<W){fe.hp-=w.damage,fe.lastHitTime=ce;const Je=Math.atan2(fe.y-w.y,fe.x-w.x),Ce=5;fe.x+=Math.cos(Je)*Ce,fe.y+=Math.sin(Je)*Ce;const Ae=fe.hp<=0;Me(fe.x,fe.y,w.damage,Ae),E("hit"),Ae&&!fe.isDead&&mt(fe)}}}return w.life>0&&!ne}),A.current.x=Math.max(0,Math.min(Mn,A.current.x)),A.current.y=Math.max(0,Math.min(ai,A.current.y)),D.current.length>0&&ln.filter(w=>!w.isDead).length===0&&g(),D.current=ln,P.current=P.current.filter(w=>(w.life-=me,w.type==="spark"||w.type==="blood"||w.type==="flame"||w.type==="rune"||w.type==="boss_aura"?(w.x+=w.vx*me,w.y+=w.vy*me,w.z+=w.vz*me,w.type!=="boss_aura"&&(w.vz-=9.8*me),w.z<=0&&w.type!=="boss_aura"&&(w.z=0,w.vz*=-.5,w.vx*=.5,w.vy*=.5)):w.type==="text"?w.z+=me*10:w.type==="shockwave"&&(w.size+=me*10),w.life>0)),q.current>0&&(q.current=Math.max(0,q.current-me*20));const Yt=we.width/2,In=we.height/2,Pt=na(A.current.x,A.current.y),Vs=(Math.random()-.5)*q.current,zs=(Math.random()-.5)*q.current,so=Yt-Pt.x+Vs,fi=In-Pt.y+zs;T.fillStyle="#064e3b",T.fillRect(0,0,we.width,we.height);const Hn=16,ul=Math.max(0,Math.floor(A.current.x-Hn)),Pn=Math.min(Mn,Math.floor(A.current.x+Hn)),cl=Math.max(0,Math.floor(A.current.y-Hn)),Bi=Math.min(ai,Math.floor(A.current.y+Hn)),sa=k.current,ro=$.current;if(ro)for(let w=ul;w<Pn;w++)for(let ne=cl;ne<Bi;ne++){if(w<0||w>=Mn||ne<0||ne>=ai)continue;const ge=sa[w][ne],W=na(w,ne),fe=W.x+so,Ee=W.y+fi;if(fe<-Sn||fe>we.width+Sn||Ee<-Sn||Ee>we.height+Sn)continue;const Je=ro[ge];Je&&T.drawImage(Je,fe-Sn,Ee-Sn/2,Sn*2,Sn*2)}const di=[];di.push({type:"player",x:A.current.x,y:A.current.y,iso:na(A.current.x,A.current.y)});for(const w of ln)di.push({type:"enemy",enemy:w,x:w.x,y:w.y,iso:na(w.x,w.y)});di.sort((w,ne)=>w.iso.y-ne.iso.y);const Jt=ce/150;let ra=0,uo=0,fl=10*Math.PI/180,pi=-10*Math.PI/180,At=0;if(ao?(ra=Math.sin(Jt)*.5,uo=Math.sin(Jt+Math.PI)*.5,fl=Math.sin(Jt+Math.PI)*.5,pi=Math.sin(Jt)*.5,At=Math.abs(Math.sin(Jt*2))*10):(At=Math.sin(Jt*.5)*5,fl=Math.sin(Jt*.5)*.05+.1,pi=Math.sin(Jt*.5+1)*.05-.1),J.current>0){const w=Math.min(J.current,1);pi=-2.5+3.5*(1-Math.pow(1-w,3))}else le.current>0&&(pi=Jt*10);for(const w of di){const ne=w.iso.x+so,ge=w.iso.y+fi;if(!((dl=w.enemy)!=null&&dl.isDead)){T.beginPath();const W=((ua=w.enemy)==null?void 0:ua.type)===Qe.BOSS?60:25,fe=((ca=w.enemy)==null?void 0:ca.type)===Qe.BOSS?30:12;T.ellipse(ne,ge+fe,W,W/2.5,0,0,Math.PI*2),T.fillStyle="rgba(0,0,0,0.3)",T.fill()}if(w.type==="player"){const W=Ne.current;if(!W.body)continue;let fe=Z.current;if(Rt&&wn<20){const Te=Rt.x-A.current.x,ut=Rt.y-A.current.y;fe=Te-ut<0}else ao&&(fe=lt.x<0);if(Z.current=fe,!!W.head||!!W.cloak){const Te=((co=W.body)==null?void 0:co.width)||1600,ut=((mi=W.body)==null?void 0:mi.height)||2e3,tt=80/Te;T.save(),T.translate(ne,ge),ve.current>0&&Math.floor(ce/100)%2===0&&(T.globalAlpha=.5),fe?T.scale(-tt,tt):T.scale(tt,tt),T.translate(-Te/2,-(ut*.8));const nt=At*(ut/500);W.cloak&&T.drawImage(W.cloak,0,nt),W.legL&&T.drawImage(W.legL,0,0),W.legR&&T.drawImage(W.legR,0,0),T.drawImage(W.body,0,nt),W.head&&T.drawImage(W.head,0,nt),W.armL&&T.drawImage(W.armL,0,nt),W.armR&&T.drawImage(W.armR,0,nt),T.restore();continue}const Je=.2;if(T.save(),T.translate(ne,ge),ve.current>0&&Math.floor(ce/100)%2===0&&(T.globalAlpha=.5),fe?T.scale(-Je,Je):T.scale(Je,Je),T.translate(-200,-400),T.save(),T.translate(125,250+At),T.rotate(fl),T.translate(-75,-250),T.drawImage(W.armL,0,0),T.restore(),T.save(),T.translate(140,360),T.rotate(ra),T.translate(-140,-360),T.drawImage(W.legL,0,0),T.restore(),T.drawImage(W.body,0,At),se.current){T.save(),T.translate(0,At);const Te=200,ut=175,tt=80,nt=70;T.beginPath(),T.ellipse(Te,ut,tt,nt,0,0,Math.PI*2),T.clip(),T.drawImage(se.current,Te-tt,ut-nt,tt*2,nt*2),T.globalCompositeOperation="overlay",T.fillStyle="rgba(255, 200, 200, 0.1)",T.fill(),T.globalCompositeOperation="source-over",T.strokeStyle="rgba(0,0,0,0.3)",T.lineWidth=4,T.stroke(),T.restore()}lo&&!se.current&&(T.fillStyle="#fecdd3",T.beginPath(),T.ellipse(170,170+At,12,9,0,0,Math.PI*2),T.fill(),T.strokeStyle="#b45309",T.lineWidth=2,T.beginPath(),T.moveTo(160,172+At),T.quadraticCurveTo(170,176+At,180,172+At),T.stroke(),T.fillStyle="#fecdd3",T.beginPath(),T.ellipse(230,170+At,12,9,0,0,Math.PI*2),T.fill(),T.strokeStyle="#b45309",T.lineWidth=2,T.beginPath(),T.moveTo(220,172+At),T.quadraticCurveTo(230,176+At,240,172+At),T.stroke()),T.save(),T.translate(220,360),T.rotate(uo),T.translate(-220,-360),T.drawImage(W.legR,0,0),T.restore(),T.save(),T.translate(275,250+At),T.rotate(pi),T.drawImage(W.armR,-325,-250),T.translate(0,70);const Ce=Zt.find(Te=>Te.type===et.WEAPON),Ae=Ce==null?void 0:Ce.name.includes("Obsidian"),Vt=Ce==null?void 0:Ce.name.includes("Inferno"),fo=Ce==null?void 0:Ce.name.includes("Samurai"),pl=Ce==null?void 0:Ce.name.includes("Damascus"),hl=Ce==null?void 0:Ce.name.includes("Dragon"),zn=(Ce==null?void 0:Ce.upgradeLevel)||0;if(T.rotate(Math.PI/2),T.scale(5,5),zn>0){let Te="#22d3ee",ut="#cffafe";Ae?(Te="#c084fc",ut="#f3e8ff"):Vt?(Te="#fb923c",ut="#ffedd5"):hl?(Te="#4ade80",ut="#dcfce7"):fo?(Te="#facc15",ut="#fef9c3"):pl&&(Te="#94a3b8",ut="#f8fafc");const tt=15+zn*2,nt=.005+zn*5e-4,Oi=.8+Math.sin(ce*nt)*.2;if(T.shadowBlur=Math.min(50,tt*Oi),T.shadowColor=Te,zn>=10){T.save(),T.globalCompositeOperation="screen",T.globalAlpha=.2+(zn-10)*.03,T.fillStyle=Te,T.beginPath(),T.ellipse(0,-45,12*Oi,55,0,0,Math.PI*2),T.fill();const gi=Math.floor((zn-5)/2);T.fillStyle=ut;for(let dt=0;dt<gi;dt++){const Nt=(ce*.003+dt*1.5)%1,Bn=-10-Nt*85,ml=Math.sin(Nt*15+dt)*6*(1-Nt),Lt=(1-Nt)*2;T.globalAlpha=1-Nt,T.beginPath(),T.arc(ml,Bn,Lt,0,Math.PI*2),T.fill()}T.restore()}if(zn>=20){T.save(),T.translate(0,-45);const gi=ce*.004;T.rotate(gi),T.lineWidth=1,T.strokeStyle=Te,T.globalAlpha=.9,T.beginPath(),T.arc(0,0,30+Math.sin(ce*.01)*2,0,Math.PI*1.6),T.stroke(),T.rotate(-gi*2.5),T.lineWidth=.5,T.strokeStyle=ut,T.beginPath();const dt=3;for(let Nt=0;Nt<=dt;Nt++){const Bn=Nt*(Math.PI*2/dt),ml=20,Lt=Math.cos(Bn)*ml,gl=Math.sin(Bn)*ml;Nt===0?T.moveTo(Lt,gl):T.lineTo(Lt,gl)}T.closePath(),T.stroke(),T.restore()}}if(Ae){T.fillStyle="#1e1b4b",T.fillRect(-2,-5,4,15),T.beginPath(),T.arc(0,12,3,0,Math.PI*2),T.fillStyle="#4c1d95",T.fill(),T.beginPath(),T.moveTo(-5,-5),T.lineTo(-8,-25),T.lineTo(-4,-45),T.lineTo(-10,-65),T.lineTo(0,-90),T.lineTo(6,-75),T.lineTo(3,-55),T.lineTo(9,-30),T.lineTo(5,-5),T.closePath();const Te=T.createLinearGradient(0,-5,0,-90);Te.addColorStop(0,"#0f172a"),Te.addColorStop(.5,"#581c87"),Te.addColorStop(1,"#d8b4fe"),T.fillStyle=Te,T.fill(),T.beginPath(),T.moveTo(0,-20),T.lineTo(2,-40),T.lineTo(-1,-60),T.strokeStyle="#a855f7",T.lineWidth=1,T.stroke()}else if(Vt){T.fillStyle="#1c1917",T.fillRect(-2,-5,4,15),T.beginPath(),T.arc(0,12,4,0,Math.PI*2),T.fillStyle="#7f1d1d",T.fill(),T.beginPath(),T.moveTo(0,-5),T.quadraticCurveTo(-15,-2,-20,-10),T.quadraticCurveTo(-10,-12,-3,-15),T.lineTo(3,-15),T.quadraticCurveTo(10,-12,20,-10),T.quadraticCurveTo(15,-2,0,-5),T.fillStyle="#44403c",T.fill(),T.beginPath(),T.moveTo(-4,-15),T.lineTo(-6,-30),T.lineTo(-4,-35),T.lineTo(-7,-50),T.lineTo(-5,-60),T.lineTo(-8,-75),T.lineTo(0,-95),T.lineTo(8,-75),T.lineTo(5,-60),T.lineTo(7,-50),T.lineTo(4,-35),T.lineTo(6,-30),T.lineTo(4,-15),T.closePath();const Te=T.createLinearGradient(0,-15,0,-95);Te.addColorStop(0,"#292524"),Te.addColorStop(.5,"#44403c"),Te.addColorStop(1,"#a8a29e"),T.fillStyle=Te,T.fill(),T.beginPath(),T.moveTo(0,-20),T.lineTo(-1,-80),T.lineTo(0,-90),T.lineTo(1,-80),T.closePath(),T.fillStyle="#f97316",T.fill()}else if(fo){T.fillStyle="#0f172a",T.fillRect(-1.5,0,3,25),T.beginPath(),T.arc(0,0,4,0,Math.PI*2),T.fillStyle="#ca8a04",T.fill(),T.beginPath(),T.moveTo(-2,0),T.quadraticCurveTo(-5,-50,0,-90),T.lineTo(2,-85),T.quadraticCurveTo(0,-40,2,0),T.closePath();const Te=T.createLinearGradient(0,0,0,-90);Te.addColorStop(0,"#94a3b8"),Te.addColorStop(1,"#f1f5f9"),T.fillStyle=Te,T.fill()}else if(pl){T.fillStyle="#475569",T.fillRect(-3,0,6,15),T.fillStyle="#1e293b",T.fillRect(-6,-2,12,4),T.beginPath(),T.moveTo(-4,0),T.lineTo(-3,-70),T.lineTo(0,-80),T.lineTo(3,-70),T.lineTo(4,0),T.closePath();const Te=T.createLinearGradient(0,0,0,-80);Te.addColorStop(0,"#334155"),Te.addColorStop(1,"#94a3b8"),T.fillStyle=Te,T.fill(),T.beginPath(),T.moveTo(-3,-10),T.quadraticCurveTo(0,-20,3,-10),T.moveTo(-3,-30),T.quadraticCurveTo(0,-40,3,-30),T.moveTo(-3,-50),T.quadraticCurveTo(0,-60,3,-50),T.strokeStyle="rgba(0,0,0,0.3)",T.lineWidth=.5,T.stroke()}else if(hl){T.fillStyle="#fcd34d",T.beginPath(),T.moveTo(-3,15),T.quadraticCurveTo(0,20,3,15),T.lineTo(2,0),T.lineTo(-2,0),T.fill(),T.fillStyle="#15803d",T.beginPath(),T.moveTo(-2,0),T.quadraticCurveTo(-10,-5,-12,-15),T.lineTo(-2,-5),T.fill(),T.beginPath(),T.moveTo(2,0),T.quadraticCurveTo(10,-5,12,-15),T.lineTo(2,-5),T.fill(),T.beginPath(),T.moveTo(-4,0),T.lineTo(-5,-20),T.lineTo(-3,-30),T.lineTo(-6,-50),T.lineTo(-2,-70),T.lineTo(0,-90),T.lineTo(2,-70),T.lineTo(6,-50),T.lineTo(3,-30),T.lineTo(5,-20),T.lineTo(4,0),T.closePath();const Te=T.createLinearGradient(0,0,0,-90);Te.addColorStop(0,"#14532d"),Te.addColorStop(.5,"#22c55e"),Te.addColorStop(1,"#14532d"),T.fillStyle=Te,T.fill()}else{const Te=new Path2D(Cv);T.fillStyle="#cbd5e1",T.fill(Te);const ut=new Path2D(Av);T.fillStyle="#78350f",T.fill(ut),T.shadowColor="#06b6d4",T.shadowBlur=5,T.fillStyle="#06b6d4",T.beginPath(),T.arc(0,-45,2,0,Math.PI*2),T.fill(),T.fillStyle="#22c55e",T.beginPath(),T.arc(0,-30,2,0,Math.PI*2),T.fill(),T.shadowBlur=0}if(T.shadowBlur=0,T.restore(),T.restore(),Ft&&J.current>.2&&J.current<.8){const Te=(J.current-.2)/.6;T.save(),T.translate(ne,ge-30),fe&&T.scale(-1,1),T.globalAlpha=1-Math.pow(Te,3);let ut="#ffffff",tt="#06b6d4";Ae?tt="#a855f7":Vt?tt="#f97316":fo?tt="#94a3b8":pl?tt="#cbd5e1":hl&&(tt="#22c55e");const nt=-Math.PI/1.5,Oi=Math.PI/3,gi=nt+(Oi-nt)*Math.pow(Te,.5);T.rotate(gi);const dt=90;T.beginPath(),T.moveTo(0,0),T.bezierCurveTo(dt*.5,-dt*.8,dt*1.2,-dt*.2,dt,0),T.bezierCurveTo(dt*.8,-dt*.1,dt*.4,-dt*.1,0,0),T.closePath();const Nt=T.createRadialGradient(0,0,20,0,0,dt);Nt.addColorStop(0,ut),Nt.addColorStop(.4,tt),Nt.addColorStop(1,"transparent"),T.fillStyle=Nt,T.fill(),Te<.2&&(T.globalAlpha=.8,T.fillStyle="#fff",T.beginPath(),T.arc(0,0,40*(1-Te*5),0,Math.PI*2),T.fill()),T.restore()}}else if(w.enemy){const W=w.enemy,fe=W.isDead,Ee=fe?W.deathAnim||0:1,Je=Mv(W.type,at);if(T.save(),T.translate(ne,ge),T.globalAlpha=Ee,fe){const Ce=(1-(W.deathAnim||1))*20;T.translate(0,Ce),T.fillStyle="#000"}if(!fe&&ce-W.lastHitTime<150&&(T.globalCompositeOperation="source-atop",T.fillStyle="white"),W.type===Qe.BOSS)if(W.deathAnim,T.scale(3.2,3.2),T.translate(0,-20),Ge.type==="TREX"){const Ce=Math.sin(ce*.005),Ae=Math.abs(Ce)*2,Vt=Math.sin(ce*.003)*.2;T.save(),T.translate(-15,-15+Ae),T.rotate(Vt),T.fillStyle=Ge.colors.skin,T.beginPath(),T.moveTo(0,0),T.quadraticCurveTo(-20,5,-40,-5),T.quadraticCurveTo(-20,-15,0,0),T.fill(),T.restore(),T.save(),T.translate(0,Ae),T.fillStyle=Ge.colors.skin,T.beginPath(),T.ellipse(0,0,25,18,0,0,Math.PI*2),T.fill(),T.fillStyle=Ge.colors.detail,T.beginPath(),T.moveTo(-5,-15),T.lineTo(-2,10),T.lineTo(2,-15),T.fill(),T.translate(-5,15),T.fillStyle=Ge.colors.dark,T.beginPath(),T.moveTo(0,0),T.lineTo(-5,15),T.lineTo(5,15),T.fill(),T.translate(15,0),T.beginPath(),T.moveTo(0,0),T.lineTo(-5,15),T.lineTo(5,15),T.fill(),T.restore(),T.save(),T.translate(15,-15+Ae),T.rotate(Math.sin(ce*.005)*.1),T.fillStyle=Ge.colors.skin,T.beginPath(),T.moveTo(-5,5),T.lineTo(25,5),T.lineTo(20,-15),T.lineTo(-5,-10),T.fill(),T.fillStyle=Ge.colors.dark,T.beginPath(),T.moveTo(0,5),T.lineTo(20,5),T.lineTo(15,10),T.lineTo(0,8),T.fill(),T.fillStyle=Ge.colors.glow,T.beginPath(),T.arc(10,-5,2,0,Math.PI*2),T.fill(),T.restore(),T.save(),T.translate(10,-5+Ae),T.rotate(Math.sin(ce*.02)*.5),T.fillStyle=Ge.colors.skin,T.beginPath(),T.moveTo(0,0),T.lineTo(5,5),T.lineWidth=2,T.stroke(),T.restore()}else if(Ge.type==="LICH"){const Ce=Math.sin(ce*.005)*5;T.translate(0,Ce),T.fillStyle=Ge.colors.dark,T.beginPath(),T.moveTo(-15,20),T.lineTo(15,20),T.lineTo(10,-20),T.lineTo(-10,-20),T.fill(),T.fillStyle=Ge.colors.skin,T.beginPath(),T.arc(0,-25,8,0,Math.PI*2),T.fill(),T.fillStyle=Ge.colors.glow,T.beginPath(),T.arc(-3,-25,2,0,Math.PI*2),T.fill(),T.beginPath(),T.arc(3,-25,2,0,Math.PI*2),T.fill(),T.fillStyle=Ge.colors.detail,T.beginPath(),T.moveTo(-8,-30),T.lineTo(8,-30),T.lineTo(0,-40),T.fill()}else if(Ge.type==="DRAGON")T.fillStyle=Ge.colors.skin,T.beginPath(),T.ellipse(0,0,30,15,0,0,Math.PI*2),T.fill(),T.fillStyle=Ge.colors.dark,T.beginPath(),T.moveTo(-10,-10),T.lineTo(-40,-30),T.lineTo(-20,0),T.fill(),T.beginPath(),T.moveTo(10,-10),T.lineTo(40,-30),T.lineTo(20,0),T.fill(),T.beginPath(),T.moveTo(15,-5),T.quadraticCurveTo(25,-20,35,-25),T.lineTo(45,-20),T.lineTo(35,-5),T.fill();else{const Ce=Math.sin(ce*.01)*5;T.translate(0,Ce);const Ae=T.createLinearGradient(0,-30,0,30);Ae.addColorStop(0,Ge.colors.dark),Ae.addColorStop(1,"transparent"),T.fillStyle=Ae,T.beginPath(),T.moveTo(-20,-30),T.quadraticCurveTo(0,-50,20,-30),T.lineTo(10,30),T.lineTo(0,10),T.lineTo(-10,30),T.fill(),T.fillStyle=Ge.colors.glow,T.shadowColor=Ge.colors.glow,T.shadowBlur=10,T.beginPath(),T.arc(-5,-20,3,0,Math.PI*2),T.fill(),T.beginPath(),T.arc(5,-20,3,0,Math.PI*2),T.fill(),T.shadowBlur=0}else{T.scale(1.4,1.4);const Ce=Je,Ae=Math.sin(ce*.01+W.x)*2;if(W.type===Qe.GHOST){const Vt=T.createLinearGradient(0,-20,0,10);Vt.addColorStop(0,Ce.start||"#fff"),Vt.addColorStop(1,Ce.end||"rgba(255,255,255,0)"),T.fillStyle=Vt,T.beginPath(),T.moveTo(-10,-20),T.quadraticCurveTo(0,-35,10,-20),T.lineTo(10,10),T.lineTo(5,0),T.lineTo(0,10),T.lineTo(-5,0),T.lineTo(-10,10),T.fill(),T.fillStyle=Ce.eye||"#000",T.beginPath(),T.arc(-3,-15,1.5,0,Math.PI*2),T.fill(),T.beginPath(),T.arc(3,-15,1.5,0,Math.PI*2),T.fill()}else W.type===Qe.SKELETON?(T.fillStyle=Ce.bone||"#e2e8f0",T.fillRect(-6,-25+Ae,12,10),T.fillRect(-2,-15+Ae,4,10),T.fillRect(-8,-15+Ae,16,4),T.beginPath(),T.moveTo(-3,-5+Ae),T.lineTo(-5,10),T.stroke(),T.beginPath(),T.moveTo(3,-5+Ae),T.lineTo(5,10),T.stroke(),T.strokeStyle=Ce.bone||"#e2e8f0",T.lineWidth=2,T.beginPath(),T.moveTo(-8,-13+Ae),T.lineTo(-12,0),T.stroke(),T.beginPath(),T.moveTo(8,-13+Ae),T.lineTo(12,0),T.stroke(),T.fillStyle="#000",T.fillRect(-4,-22+Ae,2,2),T.fillRect(2,-22+Ae,2,2)):(T.fillStyle=Ce.clothes||"#444",T.fillRect(-8,-15+Ae,16,15),T.fillStyle=Ce.skin||"#777",T.fillRect(-6,-25+Ae,12,10),T.fillStyle="#111",T.fillRect(-7,0+Ae,5,10),T.fillRect(2,0+Ae,5,10),T.fillStyle=Ce.skin||"#777",Ft?(T.beginPath(),T.moveTo(-8,-13+Ae),T.lineTo(-15,-5+Ae),T.lineWidth=3,T.strokeStyle=Ce.skin,T.stroke(),T.beginPath(),T.moveTo(8,-13+Ae),T.lineTo(15,-5+Ae),T.stroke()):(T.fillRect(-11,-13+Ae,3,10),T.fillRect(8,-13+Ae,3,10)),T.fillStyle=W.type===Qe.ZOMBIE?"#ef4444":"#facc15",T.fillRect(-3,-22+Ae,2,2),T.fillRect(2,-22+Ae,2,2))}T.restore()}}for(const w of P.current){const ne=na(w.x,w.y),ge=ne.x+so,W=ne.y+fi-w.z;T.globalAlpha=w.life/w.maxLife,w.type==="text"?(T.fillStyle=w.color,T.font=`bold ${w.size}px monospace`,T.fillText(w.text||"",ge,W)):w.type==="shockwave"?(T.strokeStyle=w.color,T.lineWidth=2,T.beginPath(),T.ellipse(ge,W,w.size*20,w.size*10,0,0,Math.PI*2),T.stroke()):(T.fillStyle=w.color,T.beginPath(),T.arc(ge,W,w.size,0,Math.PI*2),T.fill()),T.globalAlpha=1}const qn=ln.find(w=>w.type===Qe.BOSS&&!w.isDead);if(qn){const w=Math.min(600,we.width*.6),ne=24,ge=(we.width-w)/2,W=80;T.save(),T.textAlign="center",T.font='700 16px "Orbitron", sans-serif',T.fillStyle=Ge.colors.glow,T.shadowColor=Ge.colors.aura,T.shadowBlur=10,T.fillText(Ge.name,we.width/2,W-8),T.restore(),T.fillStyle="rgba(0, 0, 0, 0.8)",T.fillRect(ge,W,w,ne),T.strokeStyle=Ge.colors.dark,T.lineWidth=2,T.strokeRect(ge,W,w,ne);const fe=Math.max(0,qn.hp/qn.maxHp);T.fillStyle=Ge.colors.glow,T.fillRect(ge+2,W+2,(w-4)*fe,ne-4),T.fillStyle="rgba(255,255,255,0.2)",T.fillRect(ge+2,W+2,(w-4)*fe,(ne-4)/2),T.fillStyle="#fff",T.font='10px "Rajdhani", sans-serif',T.textAlign="center",T.fillText(`${Math.ceil(qn.hp)} / ${qn.maxHp}`,we.width/2,W+16)}const qt=2,hi=Mn*qt,Dn=we.width-hi-20,xt=70;T.save(),T.translate(Dn,xt),T.fillStyle="rgba(15, 23, 42, 0.9)",T.strokeStyle="rgba(6, 182, 212, 0.5)",T.lineWidth=1,T.fillRect(0,0,hi,hi),T.strokeRect(0,0,hi,hi);for(let w=0;w<Mn;w++)for(let ne=0;ne<ai;ne++){const ge=sa[w][ne];ge===2?(T.fillStyle="#1e3a8a",T.fillRect(w*qt,ne*qt,qt,qt)):ge===3&&(T.fillStyle="#475569",T.fillRect(w*qt,ne*qt,qt,qt))}const Dt=A.current.x*qt,Vn=A.current.y*qt;T.fillStyle="#22d3ee",T.beginPath(),T.arc(Dt,Vn,2.5,0,Math.PI*2),T.fill(),T.strokeStyle="rgba(34, 211, 238, 0.5)",T.lineWidth=1,T.beginPath(),T.arc(Dt,Vn,4+Math.sin(ce*.005)*2,0,Math.PI*2),T.stroke();for(const w of ln){if(w.isDead)continue;const ne=w.x*qt,ge=w.y*qt;w.type===Qe.BOSS?(T.fillStyle=Ge.colors.glow,T.beginPath(),T.arc(ne,ge,4,0,Math.PI*2),T.fill(),T.fillStyle="#000",T.textAlign="center",T.font="8px sans-serif",T.fillText("",ne,ge+3)):(T.fillStyle="#ef4444",T.beginPath(),T.rect(ne-1,ge-1,2,2),T.fill())}T.restore(),q.current>0&&(q.current=Math.max(0,q.current-me*20)),Q=requestAnimationFrame(bt)};return Q=requestAnimationFrame(bt),()=>cancelAnimationFrame(Q)},[Ue]),x.jsx("canvas",{ref:_,className:"block touch-none"})},Nv=({stats:i,openShop:t,openInventory:l,equippedItems:a,wave:r,isAutoplay:f,isPaused:p,isMuted:m,toggleAutoplay:y,onTogglePause:g,onRestart:v,onUseSkill:E,onToggleMute:_})=>{const[A,D]=ie.useState(!1);return x.jsxs("div",{className:"pointer-events-none fixed inset-0 z-50 overflow-hidden font-tech text-cyan-50",children:[x.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-1.5 pointer-events-auto animate-in slide-in-from-right duration-300 z-50",children:[x.jsx("button",{onClick:l,className:"w-10 h-10 bg-slate-900/80 backdrop-blur-md border border-cyan-500/50 flex items-center justify-center hover:bg-cyan-900/50 hover:border-cyan-400 hover:shadow-[0_0_10px_#06b6d4] transition-all group rounded-lg",title:"Inventory",children:x.jsx("span",{className:"text-xl opacity-80 group-hover:opacity-100 group-hover:scale-110 transition-transform",children:""})}),x.jsx("button",{onClick:t,className:"w-10 h-10 bg-slate-900/80 backdrop-blur-md border border-pink-500/50 flex items-center justify-center hover:bg-pink-900/50 hover:border-pink-400 hover:shadow-[0_0_10px_#ec4899] transition-all group rounded-lg",title:"Shop",children:x.jsx("span",{className:"text-xl opacity-80 group-hover:opacity-100 group-hover:scale-110 transition-transform",children:""})}),x.jsxs("button",{onClick:y,className:`h-8 px-2 flex items-center gap-1.5 rounded-lg border backdrop-blur-md transition-all ${f?"bg-green-900/80 border-green-500 shadow-[0_0_8px_#22c55e]":"bg-slate-900/80 border-slate-600 hover:border-slate-400"}`,title:"Toggle Autoplay",children:[x.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${f?"bg-green-400 animate-pulse":"bg-slate-500"}`}),x.jsx("span",{className:`text-[9px] font-bold font-cyber tracking-wider ${f?"text-green-300":"text-slate-400"}`,children:"AUTO"})]}),x.jsx("button",{onClick:_,className:`w-10 h-10 bg-slate-900/80 backdrop-blur-md border border-slate-600 flex items-center justify-center hover:border-cyan-400 hover:bg-slate-800 transition-all rounded-lg group ${m?"":"border-cyan-500/50"}`,title:m?"Unmute Audio":"Mute Audio",children:x.jsx("span",{className:`text-lg transition-transform group-hover:scale-110 ${m?"opacity-50 grayscale":"opacity-100 text-cyan-400"}`,children:m?"":""})}),x.jsxs("div",{className:"relative",children:[x.jsx("button",{onClick:()=>D(!A),className:`w-10 h-10 bg-slate-900/80 backdrop-blur-md border border-slate-600 flex items-center justify-center hover:border-slate-400 hover:bg-slate-700 transition-all rounded-lg ${A?"bg-slate-700 border-slate-400":""}`,title:"Settings",children:x.jsx("span",{className:"text-xl opacity-80",children:""})}),A&&x.jsxs("div",{className:"absolute top-full right-0 mt-2 w-44 bg-slate-900/95 border border-slate-600 p-2 shadow-xl flex flex-col gap-1 rounded-lg animate-in fade-in slide-in-from-top-2",children:[x.jsx("button",{onClick:()=>{g(),D(!1)},className:"w-full text-left px-3 py-2 text-xs font-cyber hover:bg-slate-800 hover:text-cyan-400 transition-colors border border-transparent hover:border-slate-700 rounded",children:p?" RESUME GAME":" PAUSE GAME"}),x.jsx("button",{onClick:()=>{v(),D(!1)},className:"w-full text-left px-3 py-2 text-xs font-cyber text-red-400 hover:bg-red-900/20 hover:text-red-300 transition-colors border border-transparent hover:border-red-900/50 rounded",children:" RESTART GAME"})]})]})]}),x.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-3 pointer-events-auto max-w-[85vw] sm:max-w-md",children:[x.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[x.jsxs("div",{className:"relative w-12 h-12 sm:w-14 sm:h-14 shrink-0 z-10 flex items-center justify-center",children:[x.jsx("div",{className:"absolute inset-0 bg-slate-900/80 border-2 border-cyan-500 clip-path-hexagon shadow-[0_0_15px_#06b6d4]"}),x.jsxs("div",{className:"relative flex flex-col items-center justify-center",children:[x.jsx("span",{className:"text-[8px] sm:text-[10px] text-cyan-400 uppercase tracking-widest leading-none",children:"LVL"}),x.jsx("span",{className:"font-cyber font-bold text-lg sm:text-xl text-white neon-text",children:i.level})]})]}),x.jsxs("div",{className:"flex flex-col gap-1.5 filter drop-shadow-[0_0_10px_rgba(0,0,0,0.8)]",children:[x.jsxs("div",{className:"w-28 sm:w-64 h-4 sm:h-5 bg-slate-900/80 border border-slate-600 skew-x-[-15deg] overflow-hidden relative group",children:[x.jsx("div",{className:"h-full bg-gradient-to-r from-pink-900 via-pink-600 to-pink-500 transition-all duration-300 shadow-[0_0_10px_#ec4899]",style:{width:`${i.hp/i.maxHp*100}%`},children:x.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(90deg,transparent_0%,rgba(255,255,255,0.2)_50%,transparent_100%)] w-full animate-shine"})}),x.jsxs("span",{className:"absolute inset-0 flex items-center justify-center text-[8px] sm:text-[10px] font-bold tracking-widest skew-x-[15deg] text-white/90 font-cyber z-10",children:["HP: ",Math.floor(i.hp)]})]}),x.jsx("div",{className:"w-20 sm:w-48 h-2.5 sm:h-3 bg-slate-900/80 border border-slate-600 skew-x-[-15deg] overflow-hidden relative",children:x.jsx("div",{className:"h-full bg-gradient-to-r from-cyan-900 via-cyan-600 to-cyan-400 transition-all duration-300 shadow-[0_0_10px_#22d3ee]",style:{width:`${i.mp/i.maxMp*100}%`}})}),x.jsx("div",{className:"w-16 sm:w-40 h-1 sm:h-1.5 bg-slate-900/80 border border-slate-700 skew-x-[-15deg] overflow-hidden relative",title:`XP: ${i.xp} / ${i.maxXp}`,children:x.jsx("div",{className:"h-full bg-gradient-to-r from-yellow-700 via-yellow-500 to-yellow-300 transition-all duration-700 ease-out shadow-[0_0_5px_rgba(234,179,8,0.5)]",style:{width:`${Math.min(100,i.xp/i.maxXp*100)}%`},children:x.jsx("div",{className:"absolute inset-0 bg-white/30 animate-pulse"})})})]})]}),x.jsx("div",{className:"flex items-center gap-4 pl-2 animate-in slide-in-from-left duration-300",children:x.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 bg-slate-900/70 backdrop-blur border border-cyan-500/30 px-3 sm:px-4 py-1 skew-x-[-15deg] shadow-lg",children:[x.jsxs("div",{className:"skew-x-[15deg] flex flex-col items-center leading-none",children:[x.jsx("span",{className:"text-[7px] sm:text-[9px] text-cyan-400 uppercase tracking-widest font-cyber",children:"Wave"}),x.jsx("span",{className:"text-xs sm:text-sm font-bold text-white neon-text",children:r})]}),x.jsx("div",{className:"skew-x-[15deg] w-px h-6 bg-cyan-500/30"}),x.jsxs("div",{className:"skew-x-[15deg] flex flex-col items-center leading-none",children:[x.jsx("span",{className:"text-[7px] sm:text-[9px] text-yellow-400 uppercase tracking-widest font-cyber",children:"Creds"}),x.jsx("span",{className:"text-xs sm:text-sm font-bold text-yellow-200 font-mono",children:i.gold})]}),x.jsx("div",{className:"skew-x-[15deg] w-px h-6 bg-cyan-500/30"}),x.jsxs("div",{className:"skew-x-[15deg] flex flex-col items-center leading-none",children:[x.jsx("span",{className:"text-[7px] sm:text-[9px] text-purple-400 uppercase tracking-widest font-cyber",children:"Runes"}),x.jsx("span",{className:"text-xs sm:text-sm font-bold text-purple-200 font-mono",children:i.runes})]})]})}),x.jsx("div",{className:"flex gap-2 mt-1 pl-2",children:a.map((P,N)=>x.jsxs("div",{className:"w-8 h-8 sm:w-9 sm:h-9 border border-cyan-500/30 bg-black/60 shadow-[0_0_5px_rgba(6,182,212,0.2)] relative group overflow-hidden skew-x-[-6deg]",children:[x.jsx("img",{src:P.image,className:"w-full h-full object-cover opacity-70 group-hover:opacity-100 skew-x-[6deg] scale-110",alt:"buff"}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-cyan-900/50 to-transparent pointer-events-none"})]},N))})]}),p&&x.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-40 bg-black/40 backdrop-blur-[2px] pointer-events-auto",children:x.jsxs("div",{className:"bg-slate-900/90 border border-cyan-500 p-6 shadow-[0_0_30px_rgba(6,182,212,0.3)] flex flex-col items-center",children:[x.jsx("h2",{className:"text-3xl font-cyber font-bold text-white tracking-widest animate-pulse",children:"PAUSED"}),x.jsx("button",{onClick:g,className:"mt-4 px-6 py-2 bg-cyan-700 hover:bg-cyan-600 text-white font-cyber text-sm tracking-wider clip-path-corner transition-all",children:"RESUME MISSION"})]})}),x.jsx("style",{children:`
        .clip-path-hexagon {
          clip-path: polygon(50% 0, 100% 25%, 100% 75%, 50% 100%, 0 75%, 0 25%);
        }
        .clip-path-corner {
          clip-path: polygon(10% 0, 100% 0, 100% 90%, 90% 100%, 0 100%, 0 10%);
        }
        @keyframes shine {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(100%); }
        }
        .animate-shine {
          animation: shine 2s infinite linear;
        }
      `})]})};var wv={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Iv,Dv;function Lv(){return{geminiUrl:Iv,vertexUrl:Dv}}function Uv(i,t,l,a){var r,f;if(!(i!=null&&i.baseUrl)){const p=Lv();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:l:(f=p.geminiUrl)!==null&&f!==void 0?f:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ri{}function oe(i,t){const l=/\{([^}]+)\}/g;return i.replace(l,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const f=t[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,l){for(let f=0;f<t.length-1;f++){const p=t[f];if(p.endsWith("[]")){const m=p.slice(0,-2);if(!(m in i))if(Array.isArray(l))i[m]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[m])){const y=i[m];if(Array.isArray(l))for(let g=0;g<y.length;g++){const v=y[g];c(v,t.slice(f+1),l[g])}else for(const g of y)c(g,t.slice(f+1),l)}return}else if(p.endsWith("[0]")){const m=p.slice(0,-3);m in i||(i[m]=[{}]);const y=i[m];c(y[0],t.slice(f+1),l);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(i,l):i[a]=l}function u(i,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return l;const r=t[a];if(r.endsWith("[]")){const f=r.slice(0,-2);if(f in i){const p=i[f];return Array.isArray(p)?p.map(m=>u(m,t.slice(a+1),l)):l}else return l}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return l;throw a}}function Gv(i,t){for(const[l,a]of Object.entries(t)){const r=l.split("."),f=a.split("."),p=new Set;let m=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){m=y;break}if(m!==-1&&f.length>m)for(let y=m;y<f.length;y++){const g=f[y];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&p.add(g)}lc(i,r,f,0,p)}}function lc(i,t,l,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const f=t[a];if(f.endsWith("[]")){const p=f.slice(0,-2),m=i;if(p in m&&Array.isArray(m[p]))for(const y of m[p])lc(y,t,l,a+1,r)}else if(f==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,m=Object.keys(p).filter(g=>!g.startsWith("_")&&!r.has(g)),y={};for(const g of m)y[g]=p[g];for(const[g,v]of Object.entries(y)){const E=[];for(const _ of l.slice(a))_==="*"?E.push(g):E.push(_);c(p,E,v)}for(const g of m)delete p[g]}}else{const p=i;f in p&&lc(p[f],t,l,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ec(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kv(i){const t={},l=u(i,["operationName"]);l!=null&&c(t,["operationName"],l);const a=u(i,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function Hv(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],qv(p)),t}function Pv(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],Vv(p)),t}function qv(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>zv(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Vv(i){const t={},l=u(i,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>Bv(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function zv(i){const t={},l=u(i,["video"]);return l!=null&&c(t,["video"],Kv(l)),t}function Bv(i){const t={},l=u(i,["_self"]);return l!=null&&c(t,["video"],Qv(l)),t}function Ov(i){const t={},l=u(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function Fv(i){const t={},l=u(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function Yv(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],Jv(p)),t}function Jv(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function um(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],Xv(p)),t}function Xv(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function Kv(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Ec(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function Qv(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Ec(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var xp;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(xp||(xp={}));var Mp;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Mp||(Mp={}));var bp;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(bp||(bp={}));var Vi;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Vi||(Vi={}));var Rp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Rp||(Rp={}));var Np;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Np||(Np={}));var wp;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(wp||(wp={}));var Ip;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Ip||(Ip={}));var Dp;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Dp||(Dp={}));var Lp;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.HIGH="HIGH"})(Lp||(Lp={}));var Up;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Up||(Up={}));var Gp;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Gp||(Gp={}));var kp;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(kp||(kp={}));var Hp;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(Hp||(Hp={}));var Pp;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Pp||(Pp={}));var qp;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(qp||(qp={}));var Vp;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Vp||(Vp={}));var zp;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(zp||(zp={}));var Bp;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Bp||(Bp={}));var bs;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(bs||(bs={}));var Op;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Op||(Op={}));var Fp;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Fp||(Fp={}));var Yp;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Yp||(Yp={}));var oc;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(oc||(oc={}));var Jp;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Jp||(Jp={}));var Xp;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Xp||(Xp={}));var Kp;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Kp||(Kp={}));var Qp;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Qp||(Qp={}));var Zp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Zp||(Zp={}));var $p;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})($p||($p={}));var Wp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Wp||(Wp={}));var jp;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(jp||(jp={}));var eh;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(eh||(eh={}));var th;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(th||(th={}));var nh;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(nh||(nh={}));var ih;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ih||(ih={}));var lh;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(lh||(lh={}));var oh;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(oh||(oh={}));var ah;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(ah||(ah={}));var sh;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(sh||(sh={}));var rh;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(rh||(rh={}));var uh;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(uh||(uh={}));var ch;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(ch||(ch={}));var fh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(fh||(fh={}));var dh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(dh||(dh={}));var ph;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(ph||(ph={}));var hh;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(hh||(hh={}));var mh;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(mh||(mh={}));var gh;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(gh||(gh={}));var yh;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(yh||(yh={}));var vh;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(vh||(vh={}));var Th;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Th||(Th={}));var Sh;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Sh||(Sh={}));var Eh;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Eh||(Eh={}));var _h;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(_h||(_h={}));var $l;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})($l||($l={}));class ac{constructor(t){const l={};for(const a of t.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class la{get text(){var t,l,a,r,f,p,m,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",v=!1;const E=[];for(const _ of(y=(m=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[A,D]of Object.entries(_))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(D!==null||D!==void 0)&&E.push(A);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;v=!0,g+=_.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?g:void 0}get data(){var t,l,a,r,f,p,m,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const v=[];for(const E of(y=(m=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[_,A]of Object.entries(E))_!=="inlineData"&&(A!==null||A!==void 0)&&v.push(_);E.inlineData&&typeof E.inlineData.data=="string"&&(g+=atob(E.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var t,l,a,r,f,p,m,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(m=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var t,l,a,r,f,p,m,y,g;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(m=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var t,l,a,r,f,p,m,y,g;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(m=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.output}}class Ch{}class Ah{}class Zv{}class $v{}class Wv{}class jv{}class xh{}class Mh{}class bh{}class eT{}class Rs{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Rs;let r;const f=t;return l?r=Pv(f):r=Hv(f),Object.assign(a,r),a}}class Rh{}class Nh{}class wh{}class Ih{}class tT{}class nT{}class iT{}class _c{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new _c,f=Yv(t);return Object.assign(a,f),a}}class lT{}class oT{}class aT{}class Dh{}class sT{get text(){var t,l,a;let r="",f=!1;const p=[];for(const m of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[y,g]of Object.entries(m))y!=="text"&&y!=="thought"&&g!==null&&p.push(y);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;f=!0,r+=m.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var t,l,a;let r="";const f=[];for(const p of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[m,y]of Object.entries(p))m!=="inlineData"&&y!==null&&f.push(m);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class rT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Cc{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Cc,f=um(t);return Object.assign(a,f),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fe(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function cm(i,t){const l=Fe(i,t);return l?l.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}`:l.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${l}`:l:""}function fm(i){return Array.isArray(i)?i.map(t=>Ns(t)):[Ns(i)]}function Ns(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function dm(i){const t=Ns(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function pm(i){const t=Ns(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Lh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function hm(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>Lh(t)):[Lh(i)]}function sc(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Uh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Gh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function Ot(i){if(i==null)throw new Error("ContentUnion is required");return sc(i)?i:{role:"user",parts:hm(i)}}function Ac(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const a=Ot(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const l=Ot(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>Ot(l)):[Ot(t)]}function En(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Uh(i)||Gh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ot(i)]}const t=[],l=[],a=sc(i[0]);for(const r of i){const f=sc(r);if(f!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)t.push(r);else{if(Uh(r)||Gh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return a||t.push({role:"user",parts:hm(l)}),t}function uT(i,t){i.includes("null")&&(t.nullable=!0);const l=i.filter(a=>a!=="null");if(l.length===1)t.type=Object.values(Vi).includes(l[0].toUpperCase())?l[0].toUpperCase():Vi.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of l)t.anyOf.push({type:Object.values(Vi).includes(a.toUpperCase())?a.toUpperCase():Vi.TYPE_UNSPECIFIED})}}function jl(i){const t={},l=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=i.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(t.nullable=!0,i=f[1]):f[1].type==="null"&&(t.nullable=!0,i=f[0])),i.type instanceof Array&&uT(i.type,t);for(const[p,m]of Object.entries(i))if(m!=null)if(p=="type"){if(m==="null")throw new Error("type: null can not be the only possible type for the field.");if(m instanceof Array)continue;t.type=Object.values(Vi).includes(m.toUpperCase())?m.toUpperCase():Vi.TYPE_UNSPECIFIED}else if(l.includes(p))t[p]=jl(m);else if(a.includes(p)){const y=[];for(const g of m){if(g.type=="null"){t.nullable=!0;continue}y.push(jl(g))}t[p]=y}else if(r.includes(p)){const y={};for(const[g,v]of Object.entries(m))y[g]=jl(v);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=m}return t}function xc(i){return jl(i)}function Mc(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function bc(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function to(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=jl(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=jl(t.response));return i}function no(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of i)t.push(l);return t}function cT(i,t,l,a=1){const r=!t.startsWith(`${l}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}/${t}`:t:r?`${l}/${t}`:t}function ui(i,t){if(typeof t!="string")throw new Error("name must be a string");return cT(i,t,"cachedContents")}function mm(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function zi(i){return Ec(i)}function fT(i){return i!=null&&typeof i=="object"&&"name"in i}function dT(i){return i!=null&&typeof i=="object"&&"video"in i}function pT(i){return i!=null&&typeof i=="object"&&"uri"in i}function gm(i){var t;let l;if(fT(i)&&(l=i.name),!(pT(i)&&(l=i.uri,l===void 0))&&!(dT(i)&&(l=(t=i.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof i=="string"&&(l=i),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function ym(i,t){let l;return i.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function vm(i){for(const t of["models","tunedModels","publisherModels"])if(hT(i,t))return i[t];return[]}function hT(i,t){return i!==null&&typeof i=="object"&&t in i}function mT(i,t={}){const l=i,a={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(a.responseJsonSchema=l.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function gT(i,t={}){const l=[],a=new Set;for(const r of i){const f=r.name;if(a.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);a.add(f);const p=mT(r,t);p.functionDeclarations&&l.push(...p.functionDeclarations)}return{functionDeclarations:l}}function Tm(i,t){let l;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const a=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,r=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function yT(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Sm(i){if(typeof i!="object"||i===null)return{};const t=i,l=t.inlinedResponses;if(typeof l!="object"||l===null)return i;const r=l.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let f=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function io(i,t){const l=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function Em(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vT(i){const t={},l=u(i,["responsesFile"]);l!=null&&c(t,["fileName"],l);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>WT(p))),c(t,["inlinedResponses"],f)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["inlinedEmbedContentResponses"],f)}return t}function TT(i){const t={},l=u(i,["predictionsFormat"]);l!=null&&c(t,["format"],l);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function ST(i){const t={},l=u(i,["format"]);l!=null&&c(t,["predictionsFormat"],l);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function xs(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],Em(r));const f=u(i,["metadata","createTime"]);f!=null&&c(t,["createTime"],f);const p=u(i,["metadata","endTime"]);p!=null&&c(t,["endTime"],p);const m=u(i,["metadata","updateTime"]);m!=null&&c(t,["updateTime"],m);const y=u(i,["metadata","model"]);y!=null&&c(t,["model"],y);const g=u(i,["metadata","output"]);return g!=null&&c(t,["dest"],vT(Sm(g))),t}function rc(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["state"]);r!=null&&c(t,["state"],Em(r));const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["createTime"]);p!=null&&c(t,["createTime"],p);const m=u(i,["startTime"]);m!=null&&c(t,["startTime"],m);const y=u(i,["endTime"]);y!=null&&c(t,["endTime"],y);const g=u(i,["updateTime"]);g!=null&&c(t,["updateTime"],g);const v=u(i,["model"]);v!=null&&c(t,["model"],v);const E=u(i,["inputConfig"]);E!=null&&c(t,["src"],ET(E));const _=u(i,["outputConfig"]);_!=null&&c(t,["dest"],TT(Sm(_)));const A=u(i,["completionStats"]);return A!=null&&c(t,["completionStats"],A),t}function ET(i){const t={},l=u(i,["instancesFormat"]);l!=null&&c(t,["format"],l);const a=u(i,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function _T(i,t){const l={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&c(l,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>$T(i,p))),c(l,["requests","requests"],f)}return l}function CT(i){const t={},l=u(i,["format"]);l!=null&&c(t,["instancesFormat"],l);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function AT(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function xT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],io(i,a)),l}function MT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],io(i,a)),l}function bT(i){const t={},l=u(i,["content"]);l!=null&&c(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],RT(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const m=u(i,["groundingMetadata"]);m!=null&&c(t,["groundingMetadata"],m);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const g=u(i,["logprobsResult"]);g!=null&&c(t,["logprobsResult"],g);const v=u(i,["safetyRatings"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(A=>A)),c(t,["safetyRatings"],_)}const E=u(i,["urlContextMetadata"]);return E!=null&&c(t,["urlContextMetadata"],E),t}function RT(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function _m(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>oS(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function NT(i,t){const l={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function wT(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],ST(yT(r))),l}function kh(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],_T(i,Tm(i,r)));const f=u(t,["config"]);return f!=null&&NT(f,l),l}function IT(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],Fe(i,a));const r=u(t,["src"]);r!=null&&c(l,["inputConfig"],CT(Tm(i,r)));const f=u(t,["config"]);return f!=null&&wT(f,l),l}function DT(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),l}function LT(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],VT(i,r));const f=u(t,["config"]);return f!=null&&DT(f,l),l}function UT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],io(i,a)),l}function GT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],io(i,a)),l}function kT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function HT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function PT(i,t){const l={},a=u(t,["contents"]);if(a!=null){let f=Ac(i,a);Array.isArray(f)&&(f=f.map(p=>p)),c(l,["requests[]","request","content"],f)}const r=u(t,["config"]);return r!=null&&(c(l,["_self"],qT(r,l)),Gv(l,{"requests[].*":"requests[].request.*"})),l}function qT(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function VT(i,t){const l={},a=u(t,["fileName"]);a!=null&&c(l,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&c(l,["requests"],PT(i,r)),l}function zT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function BT(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function OT(i){const t={},l=u(i,["mode"]);l!=null&&c(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function FT(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],_m(Ot(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const m=u(t,["topK"]);m!=null&&c(a,["topK"],m);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const g=u(t,["maxOutputTokens"]);g!=null&&c(a,["maxOutputTokens"],g);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const E=u(t,["responseLogprobs"]);E!=null&&c(a,["responseLogprobs"],E);const _=u(t,["logprobs"]);_!=null&&c(a,["logprobs"],_);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const D=u(t,["frequencyPenalty"]);D!=null&&c(a,["frequencyPenalty"],D);const P=u(t,["seed"]);P!=null&&c(a,["seed"],P);const N=u(t,["responseMimeType"]);N!=null&&c(a,["responseMimeType"],N);const q=u(t,["responseSchema"]);q!=null&&c(a,["responseSchema"],xc(q));const X=u(t,["responseJsonSchema"]);if(X!=null&&c(a,["responseJsonSchema"],X),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=u(t,["safetySettings"]);if(l!==void 0&&J!=null){let pe=J;Array.isArray(pe)&&(pe=pe.map(Re=>aS(Re))),c(l,["safetySettings"],pe)}const te=u(t,["tools"]);if(l!==void 0&&te!=null){let pe=no(te);Array.isArray(pe)&&(pe=pe.map(Re=>rS(to(Re)))),c(l,["tools"],pe)}const le=u(t,["toolConfig"]);if(l!==void 0&&le!=null&&c(l,["toolConfig"],sS(le)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ue=u(t,["cachedContent"]);l!==void 0&&ue!=null&&c(l,["cachedContent"],ui(i,ue));const Z=u(t,["responseModalities"]);Z!=null&&c(a,["responseModalities"],Z);const ve=u(t,["mediaResolution"]);ve!=null&&c(a,["mediaResolution"],ve);const ae=u(t,["speechConfig"]);if(ae!=null&&c(a,["speechConfig"],Mc(ae)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const _e=u(t,["thinkingConfig"]);_e!=null&&c(a,["thinkingConfig"],_e);const j=u(t,["imageConfig"]);j!=null&&c(a,["imageConfig"],ZT(j));const re=u(t,["enableEnhancedCivicAnswers"]);return re!=null&&c(a,["enableEnhancedCivicAnswers"],re),a}function YT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(g=>bT(g))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const m=u(i,["usageMetadata"]);return m!=null&&c(t,["usageMetadata"],m),t}function JT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],io(i,a)),l}function XT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],io(i,a)),l}function KT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function QT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function ZT(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function $T(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["request","model"],Fe(i,a));const r=u(t,["contents"]);if(r!=null){let m=En(r);Array.isArray(m)&&(m=m.map(y=>_m(y))),c(l,["request","contents"],m)}const f=u(t,["metadata"]);f!=null&&c(l,["metadata"],f);const p=u(t,["config"]);return p!=null&&c(l,["request","generationConfig"],FT(i,p,u(l,["request"],{}))),l}function WT(i){const t={},l=u(i,["response"]);l!=null&&c(t,["response"],YT(l));const a=u(i,["error"]);return a!=null&&c(t,["error"],a),t}function jT(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function eS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const f=u(i,["filter"]);return t!==void 0&&f!=null&&c(t,["_query","filter"],f),l}function tS(i){const t={},l=u(i,["config"]);return l!=null&&jT(l,t),t}function nS(i){const t={},l=u(i,["config"]);return l!=null&&eS(l,t),t}function iS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>xs(p))),c(t,["batchJobs"],f)}return t}function lS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>rc(p))),c(t,["batchJobs"],f)}return t}function oS(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],zT(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],BT(p));const m=u(i,["functionResponse"]);m!=null&&c(t,["functionResponse"],m);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],AT(y));const g=u(i,["text"]);g!=null&&c(t,["text"],g);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const E=u(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function aS(i){const t={},l=u(i,["category"]);if(l!=null&&c(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function sS(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&c(t,["functionCallingConfig"],OT(l));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function rS(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=u(i,["googleMaps"]);m!=null&&c(t,["googleMaps"],KT(m));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],QT(y));const g=u(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var si;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(si||(si={}));class sl{constructor(t,l,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,a,r)}init(t,l,a){var r,f;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=l.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(f=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uS extends ri{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new sl(si.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)}}createInlinedGenerateContentRequest(t){const l=kh(this.apiClient,t),a=l._url,r=oe("{model}:batchGenerateContent",a),m=l.batch.inputConfig.requests,y=m.requests,g=[];for(const v of y){const E=Object.assign({},v);if(E.systemInstruction){const _=E.systemInstruction;delete E.systemInstruction;const A=E.request;A.systemInstruction=_,E.request=A}g.push(E)}return m.requests=g,delete l.config,delete l._url,delete l._query,{path:r,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const a=l?Object.assign({},l):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const f=this.getGcsUri(t),p=this.getBigqueryUri(t);if(f)f.endsWith(".jsonl")?a.dest=`${f.slice(0,-6)}/dest`:a.dest=`${f}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var l,a,r,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const g=IT(this.apiClient,t);return m=oe("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>rc(v))}else{const g=kh(this.apiClient,t);return m=oe("{model}:batchGenerateContent",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>xs(v))}}async createEmbeddingsInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=LT(this.apiClient,t);return f=oe("{model}:asyncBatchEmbedContent",m._url),p=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>xs(y))}}async get(t){var l,a,r,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const g=XT(this.apiClient,t);return m=oe("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>rc(v))}else{const g=JT(this.apiClient,t);return m=oe("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>xs(v))}}async cancel(t){var l,a,r,f;let p="",m={};if(this.apiClient.isVertexAI()){const y=MT(this.apiClient,t);p=oe("batchPredictionJobs/{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=xT(this.apiClient,t);p=oe("batches/{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(t){var l,a,r,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const g=nS(t);return m=oe("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=lS(v),_=new Dh;return Object.assign(_,E),_})}else{const g=tS(t);return m=oe("batches",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=iS(v),_=new Dh;return Object.assign(_,E),_})}}async delete(t){var l,a,r,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const g=GT(this.apiClient,t);return m=oe("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>HT(v))}else{const g=UT(this.apiClient,t);return m=oe("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>kT(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cS(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Hh(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>LS(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function fS(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let v=En(p);Array.isArray(v)&&(v=v.map(E=>Hh(E))),c(t,["contents"],v)}const m=u(i,["systemInstruction"]);t!==void 0&&m!=null&&c(t,["systemInstruction"],Hh(Ot(m)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(E=>GS(E))),c(t,["tools"],v)}const g=u(i,["toolConfig"]);if(t!==void 0&&g!=null&&c(t,["toolConfig"],US(g)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function dS(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let E=En(p);Array.isArray(E)&&(E=E.map(_=>_)),c(t,["contents"],E)}const m=u(i,["systemInstruction"]);t!==void 0&&m!=null&&c(t,["systemInstruction"],Ot(m));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let E=y;Array.isArray(E)&&(E=E.map(_=>kS(_))),c(t,["tools"],E)}const g=u(i,["toolConfig"]);t!==void 0&&g!=null&&c(t,["toolConfig"],g);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&c(t,["encryption_spec","kmsKeyName"],v),l}function pS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],cm(i,a));const r=u(t,["config"]);return r!=null&&fS(r,l),l}function hS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],cm(i,a));const r=u(t,["config"]);return r!=null&&dS(r,l),l}function mS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],ui(i,a)),l}function gS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],ui(i,a)),l}function yS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function vS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function TS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function SS(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function ES(i){const t={},l=u(i,["mode"]);l!=null&&c(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function _S(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const m=u(i,["responseJsonSchema"]);return m!=null&&c(t,["responseJsonSchema"],m),t}function CS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],ui(i,a)),l}function AS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],ui(i,a)),l}function xS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function MS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function bS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function RS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function NS(i){const t={},l=u(i,["config"]);return l!=null&&bS(l,t),t}function wS(i){const t={},l=u(i,["config"]);return l!=null&&RS(l,t),t}function IS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function DS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function LS(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],TS(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],SS(p));const m=u(i,["functionResponse"]);m!=null&&c(t,["functionResponse"],m);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],cS(y));const g=u(i,["text"]);g!=null&&c(t,["text"],g);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const E=u(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function US(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&c(t,["functionCallingConfig"],ES(l));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function GS(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=u(i,["googleMaps"]);m!=null&&c(t,["googleMaps"],xS(m));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],MS(y));const g=u(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}function kS(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let E=l;Array.isArray(E)&&(E=E.map(_=>_S(_))),c(t,["functionDeclarations"],E)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const m=u(i,["enterpriseWebSearch"]);m!=null&&c(t,["enterpriseWebSearch"],m);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],g);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function HS(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function PS(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function qS(i,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],ui(i,a));const r=u(t,["config"]);return r!=null&&HS(r,l),l}function VS(i,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],ui(i,a));const r=u(t,["config"]);return r!=null&&PS(r,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zS extends ri{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new sl(si.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(t){var l,a,r,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const g=hS(this.apiClient,t);return m=oe("cachedContents",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const g=pS(this.apiClient,t);return m=oe("cachedContents",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async get(t){var l,a,r,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const g=AS(this.apiClient,t);return m=oe("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const g=CS(this.apiClient,t);return m=oe("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async delete(t){var l,a,r,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const g=gS(this.apiClient,t);return m=oe("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=vS(v),_=new wh;return Object.assign(_,E),_})}else{const g=mS(this.apiClient,t);return m=oe("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=yS(v),_=new wh;return Object.assign(_,E),_})}}async update(t){var l,a,r,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const g=VS(this.apiClient,t);return m=oe("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const g=qS(this.apiClient,t);return m=oe("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async listInternal(t){var l,a,r,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const g=wS(t);return m=oe("cachedContents",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=DS(v),_=new Ih;return Object.assign(_,E),_})}else{const g=NS(t);return m=oe("cachedContents",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=IS(v),_=new Ih;return Object.assign(_,E),_})}}}function ws(i,t){var l={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(l[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(l[a[r]]=i[a[r]]);return l}function Ph(i){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&i[t],a=0;if(l)return l.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xe(i){return this instanceof xe?(this.v=i,this):new xe(i)}function bn(i,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(i,t||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(A){return function(D){return Promise.resolve(D).then(A,E)}}function m(A,D){a[A]&&(r[A]=function(P){return new Promise(function(N,q){f.push([A,P,N,q])>1||y(A,P)})},D&&(r[A]=D(r[A])))}function y(A,D){try{g(a[A](D))}catch(P){_(f[0][3],P)}}function g(A){A.value instanceof xe?Promise.resolve(A.value.v).then(v,E):_(f[0][2],A)}function v(A){y("next",A)}function E(A){y("throw",A)}function _(A,D){A(D),f.shift(),f.length&&y(f[0][0],f[0][1])}}function Rn(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],l;return t?t.call(i):(i=typeof Ph=="function"?Ph(i):i[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(f){l[f]=i[f]&&function(p){return new Promise(function(m,y){p=i[f](p),r(m,y,p.done,p.value)})}}function r(f,p,m,y){Promise.resolve(y).then(function(g){f({value:g,done:m})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BS(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const l=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:Cm(l)}function Cm(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function OS(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function qh(i){if(i===void 0||i.length===0)return[];const t=[],l=i.length;let a=0;for(;a<l;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let f=!0;for(;a<l&&i[a].role==="model";)r.push(i[a]),f&&!Cm(i[a])&&(f=!1),a++;f?t.push(...r):t.pop()}return t}class FS{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new YS(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class YS{constructor(t,l,a,r={},f=[]){this.apiClient=t,this.modelsModule=l,this.model=a,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),OS(f)}async sendMessage(t){var l;await this.sendPromise;const a=Ot(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var f,p,m;const y=await r,g=(p=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let _=[];v!=null&&(_=(m=v.slice(E))!==null&&m!==void 0?m:[]);const A=g?[g]:[];this.recordHistory(a,A,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var l;await this.sendPromise;const a=Ot(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,a)}getHistory(t=!1){const l=t?qh(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){return bn(this,arguments,function*(){var r,f,p,m,y,g;const v=[];try{for(var E=!0,_=Rn(t),A;A=yield xe(_.next()),r=A.done,!r;E=!0){m=A.value,E=!1;const D=m;if(BS(D)){const P=(g=(y=D.candidates)===null||y===void 0?void 0:y[0])===null||g===void 0?void 0:g.content;P!==void 0&&v.push(P)}yield yield xe(D)}}catch(D){f={error:D}}finally{try{!E&&!r&&(p=_.return)&&(yield xe(p.call(_)))}finally{if(f)throw f.error}}this.recordHistory(l,v)})}recordHistory(t,l,a){let r=[];l.length>0&&l.every(f=>f.role!==void 0)?r=l:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...qh(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ls extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Ls.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JS(i){const t={},l=u(i,["file"]);return l!=null&&c(t,["file"],l),t}function XS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function KS(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","file"],gm(l)),t}function QS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function ZS(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","file"],gm(l)),t}function $S(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function WS(i){const t={},l=u(i,["config"]);return l!=null&&$S(l,t),t}function jS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["files"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eE extends ri{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new sl(si.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=WS(t);return f=oe("files",m._url),p=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=jS(y),v=new lT;return Object.assign(v,g),v})}}async createInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=JS(t);return f=oe("upload/v1beta/files",m._url),p=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=XS(y),v=new oT;return Object.assign(v,g),v})}}async get(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=ZS(t);return f=oe("files/{file}",m._url),p=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=KS(t);return f=oe("files/{file}",m._url),p=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=QS(y),v=new aT;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ms(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function tE(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>yE(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function nE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function iE(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function lE(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const m=u(i,["responseJsonSchema"]);return m!=null&&c(t,["responseJsonSchema"],m),t}function oE(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const m=u(i,["frequencyPenalty"]);m!=null&&c(t,["frequencyPenalty"],m);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const g=u(i,["maxOutputTokens"]);g!=null&&c(t,["maxOutputTokens"],g);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const E=u(i,["presencePenalty"]);E!=null&&c(t,["presencePenalty"],E);const _=u(i,["responseLogprobs"]);_!=null&&c(t,["responseLogprobs"],_);const A=u(i,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const D=u(i,["responseModalities"]);D!=null&&c(t,["responseModalities"],D);const P=u(i,["responseSchema"]);P!=null&&c(t,["responseSchema"],P);const N=u(i,["routingConfig"]);N!=null&&c(t,["routingConfig"],N);const q=u(i,["seed"]);q!=null&&c(t,["seed"],q);const X=u(i,["speechConfig"]);X!=null&&c(t,["speechConfig"],Am(X));const J=u(i,["stopSequences"]);J!=null&&c(t,["stopSequences"],J);const te=u(i,["temperature"]);te!=null&&c(t,["temperature"],te);const le=u(i,["thinkingConfig"]);le!=null&&c(t,["thinkingConfig"],le);const ue=u(i,["topK"]);ue!=null&&c(t,["topK"],ue);const Z=u(i,["topP"]);if(Z!=null&&c(t,["topP"],Z),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function aE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function sE(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function rE(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const m=u(i,["topK"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topK"],m);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const g=u(i,["mediaResolution"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","mediaResolution"],g);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const E=u(i,["speechConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","speechConfig"],bc(E));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","thinkingConfig"],_);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const D=u(i,["systemInstruction"]);t!==void 0&&D!=null&&c(t,["setup","systemInstruction"],tE(Ot(D)));const P=u(i,["tools"]);if(t!==void 0&&P!=null){let ue=no(P);Array.isArray(ue)&&(ue=ue.map(Z=>TE(to(Z)))),c(t,["setup","tools"],ue)}const N=u(i,["sessionResumption"]);t!==void 0&&N!=null&&c(t,["setup","sessionResumption"],vE(N));const q=u(i,["inputAudioTranscription"]);t!==void 0&&q!=null&&c(t,["setup","inputAudioTranscription"],q);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&c(t,["setup","outputAudioTranscription"],X);const J=u(i,["realtimeInputConfig"]);t!==void 0&&J!=null&&c(t,["setup","realtimeInputConfig"],J);const te=u(i,["contextWindowCompression"]);t!==void 0&&te!=null&&c(t,["setup","contextWindowCompression"],te);const le=u(i,["proactivity"]);if(t!==void 0&&le!=null&&c(t,["setup","proactivity"],le),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function uE(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],oE(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const m=u(i,["topK"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topK"],m);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const g=u(i,["mediaResolution"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","mediaResolution"],g);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const E=u(i,["speechConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","speechConfig"],Am(bc(E)));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","thinkingConfig"],_);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const D=u(i,["systemInstruction"]);t!==void 0&&D!=null&&c(t,["setup","systemInstruction"],Ot(D));const P=u(i,["tools"]);if(t!==void 0&&P!=null){let Z=no(P);Array.isArray(Z)&&(Z=Z.map(ve=>SE(to(ve)))),c(t,["setup","tools"],Z)}const N=u(i,["sessionResumption"]);t!==void 0&&N!=null&&c(t,["setup","sessionResumption"],N);const q=u(i,["inputAudioTranscription"]);t!==void 0&&q!=null&&c(t,["setup","inputAudioTranscription"],q);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&c(t,["setup","outputAudioTranscription"],X);const J=u(i,["realtimeInputConfig"]);t!==void 0&&J!=null&&c(t,["setup","realtimeInputConfig"],J);const te=u(i,["contextWindowCompression"]);t!==void 0&&te!=null&&c(t,["setup","contextWindowCompression"],te);const le=u(i,["proactivity"]);t!==void 0&&le!=null&&c(t,["setup","proactivity"],le);const ue=u(i,["explicitVadSignal"]);return t!==void 0&&ue!=null&&c(t,["setup","explicitVadSignal"],ue),l}function cE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Fe(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],rE(r,l)),l}function fE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Fe(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],uE(r,l)),l}function dE(i){const t={},l=u(i,["musicGenerationConfig"]);return l!=null&&c(t,["musicGenerationConfig"],l),t}function pE(i){const t={},l=u(i,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["weightedPrompts"],a)}return t}function hE(i){const t={},l=u(i,["media"]);if(l!=null){let g=fm(l);Array.isArray(g)&&(g=g.map(v=>Ms(v))),c(t,["mediaChunks"],g)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],Ms(pm(a)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],Ms(dm(f)));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const m=u(i,["activityStart"]);m!=null&&c(t,["activityStart"],m);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function mE(i){const t={},l=u(i,["media"]);if(l!=null){let g=fm(l);Array.isArray(g)&&(g=g.map(v=>v)),c(t,["mediaChunks"],g)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],pm(a));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],dm(f));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const m=u(i,["activityStart"]);m!=null&&c(t,["activityStart"],m);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function gE(i){const t={},l=u(i,["setupComplete"]);l!=null&&c(t,["setupComplete"],l);const a=u(i,["serverContent"]);a!=null&&c(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const f=u(i,["toolCallCancellation"]);f!=null&&c(t,["toolCallCancellation"],f);const p=u(i,["usageMetadata"]);p!=null&&c(t,["usageMetadata"],EE(p));const m=u(i,["goAway"]);m!=null&&c(t,["goAway"],m);const y=u(i,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const g=u(i,["voiceActivityDetectionSignal"]);return g!=null&&c(t,["voiceActivityDetectionSignal"],g),t}function yE(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],nE(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],iE(p));const m=u(i,["functionResponse"]);m!=null&&c(t,["functionResponse"],m);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],Ms(y));const g=u(i,["text"]);g!=null&&c(t,["text"],g);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const E=u(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function vE(i){const t={},l=u(i,["handle"]);if(l!=null&&c(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Am(i){const t={},l=u(i,["voiceConfig"]);l!=null&&c(t,["voiceConfig"],l);const a=u(i,["languageCode"]);if(a!=null&&c(t,["languageCode"],a),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function TE(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=u(i,["googleMaps"]);m!=null&&c(t,["googleMaps"],aE(m));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],sE(y));const g=u(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}function SE(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let E=l;Array.isArray(E)&&(E=E.map(_=>lE(_))),c(t,["functionDeclarations"],E)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const m=u(i,["enterpriseWebSearch"]);m!=null&&c(t,["enterpriseWebSearch"],m);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],g);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function EE(i){const t={},l=u(i,["promptTokenCount"]);l!=null&&c(t,["promptTokenCount"],l);const a=u(i,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const f=u(i,["toolUsePromptTokenCount"]);f!=null&&c(t,["toolUsePromptTokenCount"],f);const p=u(i,["thoughtsTokenCount"]);p!=null&&c(t,["thoughtsTokenCount"],p);const m=u(i,["totalTokenCount"]);m!=null&&c(t,["totalTokenCount"],m);const y=u(i,["promptTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(D=>D)),c(t,["promptTokensDetails"],A)}const g=u(i,["cacheTokensDetails"]);if(g!=null){let A=g;Array.isArray(A)&&(A=A.map(D=>D)),c(t,["cacheTokensDetails"],A)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(D=>D)),c(t,["responseTokensDetails"],A)}const E=u(i,["toolUsePromptTokensDetails"]);if(E!=null){let A=E;Array.isArray(A)&&(A=A.map(D=>D)),c(t,["toolUsePromptTokensDetails"],A)}const _=u(i,["trafficType"]);return _!=null&&c(t,["trafficType"],_),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _E(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function CE(i){const t={},l=u(i,["content"]);l!=null&&c(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],AE(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const m=u(i,["groundingMetadata"]);m!=null&&c(t,["groundingMetadata"],m);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const g=u(i,["logprobsResult"]);g!=null&&c(t,["logprobsResult"],g);const v=u(i,["safetyRatings"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(A=>A)),c(t,["safetyRatings"],_)}const E=u(i,["urlContextMetadata"]);return E!=null&&c(t,["urlContextMetadata"],E),t}function AE(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function xE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const r=u(t,["contents"]);if(r!=null){let f=En(r);Array.isArray(f)&&(f=f.map(p=>p)),c(l,["contents"],f)}return l}function ME(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["tokensInfo"],r)}return t}function bE(i){const t={},l=u(i,["values"]);l!=null&&c(t,["values"],l);const a=u(i,["statistics"]);return a!=null&&c(t,["statistics"],RE(a)),t}function RE(i){const t={},l=u(i,["truncated"]);l!=null&&c(t,["truncated"],l);const a=u(i,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function Us(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>H_(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function NE(i){const t={},l=u(i,["controlType"]);l!=null&&c(t,["controlType"],l);const a=u(i,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function wE(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function IE(i,t){const l={},a=u(i,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],Ot(a));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>Nm(m))),c(t,["tools"],p)}const f=u(i,["generationConfig"]);return t!==void 0&&f!=null&&c(t,["generationConfig"],__(f)),l}function DE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const r=u(t,["contents"]);if(r!=null){let p=En(r);Array.isArray(p)&&(p=p.map(m=>Us(m))),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&wE(f),l}function LE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const r=u(t,["contents"]);if(r!=null){let p=En(r);Array.isArray(p)&&(p=p.map(m=>m)),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&IE(f,l),l}function UE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function GE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function kE(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Fe(i,a)),l}function HE(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Fe(i,a)),l}function PE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function qE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function VE(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const m=u(i,["guidanceScale"]);t!==void 0&&m!=null&&c(t,["parameters","guidanceScale"],m);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const E=u(i,["includeSafetyAttributes"]);t!==void 0&&E!=null&&c(t,["parameters","includeSafetyAttributes"],E);const _=u(i,["includeRaiReason"]);t!==void 0&&_!=null&&c(t,["parameters","includeRaiReason"],_);const A=u(i,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const D=u(i,["outputMimeType"]);t!==void 0&&D!=null&&c(t,["parameters","outputOptions","mimeType"],D);const P=u(i,["outputCompressionQuality"]);t!==void 0&&P!=null&&c(t,["parameters","outputOptions","compressionQuality"],P);const N=u(i,["addWatermark"]);t!==void 0&&N!=null&&c(t,["parameters","addWatermark"],N);const q=u(i,["labels"]);t!==void 0&&q!=null&&c(t,["labels"],q);const X=u(i,["editMode"]);t!==void 0&&X!=null&&c(t,["parameters","editMode"],X);const J=u(i,["baseSteps"]);return t!==void 0&&J!=null&&c(t,["parameters","editConfig","baseSteps"],J),l}function zE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["referenceImages"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(y=>O_(y))),c(l,["instances[0]","referenceImages"],m)}const p=u(t,["config"]);return p!=null&&VE(p,l),l}function BE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>Gs(f))),c(t,["generatedImages"],r)}return t}function OE(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function FE(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const f=u(i,["outputDimensionality"]);t!==void 0&&f!=null&&c(t,["parameters","outputDimensionality"],f);const p=u(i,["mimeType"]);t!==void 0&&p!=null&&c(t,["instances[]","mimeType"],p);const m=u(i,["autoTruncate"]);return t!==void 0&&m!=null&&c(t,["parameters","autoTruncate"],m),l}function YE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const r=u(t,["contents"]);if(r!=null){let m=Ac(i,r);Array.isArray(m)&&(m=m.map(y=>y)),c(l,["requests[]","content"],m)}const f=u(t,["config"]);f!=null&&OE(f,l);const p=u(t,["model"]);return p!==void 0&&c(l,["requests[]","model"],Fe(i,p)),l}function JE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const r=u(t,["contents"]);if(r!=null){let p=Ac(i,r);Array.isArray(p)&&(p=p.map(m=>m)),c(l,["instances[]","content"],p)}const f=u(t,["config"]);return f!=null&&FE(f,l),l}function XE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function KE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions[]","embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>bE(p))),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function QE(i){const t={},l=u(i,["endpoint"]);l!=null&&c(t,["name"],l);const a=u(i,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function ZE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function $E(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function WE(i){const t={},l=u(i,["mode"]);l!=null&&c(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function jE(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const m=u(i,["responseJsonSchema"]);return m!=null&&c(t,["responseJsonSchema"],m),t}function e_(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],Us(Ot(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const m=u(t,["topK"]);m!=null&&c(a,["topK"],m);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const g=u(t,["maxOutputTokens"]);g!=null&&c(a,["maxOutputTokens"],g);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const E=u(t,["responseLogprobs"]);E!=null&&c(a,["responseLogprobs"],E);const _=u(t,["logprobs"]);_!=null&&c(a,["logprobs"],_);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const D=u(t,["frequencyPenalty"]);D!=null&&c(a,["frequencyPenalty"],D);const P=u(t,["seed"]);P!=null&&c(a,["seed"],P);const N=u(t,["responseMimeType"]);N!=null&&c(a,["responseMimeType"],N);const q=u(t,["responseSchema"]);q!=null&&c(a,["responseSchema"],xc(q));const X=u(t,["responseJsonSchema"]);if(X!=null&&c(a,["responseJsonSchema"],X),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=u(t,["safetySettings"]);if(l!==void 0&&J!=null){let pe=J;Array.isArray(pe)&&(pe=pe.map(Re=>F_(Re))),c(l,["safetySettings"],pe)}const te=u(t,["tools"]);if(l!==void 0&&te!=null){let pe=no(te);Array.isArray(pe)&&(pe=pe.map(Re=>$_(to(Re)))),c(l,["tools"],pe)}const le=u(t,["toolConfig"]);if(l!==void 0&&le!=null&&c(l,["toolConfig"],Z_(le)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ue=u(t,["cachedContent"]);l!==void 0&&ue!=null&&c(l,["cachedContent"],ui(i,ue));const Z=u(t,["responseModalities"]);Z!=null&&c(a,["responseModalities"],Z);const ve=u(t,["mediaResolution"]);ve!=null&&c(a,["mediaResolution"],ve);const ae=u(t,["speechConfig"]);if(ae!=null&&c(a,["speechConfig"],Mc(ae)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const _e=u(t,["thinkingConfig"]);_e!=null&&c(a,["thinkingConfig"],_e);const j=u(t,["imageConfig"]);j!=null&&c(a,["imageConfig"],b_(j));const re=u(t,["enableEnhancedCivicAnswers"]);return re!=null&&c(a,["enableEnhancedCivicAnswers"],re),a}function t_(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],Ot(r));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const m=u(t,["topK"]);m!=null&&c(a,["topK"],m);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const g=u(t,["maxOutputTokens"]);g!=null&&c(a,["maxOutputTokens"],g);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const E=u(t,["responseLogprobs"]);E!=null&&c(a,["responseLogprobs"],E);const _=u(t,["logprobs"]);_!=null&&c(a,["logprobs"],_);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const D=u(t,["frequencyPenalty"]);D!=null&&c(a,["frequencyPenalty"],D);const P=u(t,["seed"]);P!=null&&c(a,["seed"],P);const N=u(t,["responseMimeType"]);N!=null&&c(a,["responseMimeType"],N);const q=u(t,["responseSchema"]);q!=null&&c(a,["responseSchema"],xc(q));const X=u(t,["responseJsonSchema"]);X!=null&&c(a,["responseJsonSchema"],X);const J=u(t,["routingConfig"]);J!=null&&c(a,["routingConfig"],J);const te=u(t,["modelSelectionConfig"]);te!=null&&c(a,["modelConfig"],te);const le=u(t,["safetySettings"]);if(l!==void 0&&le!=null){let k=le;Array.isArray(k)&&(k=k.map($=>$)),c(l,["safetySettings"],k)}const ue=u(t,["tools"]);if(l!==void 0&&ue!=null){let k=no(ue);Array.isArray(k)&&(k=k.map($=>Nm(to($)))),c(l,["tools"],k)}const Z=u(t,["toolConfig"]);l!==void 0&&Z!=null&&c(l,["toolConfig"],Z);const ve=u(t,["labels"]);l!==void 0&&ve!=null&&c(l,["labels"],ve);const ae=u(t,["cachedContent"]);l!==void 0&&ae!=null&&c(l,["cachedContent"],ui(i,ae));const _e=u(t,["responseModalities"]);_e!=null&&c(a,["responseModalities"],_e);const j=u(t,["mediaResolution"]);j!=null&&c(a,["mediaResolution"],j);const re=u(t,["speechConfig"]);re!=null&&c(a,["speechConfig"],Rm(Mc(re)));const pe=u(t,["audioTimestamp"]);pe!=null&&c(a,["audioTimestamp"],pe);const Re=u(t,["thinkingConfig"]);Re!=null&&c(a,["thinkingConfig"],Re);const ze=u(t,["imageConfig"]);if(ze!=null&&c(a,["imageConfig"],R_(ze)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return a}function Vh(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const r=u(t,["contents"]);if(r!=null){let p=En(r);Array.isArray(p)&&(p=p.map(m=>Us(m))),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(l,["generationConfig"],e_(i,f,l)),l}function zh(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const r=u(t,["contents"]);if(r!=null){let p=En(r);Array.isArray(p)&&(p=p.map(m=>m)),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(l,["generationConfig"],t_(i,f,l)),l}function Bh(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(g=>CE(g))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const m=u(i,["usageMetadata"]);return m!=null&&c(t,["usageMetadata"],m),t}function Oh(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(v=>v)),c(t,["candidates"],g)}const r=u(i,["createTime"]);r!=null&&c(t,["createTime"],r);const f=u(i,["modelVersion"]);f!=null&&c(t,["modelVersion"],f);const p=u(i,["promptFeedback"]);p!=null&&c(t,["promptFeedback"],p);const m=u(i,["responseId"]);m!=null&&c(t,["responseId"],m);const y=u(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function n_(i,t){const l={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const f=u(i,["guidanceScale"]);if(t!==void 0&&f!=null&&c(t,["parameters","guidanceScale"],f),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const m=u(i,["personGeneration"]);t!==void 0&&m!=null&&c(t,["parameters","personGeneration"],m);const y=u(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const g=u(i,["includeRaiReason"]);t!==void 0&&g!=null&&c(t,["parameters","includeRaiReason"],g);const v=u(i,["language"]);t!==void 0&&v!=null&&c(t,["parameters","language"],v);const E=u(i,["outputMimeType"]);t!==void 0&&E!=null&&c(t,["parameters","outputOptions","mimeType"],E);const _=u(i,["outputCompressionQuality"]);if(t!==void 0&&_!=null&&c(t,["parameters","outputOptions","compressionQuality"],_),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=u(i,["imageSize"]);if(t!==void 0&&A!=null&&c(t,["parameters","sampleImageSize"],A),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function i_(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const m=u(i,["guidanceScale"]);t!==void 0&&m!=null&&c(t,["parameters","guidanceScale"],m);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const E=u(i,["includeSafetyAttributes"]);t!==void 0&&E!=null&&c(t,["parameters","includeSafetyAttributes"],E);const _=u(i,["includeRaiReason"]);t!==void 0&&_!=null&&c(t,["parameters","includeRaiReason"],_);const A=u(i,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const D=u(i,["outputMimeType"]);t!==void 0&&D!=null&&c(t,["parameters","outputOptions","mimeType"],D);const P=u(i,["outputCompressionQuality"]);t!==void 0&&P!=null&&c(t,["parameters","outputOptions","compressionQuality"],P);const N=u(i,["addWatermark"]);t!==void 0&&N!=null&&c(t,["parameters","addWatermark"],N);const q=u(i,["labels"]);t!==void 0&&q!=null&&c(t,["labels"],q);const X=u(i,["imageSize"]);t!==void 0&&X!=null&&c(t,["parameters","sampleImageSize"],X);const J=u(i,["enhancePrompt"]);return t!==void 0&&J!=null&&c(t,["parameters","enhancePrompt"],J),l}function l_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&n_(f,l),l}function o_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&i_(f,l),l}function a_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>v_(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],Mm(r)),t}function s_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>Gs(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],bm(r)),t}function r_(i,t){const l={},a=u(i,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(i,["aspectRatio"]);t!==void 0&&f!=null&&c(t,["parameters","aspectRatio"],f);const p=u(i,["resolution"]);t!==void 0&&p!=null&&c(t,["parameters","resolution"],p);const m=u(i,["personGeneration"]);if(t!==void 0&&m!=null&&c(t,["parameters","personGeneration"],m),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const g=u(i,["enhancePrompt"]);if(t!==void 0&&g!=null&&c(t,["parameters","enhancePrompt"],g),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(i,["lastFrame"]);t!==void 0&&v!=null&&c(t,["instances[0]","lastFrame"],ks(v));const E=u(i,["referenceImages"]);if(t!==void 0&&E!=null){let _=E;Array.isArray(_)&&(_=_.map(A=>c1(A))),c(t,["instances[0]","referenceImages"],_)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function u_(i,t){const l={},a=u(i,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const f=u(i,["fps"]);t!==void 0&&f!=null&&c(t,["parameters","fps"],f);const p=u(i,["durationSeconds"]);t!==void 0&&p!=null&&c(t,["parameters","durationSeconds"],p);const m=u(i,["seed"]);t!==void 0&&m!=null&&c(t,["parameters","seed"],m);const y=u(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const g=u(i,["resolution"]);t!==void 0&&g!=null&&c(t,["parameters","resolution"],g);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const E=u(i,["pubsubTopic"]);t!==void 0&&E!=null&&c(t,["parameters","pubsubTopic"],E);const _=u(i,["negativePrompt"]);t!==void 0&&_!=null&&c(t,["parameters","negativePrompt"],_);const A=u(i,["enhancePrompt"]);t!==void 0&&A!=null&&c(t,["parameters","enhancePrompt"],A);const D=u(i,["generateAudio"]);t!==void 0&&D!=null&&c(t,["parameters","generateAudio"],D);const P=u(i,["lastFrame"]);t!==void 0&&P!=null&&c(t,["instances[0]","lastFrame"],Nn(P));const N=u(i,["referenceImages"]);if(t!==void 0&&N!=null){let J=N;Array.isArray(J)&&(J=J.map(te=>f1(te))),c(t,["instances[0]","referenceImages"],J)}const q=u(i,["mask"]);t!==void 0&&q!=null&&c(t,["instances[0]","mask"],u1(q));const X=u(i,["compressionQuality"]);return t!==void 0&&X!=null&&c(t,["parameters","compressionQuality"],X),l}function c_(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],h_(p)),t}function f_(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],m_(p)),t}function d_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(l,["instances[0]","image"],ks(f));const p=u(t,["video"]);p!=null&&c(l,["instances[0]","video"],wm(p));const m=u(t,["source"]);m!=null&&g_(m,l);const y=u(t,["config"]);return y!=null&&r_(y,l),l}function p_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(l,["instances[0]","image"],Nn(f));const p=u(t,["video"]);p!=null&&c(l,["instances[0]","video"],Im(p));const m=u(t,["source"]);m!=null&&y_(m,l);const y=u(t,["config"]);return y!=null&&u_(y,l),l}function h_(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>S_(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function m_(i){const t={},l=u(i,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>E_(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function g_(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],ks(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],wm(f)),l}function y_(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Nn(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],Im(f)),l}function v_(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["image"],N_(l));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);return r!=null&&c(t,["safetyAttributes"],Mm(r)),t}function Gs(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["image"],xm(l));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);r!=null&&c(t,["safetyAttributes"],bm(r));const f=u(i,["prompt"]);return f!=null&&c(t,["enhancedPrompt"],f),t}function T_(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["mask"],xm(l));const a=u(i,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["labels"],r)}return t}function S_(i){const t={},l=u(i,["video"]);return l!=null&&c(t,["video"],s1(l)),t}function E_(i){const t={},l=u(i,["_self"]);return l!=null&&c(t,["video"],r1(l)),t}function __(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const m=u(i,["frequencyPenalty"]);m!=null&&c(t,["frequencyPenalty"],m);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const g=u(i,["maxOutputTokens"]);g!=null&&c(t,["maxOutputTokens"],g);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const E=u(i,["presencePenalty"]);E!=null&&c(t,["presencePenalty"],E);const _=u(i,["responseLogprobs"]);_!=null&&c(t,["responseLogprobs"],_);const A=u(i,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const D=u(i,["responseModalities"]);D!=null&&c(t,["responseModalities"],D);const P=u(i,["responseSchema"]);P!=null&&c(t,["responseSchema"],P);const N=u(i,["routingConfig"]);N!=null&&c(t,["routingConfig"],N);const q=u(i,["seed"]);q!=null&&c(t,["seed"],q);const X=u(i,["speechConfig"]);X!=null&&c(t,["speechConfig"],Rm(X));const J=u(i,["stopSequences"]);J!=null&&c(t,["stopSequences"],J);const te=u(i,["temperature"]);te!=null&&c(t,["temperature"],te);const le=u(i,["thinkingConfig"]);le!=null&&c(t,["thinkingConfig"],le);const ue=u(i,["topK"]);ue!=null&&c(t,["topK"],ue);const Z=u(i,["topP"]);if(Z!=null&&c(t,["topP"],Z),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function C_(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Fe(i,a)),l}function A_(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Fe(i,a)),l}function x_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function M_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function b_(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function R_(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);a!=null&&c(t,["imageSize"],a);const r=u(i,["outputMimeType"]);r!=null&&c(t,["imageOutputOptions","mimeType"],r);const f=u(i,["outputCompressionQuality"]);return f!=null&&c(t,["imageOutputOptions","compressionQuality"],f),t}function N_(i){const t={},l=u(i,["bytesBase64Encoded"]);l!=null&&c(t,["imageBytes"],zi(l));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function xm(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],zi(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function ks(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(i,["imageBytes"]);l!=null&&c(t,["bytesBase64Encoded"],zi(l));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Nn(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],zi(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function w_(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(t,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const p=u(t,["filter"]);l!==void 0&&p!=null&&c(l,["_query","filter"],p);const m=u(t,["queryBase"]);return l!==void 0&&m!=null&&c(l,["_url","models_url"],ym(i,m)),a}function I_(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(t,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const p=u(t,["filter"]);l!==void 0&&p!=null&&c(l,["_query","filter"],p);const m=u(t,["queryBase"]);return l!==void 0&&m!=null&&c(l,["_url","models_url"],ym(i,m)),a}function D_(i,t){const l={},a=u(t,["config"]);return a!=null&&w_(i,a,l),l}function L_(i,t){const l={},a=u(t,["config"]);return a!=null&&I_(i,a,l),l}function U_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=vm(r);Array.isArray(f)&&(f=f.map(p=>uc(p))),c(t,["models"],f)}return t}function G_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=vm(r);Array.isArray(f)&&(f=f.map(p=>cc(p))),c(t,["models"],f)}return t}function k_(i){const t={},l=u(i,["maskMode"]);l!=null&&c(t,["maskMode"],l);const a=u(i,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const r=u(i,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function uc(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["version"]);f!=null&&c(t,["version"],f);const p=u(i,["_self"]);p!=null&&c(t,["tunedModelInfo"],W_(p));const m=u(i,["inputTokenLimit"]);m!=null&&c(t,["inputTokenLimit"],m);const y=u(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const g=u(i,["supportedGenerationMethods"]);g!=null&&c(t,["supportedActions"],g);const v=u(i,["temperature"]);v!=null&&c(t,["temperature"],v);const E=u(i,["maxTemperature"]);E!=null&&c(t,["maxTemperature"],E);const _=u(i,["topP"]);_!=null&&c(t,["topP"],_);const A=u(i,["topK"]);A!=null&&c(t,["topK"],A);const D=u(i,["thinking"]);return D!=null&&c(t,["thinking"],D),t}function cc(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["versionId"]);f!=null&&c(t,["version"],f);const p=u(i,["deployedModels"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(_=>QE(_))),c(t,["endpoints"],E)}const m=u(i,["labels"]);m!=null&&c(t,["labels"],m);const y=u(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],j_(y));const g=u(i,["defaultCheckpointId"]);g!=null&&c(t,["defaultCheckpointId"],g);const v=u(i,["checkpoints"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(_=>_)),c(t,["checkpoints"],E)}return t}function H_(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],ZE(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],$E(p));const m=u(i,["functionResponse"]);m!=null&&c(t,["functionResponse"],m);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],_E(y));const g=u(i,["text"]);g!=null&&c(t,["text"],g);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const E=u(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function P_(i){const t={},l=u(i,["productImage"]);return l!=null&&c(t,["image"],Nn(l)),t}function q_(i,t){const l={},a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const f=u(i,["outputGcsUri"]);t!==void 0&&f!=null&&c(t,["parameters","storageUri"],f);const p=u(i,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const m=u(i,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const g=u(i,["addWatermark"]);t!==void 0&&g!=null&&c(t,["parameters","addWatermark"],g);const v=u(i,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const E=u(i,["outputCompressionQuality"]);t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E);const _=u(i,["enhancePrompt"]);t!==void 0&&_!=null&&c(t,["parameters","enhancePrompt"],_);const A=u(i,["labels"]);return t!==void 0&&A!=null&&c(t,["labels"],A),l}function V_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const r=u(t,["source"]);r!=null&&B_(r,l);const f=u(t,["config"]);return f!=null&&q_(f,l),l}function z_(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>Gs(r))),c(t,["generatedImages"],a)}return t}function B_(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],Nn(r));const f=u(i,["productImages"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>P_(m))),c(t,["instances[0]","productImages"],p)}return l}function O_(i){const t={},l=u(i,["referenceImage"]);l!=null&&c(t,["referenceImage"],Nn(l));const a=u(i,["referenceId"]);a!=null&&c(t,["referenceId"],a);const r=u(i,["referenceType"]);r!=null&&c(t,["referenceType"],r);const f=u(i,["maskImageConfig"]);f!=null&&c(t,["maskImageConfig"],k_(f));const p=u(i,["controlImageConfig"]);p!=null&&c(t,["controlImageConfig"],NE(p));const m=u(i,["styleImageConfig"]);m!=null&&c(t,["styleImageConfig"],m);const y=u(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function Mm(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function bm(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function F_(i){const t={},l=u(i,["category"]);if(l!=null&&c(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function Y_(i){const t={},l=u(i,["image"]);return l!=null&&c(t,["image"],Nn(l)),t}function J_(i,t){const l={},a=u(i,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const f=u(i,["confidenceThreshold"]);t!==void 0&&f!=null&&c(t,["parameters","confidenceThreshold"],f);const p=u(i,["maskDilation"]);t!==void 0&&p!=null&&c(t,["parameters","maskDilation"],p);const m=u(i,["binaryColorThreshold"]);t!==void 0&&m!=null&&c(t,["parameters","binaryColorThreshold"],m);const y=u(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),l}function X_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const r=u(t,["source"]);r!=null&&Q_(r,l);const f=u(t,["config"]);return f!=null&&J_(f,l),l}function K_(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>T_(r))),c(t,["generatedMasks"],a)}return t}function Q_(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Nn(r));const f=u(i,["scribbleImage"]);return t!==void 0&&f!=null&&c(t,["instances[0]","scribble"],Y_(f)),l}function Rm(i){const t={},l=u(i,["voiceConfig"]);l!=null&&c(t,["voiceConfig"],l);const a=u(i,["languageCode"]);if(a!=null&&c(t,["languageCode"],a),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function Z_(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&c(t,["functionCallingConfig"],WE(l));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function $_(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=u(i,["googleMaps"]);m!=null&&c(t,["googleMaps"],x_(m));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],M_(y));const g=u(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}function Nm(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let E=l;Array.isArray(E)&&(E=E.map(_=>jE(_))),c(t,["functionDeclarations"],E)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const m=u(i,["enterpriseWebSearch"]);m!=null&&c(t,["enterpriseWebSearch"],m);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],g);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function W_(i){const t={},l=u(i,["baseModel"]);l!=null&&c(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function j_(i){const t={},l=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&c(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function e1(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),l}function t1(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),l}function n1(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","name"],Fe(i,a));const r=u(t,["config"]);return r!=null&&e1(r,l),l}function i1(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const r=u(t,["config"]);return r!=null&&t1(r,l),l}function l1(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const f=u(i,["personGeneration"]);t!==void 0&&f!=null&&c(t,["parameters","personGeneration"],f);const p=u(i,["includeRaiReason"]);t!==void 0&&p!=null&&c(t,["parameters","includeRaiReason"],p);const m=u(i,["outputMimeType"]);t!==void 0&&m!=null&&c(t,["parameters","outputOptions","mimeType"],m);const y=u(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const g=u(i,["enhanceInputImage"]);t!==void 0&&g!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],g);const v=u(i,["imagePreservationFactor"]);t!==void 0&&v!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const E=u(i,["labels"]);t!==void 0&&E!=null&&c(t,["labels"],E);const _=u(i,["numberOfImages"]);t!==void 0&&_!=null&&c(t,["parameters","sampleCount"],_);const A=u(i,["mode"]);return t!==void 0&&A!=null&&c(t,["parameters","mode"],A),l}function o1(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const r=u(t,["image"]);r!=null&&c(l,["instances[0]","image"],Nn(r));const f=u(t,["upscaleFactor"]);f!=null&&c(l,["parameters","upscaleConfig","upscaleFactor"],f);const p=u(t,["config"]);return p!=null&&l1(p,l),l}function a1(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>Gs(f))),c(t,["generatedImages"],r)}return t}function s1(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],zi(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function r1(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],zi(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function u1(i){const t={},l=u(i,["image"]);l!=null&&c(t,["_self"],Nn(l));const a=u(i,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function c1(i){const t={},l=u(i,["image"]);l!=null&&c(t,["image"],ks(l));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function f1(i){const t={},l=u(i,["image"]);l!=null&&c(t,["image"],Nn(l));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function wm(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["videoBytes"]);a!=null&&c(t,["encodedVideo"],zi(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function Im(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],zi(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function d1(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),l}function p1(i){const t={},l=u(i,["config"]);return l!=null&&d1(l,t),t}function h1(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function m1(i){const t={},l=u(i,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&h1(a,t),t}function g1(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function y1(i,t){const l={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["customMetadata"],f)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),l}function v1(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],S1(p)),t}function T1(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(i,["fileName"]);a!=null&&c(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&y1(r,t),t}function S1(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function E1(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function _1(i){const t={},l=u(i,["config"]);return l!=null&&E1(l,t),t}function C1(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["fileSearchStores"],f)}return t}function Dm(i,t){const l={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const f=u(i,["customMetadata"]);if(t!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(y=>y)),c(t,["customMetadata"],m)}const p=u(i,["chunkingConfig"]);return t!==void 0&&p!=null&&c(t,["chunkingConfig"],p),l}function A1(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(i,["config"]);return a!=null&&Dm(a,t),t}function x1(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const M1="Content-Type",b1="X-Server-Timeout",R1="User-Agent",fc="x-goog-api-client",N1="1.33.0",w1=`google-genai-sdk/${N1}`,I1="v1beta1",D1="v1beta";class L1{constructor(t){var l,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:I1,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:D1,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,a){const r=[this.getRequestUrlInternal(l)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);if(t.queryParams)for(const[p,m]of Object.entries(t.queryParams))r.searchParams.append(p,String(m));let f={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=t.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,l,r.toString(),t.abortSignal),this.unaryApiCall(r,f,t.httpMethod)}patchHttpOptions(t,l){const a=JSON.parse(JSON.stringify(t));for(const[r,f]of Object.entries(l))typeof f=="object"?a[r]=Object.assign(Object.assign({},a[r]),f):f!==void 0&&(a[r]=f);return a}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=t.body,f=await this.includeExtraHttpOptionsToRequestInit(f,l,r.toString(),t.abortSignal),this.streamApiCall(r,f,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,a,r){if(l&&l.timeout||r){const f=new AbortController,p=f.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const m=setTimeout(()=>f.abort(),l.timeout);m&&typeof m.unref=="function"&&m.unref()}r&&r.addEventListener("abort",()=>{f.abort()}),t.signal=p}return l&&l.extraBody!==null&&U1(t,l.extraBody),t.headers=await this.getHeadersInternal(l,a),t}async unaryApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Fh(r),new ac(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Fh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return bn(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const m="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:g,value:v}=yield xe(r.read());if(g){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const E=f.decode(v,{stream:!0});try{const D=JSON.parse(E);if("error"in D){const P=JSON.parse(JSON.stringify(D.error)),N=P.status,q=P.code,X=`got status: ${N}. ${JSON.stringify(D)}`;if(q>=400&&q<600)throw new Ls({message:X,status:q})}}catch(D){if(D.name==="ApiError")throw D}p+=E;let _=-1,A=0;for(;;){_=-1,A=0;for(const N of y){const q=p.indexOf(N);q!==-1&&(_===-1||q<_)&&(_=q,A=N.length)}if(_===-1)break;const D=p.substring(0,_);p=p.substring(_+A);const P=D.trim();if(P.startsWith(m)){const N=P.substring(m.length).trim();try{const q=new Response(N,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield xe(new ac(q))}catch(q){throw new Error(`exception parsing stream chunk ${N}. ${q}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,l){return fetch(t,l).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},l=w1+" "+this.clientOptions.userAgentExtra;return t[R1]=l,t[fc]=l,t[M1]="application/json",t}async getHeadersInternal(t,l){const a=new Headers;if(t&&t.headers){for(const[r,f]of Object.entries(t.headers))a.append(r,f);t.timeout&&t.timeout>0&&a.append(b1,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,l),a}getFileName(t){var l;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(l=a.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),a}async uploadFile(t,l){var a;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,p=await f.stat(t);r.sizeBytes=String(p.size);const m=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:p.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=m;const y={file:r},g=this.getFileName(t),v=oe("upload/v1beta/files",y._url),E=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,g,y,l==null?void 0:l.httpOptions);return f.upload(t,E,this)}async uploadFileToFileSearchStore(t,l,a){var r;const f=this.clientOptions.uploader,p=await f.stat(l),m=String(p.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const g=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(l),E={};a!=null&&Dm(a,E);const _=await this.fetchUploadUrl(g,m,y,v,E,a==null?void 0:a.httpOptions);return f.uploadToFileSearchStore(l,_,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l,a,r,f,p){var m;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const g=await this.request({path:t,body:JSON.stringify(f),httpMethod:"POST",httpOptions:y});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(m=g==null?void 0:g.headers)===null||m===void 0?void 0:m["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Fh(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const l=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw l>=400&&l<600?new Ls({message:r,status:l}):new Error(r)}}function U1(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof i.body=="string"&&i.body.length>0)try{const f=JSON.parse(i.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))l=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(f,p){const m=Object.assign({},f);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const g=p[y],v=m[y];g&&typeof g=="object"&&!Array.isArray(g)&&v&&typeof v=="object"&&!Array.isArray(v)?m[y]=a(v,g):(v&&g&&typeof v!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof g}. Overwriting.`),m[y]=g)}return m}const r=a(l,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const G1="mcp_used/unknown";let k1=!1;function Lm(i){for(const t of i)if(H1(t)||typeof t=="object"&&"inputSchema"in t)return!0;return k1}function Um(i){var t;const l=(t=i[fc])!==null&&t!==void 0?t:"";i[fc]=(l+` ${G1}`).trimStart()}function H1(i){return i!==null&&typeof i=="object"&&i instanceof Rc}function P1(i){return bn(this,arguments,function*(l,a=100){let r,f=0;for(;f<a;){const p=yield xe(l.listTools({cursor:r}));for(const m of p.tools)yield yield xe(m),f++;if(!p.nextCursor)break;r=p.nextCursor}})}class Rc{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new Rc(t,l)}async initialize(){var t,l,a,r;if(this.mcpTools.length>0)return;const f={},p=[];for(const v of this.mcpClients)try{for(var m=!0,y=(l=void 0,Rn(P1(v))),g;g=await y.next(),t=g.done,!t;m=!0){r=g.value,m=!1;const E=r;p.push(E);const _=E.name;if(f[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);f[_]=v}}catch(E){l={error:E}}finally{try{!m&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}this.mcpTools=p,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),gT(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,f);l.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function q1(i,t,l){const a=new rT;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),Object.assign(a,r),t(a)}class V1{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a}async connect(t){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),p=O1(this.apiClient.getDefaultHeaders()),m=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${m}`;let g=()=>{};const v=new Promise(J=>{g=J}),E=t.callbacks,_=function(){g({})},A=this.apiClient,D={onopen:_,onmessage:J=>{q1(A,E.onmessage,J)},onerror:(l=E==null?void 0:E.onerror)!==null&&l!==void 0?l:function(J){},onclose:(a=E==null?void 0:E.onclose)!==null&&a!==void 0?a:function(J){}},P=this.webSocketFactory.create(y,B1(p),D);P.connect(),await v;const X={setup:{model:Fe(this.apiClient,t.model)}};return P.send(JSON.stringify(X)),new z1(P,this.apiClient)}}class z1{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=pE(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=dE(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl($l.PLAY)}pause(){this.sendPlaybackControl($l.PAUSE)}stop(){this.sendPlaybackControl($l.STOP)}resetContext(){this.sendPlaybackControl($l.RESET_CONTEXT)}close(){this.conn.close()}}function B1(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function O1(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const F1="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Y1(i,t,l){const a=new sT;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const f=JSON.parse(r);if(i.isVertexAI()){const p=gE(f);Object.assign(a,p)}else Object.assign(a,f);t(a)}class J1{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a,this.music=new V1(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,a,r,f,p,m;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let v;const E=this.apiClient.getHeaders();t.config&&t.config.tools&&Lm(t.config.tools)&&Um(E);const _=Z1(E);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,v);else{const ae=this.apiClient.getApiKey();let _e="BidiGenerateContent",j="key";ae!=null&&ae.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),_e="BidiGenerateContentConstrained",j="access_token"),v=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${_e}?${j}=${ae}`}let A=()=>{};const D=new Promise(ae=>{A=ae}),P=t.callbacks,N=function(){var ae;(ae=P==null?void 0:P.onopen)===null||ae===void 0||ae.call(P),A({})},q=this.apiClient,X={onopen:N,onmessage:ae=>{Y1(q,P.onmessage,ae)},onerror:(l=P==null?void 0:P.onerror)!==null&&l!==void 0?l:function(ae){},onclose:(a=P==null?void 0:P.onclose)!==null&&a!==void 0?a:function(ae){}},J=this.webSocketFactory.create(v,Q1(_),X);J.connect(),await D;let te=Fe(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&te.startsWith("publishers/")){const ae=this.apiClient.getProject(),_e=this.apiClient.getLocation();te=`projects/${ae}/locations/${_e}/`+te}let le={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[bs.AUDIO]}:t.config.responseModalities=[bs.AUDIO]),!((f=t.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ue=(m=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&m!==void 0?m:[],Z=[];for(const ae of ue)if(this.isCallableTool(ae)){const _e=ae;Z.push(await _e.tool())}else Z.push(ae);Z.length>0&&(t.config.tools=Z);const ve={model:te,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?le=fE(this.apiClient,ve):le=cE(this.apiClient,ve),delete le.config,J.send(JSON.stringify(le)),new K1(J,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const X1={turnComplete:!0};class K1{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=En(l.turns),t.isVertexAI()||(a=a.map(r=>Us(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const f of a){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!t.isVertexAI()&&!("id"in f))throw new Error(F1)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},X1),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:mE(t)}:l={realtimeInput:hE(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function Q1(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function Z1(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yh=10;function Jh(i){var t,l,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(l=i==null?void 0:i.tools)!==null&&l!==void 0?l:[])if(eo(p)){r=!0;break}if(!r)return!0;const f=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function eo(i){return"callTool"in i&&typeof i.callTool=="function"}function $1(i){var t,l,a;return(a=(l=(t=i.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(r=>eo(r)))!==null&&a!==void 0?a:!1}function Xh(i){var t;const l=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(eo(a))return;const f=a;f.functionDeclarations&&f.functionDeclarations.length>0&&l.push(r)}),l}function Kh(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class W1 extends ri{constructor(t){super(),this.apiClient=t,this.generateContent=async l=>{var a,r,f,p,m;const y=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!$1(l)||Jh(l.config))return await this.generateContentInternal(y);const g=Xh(l);if(g.length>0){const P=g.map(N=>`tools[${N}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${P}.`)}let v,E;const _=En(y.contents),A=(f=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:Yh;let D=0;for(;D<A&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const P=v.candidates[0].content,N=[];for(const q of(m=(p=l.config)===null||p===void 0?void 0:p.tools)!==null&&m!==void 0?m:[])if(eo(q)){const J=await q.callTool(v.functionCalls);N.push(...J)}D++,E={role:"user",parts:N},y.contents=En(y.contents),y.contents.push(P),y.contents.push(E),Kh(y.config)&&(_.push(P),_.push(E))}return Kh(y.config)&&(v.automaticFunctionCallingHistory=_),v},this.generateContentStream=async l=>{var a,r,f,p,m;if(this.maybeMoveToResponseJsonSchem(l),Jh(l.config)){const E=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(E)}const y=Xh(l);if(y.length>0){const E=y.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const g=(f=(r=(a=l==null?void 0:l.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||f===void 0?void 0:f.streamFunctionCallArguments,v=(m=(p=l==null?void 0:l.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||m===void 0?void 0:m.disable;if(g&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var r;let f;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:p.push(y);let m;return f?m={generatedImages:p,positivePromptSafetyAttributes:f,sdkHttpResponse:a.sdkHttpResponse}:m={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},m}),this.list=async l=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new sl(si.PAGED_ITEM_MODELS,m=>this.listInternal(m),await this.listInternal(p),p)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async l=>{var a,r,f,p,m,y;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=l.video)===null||a===void 0)&&a.uri&&(!((r=l.video)===null||r===void 0)&&r.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((p=(f=l.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.uri&&(!((y=(m=l.source)===null||m===void 0?void 0:m.video)===null||y===void 0)&&y.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,a,r;const f=(l=t.config)===null||l===void 0?void 0:l.tools;if(!f)return t;const p=await Promise.all(f.map(async y=>eo(y)?await y.tool():y)),m={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(m.config.tools=p,t.config&&t.config.tools&&Lm(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),Um(g),m.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:g})}return m}async initAfcToolsMap(t){var l,a,r;const f=new Map;for(const p of(a=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(eo(p)){const m=p,y=await m.tool();for(const g of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!g.name)throw new Error("Function declaration name is required.");if(f.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);f.set(g.name,m)}}return f}async processAfcStream(t){var l,a,r;const f=(r=(a=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Yh;let p=!1,m=0;const y=await this.initAfcToolsMap(t);return(function(g,v,E){return bn(this,arguments,function*(){for(var _,A,D,P,N,q;m<f;){p&&(m++,p=!1);const le=yield xe(g.processParamsMaybeAddMcpUsage(E)),ue=yield xe(g.generateContentStreamInternal(le)),Z=[],ve=[];try{for(var X=!0,J=(A=void 0,Rn(ue)),te;te=yield xe(J.next()),_=te.done,!_;X=!0){P=te.value,X=!1;const ae=P;if(yield yield xe(ae),ae.candidates&&(!((N=ae.candidates[0])===null||N===void 0)&&N.content)){ve.push(ae.candidates[0].content);for(const _e of(q=ae.candidates[0].content.parts)!==null&&q!==void 0?q:[])if(m<f&&_e.functionCall){if(!_e.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(_e.functionCall.name)){const j=yield xe(v.get(_e.functionCall.name).callTool([_e.functionCall]));Z.push(...j)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${_e.functionCall.name}`)}}}}catch(ae){A={error:ae}}finally{try{!X&&!_&&(D=J.return)&&(yield xe(D.call(J)))}finally{if(A)throw A.error}}if(Z.length>0){p=!0;const ae=new la;ae.candidates=[{content:{role:"user",parts:Z}}],yield yield xe(ae);const _e=[];_e.push(...ve),_e.push({role:"user",parts:Z});const j=En(E.contents).concat(_e);E.contents=j}else break}})})(this,y,t)}async generateContentInternal(t){var l,a,r,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const g=zh(this.apiClient,t);return m=oe("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=Oh(v),_=new la;return Object.assign(_,E),_})}else{const g=Vh(this.apiClient,t);return m=oe("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=Bh(v),_=new la;return Object.assign(_,E),_})}}async generateContentStreamInternal(t){var l,a,r,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const g=zh(this.apiClient,t);return m=oe("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.requestStream({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(E){return bn(this,arguments,function*(){var _,A,D,P;try{for(var N=!0,q=Rn(E),X;X=yield xe(q.next()),_=X.done,!_;N=!0){P=X.value,N=!1;const J=P,te=Oh(yield xe(J.json()));te.sdkHttpResponse={headers:J.headers};const le=new la;Object.assign(le,te),yield yield xe(le)}}catch(J){A={error:J}}finally{try{!N&&!_&&(D=q.return)&&(yield xe(D.call(q)))}finally{if(A)throw A.error}}})})}else{const g=Vh(this.apiClient,t);return m=oe("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.requestStream({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}),p.then(function(E){return bn(this,arguments,function*(){var _,A,D,P;try{for(var N=!0,q=Rn(E),X;X=yield xe(q.next()),_=X.done,!_;N=!0){P=X.value,N=!1;const J=P,te=Bh(yield xe(J.json()));te.sdkHttpResponse={headers:J.headers};const le=new la;Object.assign(le,te),yield yield xe(le)}}catch(J){A={error:J}}finally{try{!N&&!_&&(D=q.return)&&(yield xe(D.call(q)))}finally{if(A)throw A.error}}})})}}async embedContent(t){var l,a,r,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const g=JE(this.apiClient,t);return m=oe("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=KE(v),_=new Ch;return Object.assign(_,E),_})}else{const g=YE(this.apiClient,t);return m=oe("{model}:batchEmbedContents",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=XE(v),_=new Ch;return Object.assign(_,E),_})}}async generateImagesInternal(t){var l,a,r,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const g=o_(this.apiClient,t);return m=oe("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=s_(v),_=new Ah;return Object.assign(_,E),_})}else{const g=l_(this.apiClient,t);return m=oe("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=a_(v),_=new Ah;return Object.assign(_,E),_})}}async editImageInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const m=zE(this.apiClient,t);return f=oe("{model}:predict",m._url),p=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=BE(y),v=new Zv;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const m=o1(this.apiClient,t);return f=oe("{model}:predict",m._url),p=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=a1(y),v=new $v;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const m=V_(this.apiClient,t);return f=oe("{model}:predict",m._url),p=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=z_(y),v=new Wv;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const m=X_(this.apiClient,t);return f=oe("{model}:predict",m._url),p=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=K_(y),v=new jv;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,a,r,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const g=A_(this.apiClient,t);return m=oe("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>cc(v))}else{const g=C_(this.apiClient,t);return m=oe("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>uc(v))}}async listInternal(t){var l,a,r,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const g=L_(this.apiClient,t);return m=oe("{models_url}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=G_(v),_=new xh;return Object.assign(_,E),_})}else{const g=D_(this.apiClient,t);return m=oe("{models_url}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=U_(v),_=new xh;return Object.assign(_,E),_})}}async update(t){var l,a,r,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const g=i1(this.apiClient,t);return m=oe("{model}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>cc(v))}else{const g=n1(this.apiClient,t);return m=oe("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>uc(v))}}async delete(t){var l,a,r,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const g=HE(this.apiClient,t);return m=oe("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=qE(v),_=new Mh;return Object.assign(_,E),_})}else{const g=kE(this.apiClient,t);return m=oe("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=PE(v),_=new Mh;return Object.assign(_,E),_})}}async countTokens(t){var l,a,r,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const g=LE(this.apiClient,t);return m=oe("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=GE(v),_=new bh;return Object.assign(_,E),_})}else{const g=DE(this.apiClient,t);return m=oe("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=UE(v),_=new bh;return Object.assign(_,E),_})}}async computeTokens(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const m=xE(this.apiClient,t);return f=oe("{model}:computeTokens",m._url),p=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=ME(y),v=new eT;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,a,r,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const g=p_(this.apiClient,t);return m=oe("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>{const E=f_(v),_=new Rs;return Object.assign(_,E),_})}else{const g=d_(this.apiClient,t);return m=oe("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>{const E=c_(v),_=new Rs;return Object.assign(_,E),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class j1 extends ri{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var l,a,r,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const g=Fv(t);return m=oe("{operationName}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p}else{const g=Ov(t);return m=oe("{operationName}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const m=kv(t);return f=oe("{resourceName}:fetchPredictOperation",m._url),p=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eC(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function tC(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>cC(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function nC(i,t,l){const a={},r=u(t,["expireTime"]);l!==void 0&&r!=null&&c(l,["expireTime"],r);const f=u(t,["newSessionExpireTime"]);l!==void 0&&f!=null&&c(l,["newSessionExpireTime"],f);const p=u(t,["uses"]);l!==void 0&&p!=null&&c(l,["uses"],p);const m=u(t,["liveConnectConstraints"]);l!==void 0&&m!=null&&c(l,["bidiGenerateContentSetup"],uC(i,m));const y=u(t,["lockAdditionalFields"]);return l!==void 0&&y!=null&&c(l,["fieldMask"],y),a}function iC(i,t){const l={},a=u(t,["config"]);return a!=null&&c(l,["config"],nC(i,a,l)),l}function lC(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function oC(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function aC(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function sC(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function rC(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const m=u(i,["topK"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topK"],m);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const g=u(i,["mediaResolution"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","mediaResolution"],g);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const E=u(i,["speechConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","speechConfig"],bc(E));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","thinkingConfig"],_);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const D=u(i,["systemInstruction"]);t!==void 0&&D!=null&&c(t,["setup","systemInstruction"],tC(Ot(D)));const P=u(i,["tools"]);if(t!==void 0&&P!=null){let ue=no(P);Array.isArray(ue)&&(ue=ue.map(Z=>dC(to(Z)))),c(t,["setup","tools"],ue)}const N=u(i,["sessionResumption"]);t!==void 0&&N!=null&&c(t,["setup","sessionResumption"],fC(N));const q=u(i,["inputAudioTranscription"]);t!==void 0&&q!=null&&c(t,["setup","inputAudioTranscription"],q);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&c(t,["setup","outputAudioTranscription"],X);const J=u(i,["realtimeInputConfig"]);t!==void 0&&J!=null&&c(t,["setup","realtimeInputConfig"],J);const te=u(i,["contextWindowCompression"]);t!==void 0&&te!=null&&c(t,["setup","contextWindowCompression"],te);const le=u(i,["proactivity"]);if(t!==void 0&&le!=null&&c(t,["setup","proactivity"],le),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function uC(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Fe(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],rC(r,l)),l}function cC(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],lC(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],oC(p));const m=u(i,["functionResponse"]);m!=null&&c(t,["functionResponse"],m);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],eC(y));const g=u(i,["text"]);g!=null&&c(t,["text"],g);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const E=u(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function fC(i){const t={},l=u(i,["handle"]);if(l!=null&&c(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function dC(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=u(i,["googleMaps"]);m!=null&&c(t,["googleMaps"],aC(m));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],sC(y));const g=u(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pC(i){const t=[];for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const a=i[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(f=>`${l}.${f}`);t.push(...r)}else t.push(l)}return t.join(",")}function hC(i,t){let l=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const f=a.setup;typeof f=="object"&&f!==null?(i.bidiGenerateContentSetup=f,l=f):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(l){const f=pC(l);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)f?i.fieldMask=f:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let m=[];r.length>0&&(m=r.map(g=>p.includes(g)?`generationConfig.${g}`:g));const y=[];f&&y.push(f),m.length>0&&y.push(...m),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class mC extends ri{constructor(t){super(),this.apiClient=t}async create(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const m=iC(this.apiClient,t);f=oe("auth_tokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query;const y=hC(m,t.config);return r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gC(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function yC(i){const t={},l=u(i,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&gC(a,t),t}function vC(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function TC(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function SC(i){const t={},l=u(i,["parent"]);l!=null&&c(t,["_url","parent"],l);const a=u(i,["config"]);return a!=null&&TC(a,t),t}function EC(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["documents"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _C extends ri{constructor(t){super(),this.apiClient=t,this.list=async l=>new sl(si.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:l.parent,config:a.config}),await this.listInternal(l),l)}async get(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=vC(t);return f=oe("{name}",m._url),p=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=yC(t);r=oe("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=SC(t);return f=oe("{parent}/documents",m._url),p=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=EC(y),v=new tT;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CC extends ri{constructor(t,l=new _C(t)){super(),this.apiClient=t,this.documents=l,this.list=async(a={})=>new sl(si.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=p1(t);return f=oe("fileSearchStores",m._url),p=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=g1(t);return f=oe("{name}",m._url),p=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=m1(t);r=oe("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=_1(t);return f=oe("fileSearchStores",m._url),p=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=C1(y),v=new nT;return Object.assign(v,g),v})}}async uploadToFileSearchStoreInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=A1(t);return f=oe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",m._url),p=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=x1(y),v=new iT;return Object.assign(v,g),v})}}async importFile(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=T1(t);return f=oe("{file_search_store_name}:importFile",m._url),p=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=v1(y),v=new _c;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Gm=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return Gm=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),l=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^l()&15>>+a/4).toString(16))};const AC=()=>Gm();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dc(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const pc=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _n extends Error{}class Qt extends _n{constructor(t,l,a,r){super(`${Qt.makeMessage(t,l,a)}`),this.status=t,this.headers=r,this.error=l}static makeMessage(t,l,a){const r=l!=null&&l.message?typeof l.message=="string"?l.message:JSON.stringify(l.message):l?JSON.stringify(l):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,l,a,r){if(!t||!r)return new Hs({message:a,cause:pc(l)});const f=l;return t===400?new Hm(t,f,a,r):t===401?new Pm(t,f,a,r):t===403?new qm(t,f,a,r):t===404?new Vm(t,f,a,r):t===409?new zm(t,f,a,r):t===422?new Bm(t,f,a,r):t===429?new Om(t,f,a,r):t>=500?new Fm(t,f,a,r):new Qt(t,f,a,r)}}class hc extends Qt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Hs extends Qt{constructor({message:t,cause:l}){super(void 0,void 0,t||"Connection error.",void 0),l&&(this.cause=l)}}class km extends Hs{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Hm extends Qt{}class Pm extends Qt{}class qm extends Qt{}class Vm extends Qt{}class zm extends Qt{}class Bm extends Qt{}class Om extends Qt{}class Fm extends Qt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xC=/^[a-z][a-z0-9+.-]*:/i,MC=i=>xC.test(i);let mc=i=>(mc=Array.isArray,mc(i));const bC=mc;let RC=bC;const Qh=RC;function NC(i){if(!i)return!0;for(const t in i)return!1;return!0}function wC(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const IC=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new _n(`${i} must be an integer`);if(t<0)throw new _n(`${i} must be a positive integer`);return t},DC=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LC=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zl="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UC(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const GC=()=>{var i,t,l,a,r;const f=UC();if(f==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zl,"X-Stainless-OS":$h(Deno.build.os),"X-Stainless-Arch":Zh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(f==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zl,"X-Stainless-OS":$h((l=globalThis.process.platform)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Arch":Zh((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=kC();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function kC(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:l}of i){const a=l.exec(navigator.userAgent);if(a){const r=a[1]||0,f=a[2]||0,p=a[3]||0;return{browser:t,version:`${r}.${f}.${p}`}}}return null}const Zh=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",$h=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Ss;const HC=()=>Ss??(Ss=GC());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PC(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Ym(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function qC(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return Ym({start(){},async pull(l){const{done:a,value:r}=await t.next();a?l.close():l.enqueue(r)},async cancel(){var l;await((l=t.return)===null||l===void 0?void 0:l.call(t))}})}function Jm(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const l=await t.read();return l!=null&&l.done&&t.releaseLock(),l}catch(l){throw t.releaseLock(),l}},async return(){const l=t.cancel();return t.releaseLock(),await l,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function VC(i){var t,l;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((l=(t=i[Symbol.asyncIterator]()).return)===null||l===void 0?void 0:l.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zC=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xm=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,l=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(l?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ec(i,t,l){return Xm(),new File(i,t??"unknown_file",l)}function BC(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const OC=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Km=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",FC=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Km(i),YC=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function JC(i,t,l){if(Xm(),i=await i,FC(i))return i instanceof File?i:ec([await i.arrayBuffer()],i.name);if(YC(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),ec(await gc(r),t,l)}const a=await gc(i);if(t||(t=BC(i)),!(l!=null&&l.type)){const r=a.find(f=>typeof f=="object"&&"type"in f&&f.type);typeof r=="string"&&(l=Object.assign(Object.assign({},l),{type:r}))}return ec(a,t,l)}async function gc(i){var t,l,a,r,f;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(Km(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(OC(i))try{for(var m=!0,y=Rn(i),g;g=await y.next(),t=g.done,!t;m=!0){r=g.value,m=!1;const v=r;p.push(...await gc(v))}}catch(v){l={error:v}}finally{try{!m&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}else{const v=(f=i==null?void 0:i.constructor)===null||f===void 0?void 0:f.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${XC(i)}`)}return p}function XC(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(l=>`"${l}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qm{constructor(t){this._client=t}}Qm._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zm(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Wh=Object.freeze(Object.create(null)),KC=(i=Zm)=>(function(l,...a){if(l.length===1)return l[0];let r=!1;const f=[],p=l.reduce((v,E,_)=>{var A,D,P;/[?#]/.test(E)&&(r=!0);const N=a[_];let q=(r?encodeURIComponent:i)(""+N);return _!==a.length&&(N==null||typeof N=="object"&&N.toString===((P=Object.getPrototypeOf((D=Object.getPrototypeOf((A=N.hasOwnProperty)!==null&&A!==void 0?A:Wh))!==null&&D!==void 0?D:Wh))===null||P===void 0?void 0:P.toString))&&(q=N+"",f.push({start:v.length+E.length,length:q.length,error:`Value of type ${Object.prototype.toString.call(N).slice(8,-1)} is not a valid path parameter`})),v+E+(_===a.length?"":q)},""),m=p.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=y.exec(m))!==null;)f.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(f.sort((v,E)=>v.start-E.start),f.length>0){let v=0;const E=f.reduce((_,A)=>{const D=" ".repeat(A.start-v),P="^".repeat(A.length);return v=A.start+A.length,_+D+P},"");throw new _n(`Path parameters result in path with invalid segments:
${f.map(_=>_.error).join(`
`)}
${p}
${E}`)}return p}),Es=KC(Zm);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $m extends Qm{create(t,l){var a;const{api_version:r=this._client.apiVersion}=t,f=ws(t,["api_version"]);if("model"in f&&"agent_config"in f)throw new _n("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in f&&"generation_config"in f)throw new _n("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Es`/${r}/interactions`,Object.assign(Object.assign({body:f},l),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.delete(Es`/${r}/interactions/${t}`,a)}cancel(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.post(Es`/${r}/interactions/${t}/cancel`,a)}get(t,l={},a){var r;const f=l??{},{api_version:p=this._client.apiVersion}=f,m=ws(f,["api_version"]);return this._client.get(Es`/${p}/interactions/${t}`,Object.assign(Object.assign({query:m},a),{stream:(r=l==null?void 0:l.stream)!==null&&r!==void 0?r:!1}))}}$m._key=Object.freeze(["interactions"]);class Wm extends $m{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QC(i){let t=0;for(const r of i)t+=r.length;const l=new Uint8Array(t);let a=0;for(const r of i)l.set(r,a),a+=r.length;return l}let _s;function Nc(i){let t;return(_s??(t=new globalThis.TextEncoder,_s=t.encode.bind(t)))(i)}let Cs;function jh(i){let t;return(Cs??(t=new globalThis.TextDecoder,Cs=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ps{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const l=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Nc(t):t;this.buffer=QC([this.buffer,l]);const a=[];let r;for(;(r=ZC(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(jh(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const f=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=jh(this.buffer.subarray(0,f));a.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}Ps.NEWLINE_CHARS=new Set([`
`,"\r"]);Ps.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function ZC(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function $C(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Is={off:0,error:200,warn:300,info:400,debug:500},em=(i,t,l)=>{if(i){if(wC(Is,i))return i;Kt(l).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Is))}`)}};function oa(){}function As(i,t,l){return!t||Is[i]>Is[l]?oa:t[i].bind(t)}const WC={error:oa,warn:oa,info:oa,debug:oa};let tm=new WeakMap;function Kt(i){var t;const l=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!l)return WC;const r=tm.get(l);if(r&&r[0]===a)return r[1];const f={error:As("error",l,a),warn:As("warn",l,a),info:As("info",l,a),debug:As("debug",l,a)};return tm.set(l,[a,f]),f}const al=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,l])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":l]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wl{constructor(t,l,a){this.iterator=t,this.controller=l,this.client=a}static fromSSEResponse(t,l,a){let r=!1;const f=a?Kt(a):console;function p(){return bn(this,arguments,function*(){var y,g,v,E;if(r)throw new _n("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var A=!0,D=Rn(jC(t,l)),P;P=yield xe(D.next()),y=P.done,!y;A=!0){E=P.value,A=!1;const N=E;if(!_)if(N.data.startsWith("[DONE]")){_=!0;continue}else try{yield yield xe(JSON.parse(N.data))}catch(q){throw f.error("Could not parse message into JSON:",N.data),f.error("From chunk:",N.raw),q}}}catch(N){g={error:N}}finally{try{!A&&!y&&(v=D.return)&&(yield xe(v.call(D)))}finally{if(g)throw g.error}}_=!0}catch(N){if(dc(N))return yield xe(void 0);throw N}finally{_||l.abort()}})}return new Wl(p,l,a)}static fromReadableStream(t,l,a){let r=!1;function f(){return bn(this,arguments,function*(){var y,g,v,E;const _=new Ps,A=Jm(t);try{for(var D=!0,P=Rn(A),N;N=yield xe(P.next()),y=N.done,!y;D=!0){E=N.value,D=!1;const q=E;for(const X of _.decode(q))yield yield xe(X)}}catch(q){g={error:q}}finally{try{!D&&!y&&(v=P.return)&&(yield xe(v.call(P)))}finally{if(g)throw g.error}}for(const q of _.flush())yield yield xe(q)})}function p(){return bn(this,arguments,function*(){var y,g,v,E;if(r)throw new _n("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var A=!0,D=Rn(f()),P;P=yield xe(D.next()),y=P.done,!y;A=!0){E=P.value,A=!1;const N=E;_||N&&(yield yield xe(JSON.parse(N)))}}catch(N){g={error:N}}finally{try{!A&&!y&&(v=D.return)&&(yield xe(v.call(D)))}finally{if(g)throw g.error}}_=!0}catch(N){if(dc(N))return yield xe(void 0);throw N}finally{_||l.abort()}})}return new Wl(p,l,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],l=[],a=this.iterator(),r=f=>({next:()=>{if(f.length===0){const p=a.next();t.push(p),l.push(p)}return f.shift()}});return[new Wl(()=>r(t),this.controller,this.client),new Wl(()=>r(l),this.controller,this.client)]}toReadableStream(){const t=this;let l;return Ym({async start(){l=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:f}=await l.next();if(f)return a.close();const p=Nc(JSON.stringify(r)+`
`);a.enqueue(p)}catch(r){a.error(r)}},async cancel(){var a;await((a=l.return)===null||a===void 0?void 0:a.call(l))}})}}function jC(i,t){return bn(this,arguments,function*(){var a,r,f,p;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new _n("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new _n("Attempted to iterate over a response with no body");const m=new tA,y=new Ps,g=Jm(i.body);try{for(var v=!0,E=Rn(eA(g)),_;_=yield xe(E.next()),a=_.done,!a;v=!0){p=_.value,v=!1;const A=p;for(const D of y.decode(A)){const P=m.decode(D);P&&(yield yield xe(P))}}}catch(A){r={error:A}}finally{try{!v&&!a&&(f=E.return)&&(yield xe(f.call(E)))}finally{if(r)throw r.error}}for(const A of y.flush()){const D=m.decode(A);D&&(yield yield xe(D))}})}function eA(i){return bn(this,arguments,function*(){var l,a,r,f;let p=new Uint8Array;try{for(var m=!0,y=Rn(i),g;g=yield xe(y.next()),l=g.done,!l;m=!0){f=g.value,m=!1;const v=f;if(v==null)continue;const E=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Nc(v):v;let _=new Uint8Array(p.length+E.length);_.set(p),_.set(E,p.length),p=_;let A;for(;(A=$C(p))!==-1;)yield yield xe(p.slice(0,A)),p=p.slice(A)}}catch(v){a={error:v}}finally{try{!m&&!l&&(r=y.return)&&(yield xe(r.call(y)))}finally{if(a)throw a.error}}p.length>0&&(yield yield xe(p))})}class tA{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(t),t.startsWith(":"))return null;let[l,a,r]=nA(t,":");return r.startsWith(" ")&&(r=r.substring(1)),l==="event"?this.event=r:l==="data"&&this.data.push(r),null}}function nA(i,t){const l=i.indexOf(t);return l!==-1?[i.substring(0,l),t,i.substring(l+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function iA(i,t){const{response:l,requestLogID:a,retryOfRequestLogID:r,startTime:f}=t,p=await(async()=>{var m;if(t.options.stream)return Kt(i).debug("response",l.status,l.url,l.headers,l.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(l,t.controller,i):Wl.fromSSEResponse(l,t.controller,i);if(l.status===204)return null;if(t.options.__binaryResponse)return l;const y=l.headers.get("content-type"),g=(m=y==null?void 0:y.split(";")[0])===null||m===void 0?void 0:m.trim();return(g==null?void 0:g.includes("application/json"))||(g==null?void 0:g.endsWith("+json"))?await l.json():await l.text()})();return Kt(i).debug(`[${a}] response parsed`,al({retryOfRequestLogID:r,url:l.url,status:l.status,body:p,durationMs:Date.now()-f})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wc extends Promise{constructor(t,l,a=iA){super(r=>{r(null)}),this.responsePromise=l,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new wc(this.client,this.responsePromise,async(l,a)=>t(await this.parseResponse(l,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,l]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:l}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,l){return this.parse().then(t,l)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jm=Symbol("brand.privateNullableHeaders");function*lA(i){if(!i)return;if(jm in i){const{values:a,nulls:r}=i;yield*a.entries();for(const f of r)yield[f,null];return}let t=!1,l;i instanceof Headers?l=i.entries():Qh(i)?l=i:(t=!0,l=Object.entries(i??{}));for(let a of l){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const f=Qh(a[1])?a[1]:[a[1]];let p=!1;for(const m of f)m!==void 0&&(t&&!p&&(p=!0,yield[r,null]),yield[r,m])}}const tc=i=>{const t=new Headers,l=new Set;for(const a of i){const r=new Set;for(const[f,p]of lA(a)){const m=f.toLowerCase();r.has(m)||(t.delete(f),r.add(m)),p===null?(t.delete(f),l.add(m)):(t.append(f,p),l.delete(m))}}return{[jm]:!0,values:t,nulls:l}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nc=i=>{var t,l,a,r,f,p;if(typeof globalThis.process<"u")return(a=(l=(t=wv)===null||t===void 0?void 0:t[i])===null||l===void 0?void 0:l.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(p=(f=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||f===void 0?void 0:f.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var eg;class qs{constructor(t){var l,a,r,f,p,m,y,g=t===void 0?{}:t,{baseURL:v=nc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:E=(l=nc("GEMINI_API_KEY"))!==null&&l!==void 0?l:null,apiVersion:_="v1beta"}=g,A=ws(g,["baseURL","apiKey","apiVersion"]);const D=Object.assign(Object.assign({apiKey:E,apiVersion:_},A),{baseURL:v||"https://generativelanguage.googleapis.com"});this.baseURL=D.baseURL,this.timeout=(a=D.timeout)!==null&&a!==void 0?a:qs.DEFAULT_TIMEOUT,this.logger=(r=D.logger)!==null&&r!==void 0?r:console;const P="warn";this.logLevel=P,this.logLevel=(p=(f=em(D.logLevel,"ClientOptions.logLevel",this))!==null&&f!==void 0?f:em(nc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:P,this.fetchOptions=D.fetchOptions,this.maxRetries=(m=D.maxRetries)!==null&&m!==void 0?m:2,this.fetch=(y=D.fetch)!==null&&y!==void 0?y:PC(),this.encoder=zC,this._options=D,this.apiKey=E,this.apiVersion=_}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:l}){if(!(this.apiKey&&t.get("x-goog-api-key"))&&!l.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){if(this.apiKey!=null)return tc([{"x-goog-api-key":this.apiKey}])}stringifyQuery(t){return Object.entries(t).filter(([l,a])=>typeof a<"u").map(([l,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(l)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(l)}=`;throw new _n(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Zl}`}defaultIdempotencyKey(){return`stainless-node-retry-${AC()}`}makeStatusError(t,l,a,r){return Qt.generate(t,l,a,r)}buildURL(t,l,a){const r=!this.baseURLOverridden()&&a||this.baseURL,f=MC(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return NC(p)||(l=Object.assign(Object.assign({},p),l)),typeof l=="object"&&l&&!Array.isArray(l)&&(f.search=this.stringifyQuery(l)),f.toString()}async prepareOptions(t){}async prepareRequest(t,{url:l,options:a}){}get(t,l){return this.methodRequest("get",t,l)}post(t,l){return this.methodRequest("post",t,l)}patch(t,l){return this.methodRequest("patch",t,l)}put(t,l){return this.methodRequest("put",t,l)}delete(t,l){return this.methodRequest("delete",t,l)}methodRequest(t,l,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:l},r)))}request(t,l=null){return new wc(this,this.makeRequest(t,l,void 0))}async makeRequest(t,l,a){var r,f,p;const m=await t,y=(r=m.maxRetries)!==null&&r!==void 0?r:this.maxRetries;l==null&&(l=y),await this.prepareOptions(m);const{req:g,url:v,timeout:E}=await this.buildRequest(m,{retryCount:y-l});await this.prepareRequest(g,{url:v,options:m});const _="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=a===void 0?"":`, retryOf: ${a}`,D=Date.now();if(Kt(this).debug(`[${_}] sending request`,al({retryOfRequestLogID:a,method:m.method,url:v,options:m,headers:g.headers})),!((f=m.signal)===null||f===void 0)&&f.aborted)throw new hc;const P=new AbortController,N=await this.fetchWithTimeout(v,g,E,P).catch(pc),q=Date.now();if(N instanceof globalThis.Error){const J=`retrying, ${l} attempts remaining`;if(!((p=m.signal)===null||p===void 0)&&p.aborted)throw new hc;const te=dc(N)||/timed? ?out/i.test(String(N)+("cause"in N?String(N.cause):""));if(l)return Kt(this).info(`[${_}] connection ${te?"timed out":"failed"} - ${J}`),Kt(this).debug(`[${_}] connection ${te?"timed out":"failed"} (${J})`,al({retryOfRequestLogID:a,url:v,durationMs:q-D,message:N.message})),this.retryRequest(m,l,a??_);throw Kt(this).info(`[${_}] connection ${te?"timed out":"failed"} - error; no more retries left`),Kt(this).debug(`[${_}] connection ${te?"timed out":"failed"} (error; no more retries left)`,al({retryOfRequestLogID:a,url:v,durationMs:q-D,message:N.message})),te?new km:new Hs({cause:N})}const X=`[${_}${A}] ${g.method} ${v} ${N.ok?"succeeded":"failed"} with status ${N.status} in ${q-D}ms`;if(!N.ok){const J=await this.shouldRetry(N);if(l&&J){const ae=`retrying, ${l} attempts remaining`;return await VC(N.body),Kt(this).info(`${X} - ${ae}`),Kt(this).debug(`[${_}] response error (${ae})`,al({retryOfRequestLogID:a,url:N.url,status:N.status,headers:N.headers,durationMs:q-D})),this.retryRequest(m,l,a??_,N.headers)}const te=J?"error; no more retries left":"error; not retryable";Kt(this).info(`${X} - ${te}`);const le=await N.text().catch(ae=>pc(ae).message),ue=DC(le),Z=ue?void 0:le;throw Kt(this).debug(`[${_}] response error (${te})`,al({retryOfRequestLogID:a,url:N.url,status:N.status,headers:N.headers,message:Z,durationMs:Date.now()-D})),this.makeStatusError(N.status,ue,Z,N.headers)}return Kt(this).info(X),Kt(this).debug(`[${_}] response start`,al({retryOfRequestLogID:a,url:N.url,status:N.status,headers:N.headers,durationMs:q-D})),{response:N,options:m,controller:P,requestLogID:_,retryOfRequestLogID:a,startTime:D}}async fetchWithTimeout(t,l,a,r){const f=l||{},{signal:p,method:m}=f,y=ws(f,["signal","method"]);p&&p.addEventListener("abort",()=>r.abort());const g=setTimeout(()=>r.abort(),a),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,E=Object.assign(Object.assign(Object.assign({signal:r.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);m&&(E.method=m.toUpperCase());try{return await this.fetch.call(void 0,t,E)}finally{clearTimeout(g)}}async shouldRetry(t){const l=t.headers.get("x-should-retry");return l==="true"?!0:l==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,l,a,r){var f;let p;const m=r==null?void 0:r.get("retry-after-ms");if(m){const g=parseFloat(m);Number.isNaN(g)||(p=g)}const y=r==null?void 0:r.get("retry-after");if(y&&!p){const g=parseFloat(y);Number.isNaN(g)?p=Date.parse(y)-Date.now():p=g*1e3}if(!(p&&0<=p&&p<60*1e3)){const g=(f=t.maxRetries)!==null&&f!==void 0?f:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(l,g)}return await LC(p),this.makeRequest(t,l-1,a)}calculateDefaultRetryTimeoutMillis(t,l){const f=l-t,p=Math.min(.5*Math.pow(2,f),8),m=1-Math.random()*.25;return p*m*1e3}async buildRequest(t,{retryCount:l=0}={}){var a,r,f;const p=Object.assign({},t),{method:m,path:y,query:g,defaultBaseURL:v}=p,E=this.buildURL(y,g,v);"timeout"in p&&IC("timeout",p.timeout),p.timeout=(a=p.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:_,body:A}=this.buildBody({options:p}),D=await this.buildHeaders({options:t,method:m,bodyHeaders:_,retryCount:l});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:m,headers:D},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(f=p.fetchOptions)!==null&&f!==void 0?f:{}),url:E,timeout:p.timeout}}async buildHeaders({options:t,method:l,bodyHeaders:a,retryCount:r}){let f={};this.idempotencyHeader&&l!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=t.idempotencyKey);const p=tc([f,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),HC()),await this.authHeaders(t),this._options.defaultHeaders,a,t.headers]);return this.validateHeaders(p),p.values}buildBody({options:{body:t,headers:l}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=tc([l]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:qC(t)}:this.encoder({body:t,headers:a})}}qs.DEFAULT_TIMEOUT=6e4;class It extends qs{constructor(){super(...arguments),this.interactions=new Wm(this)}}eg=It;It.GeminiNextGenAPIClient=eg;It.GeminiNextGenAPIClientError=_n;It.APIError=Qt;It.APIConnectionError=Hs;It.APIConnectionTimeoutError=km;It.APIUserAbortError=hc;It.NotFoundError=Vm;It.ConflictError=zm;It.RateLimitError=Om;It.BadRequestError=Hm;It.AuthenticationError=Pm;It.InternalServerError=Fm;It.PermissionDeniedError=qm;It.UnprocessableEntityError=Bm;It.toFile=JC;It.Interactions=Wm;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oA(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function aA(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function sA(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function rA(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function uA(i,t,l){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=u(i,["epochCount"]);t!==void 0&&f!=null&&c(t,["tuningTask","hyperparameters","epochCount"],f);const p=u(i,["learningRateMultiplier"]);if(p!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=u(i,["batchSize"]);t!==void 0&&m!=null&&c(t,["tuningTask","hyperparameters","batchSize"],m);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function cA(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const A=u(i,["validationDataset"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec"],nm(A))}else if(r==="PREFERENCE_TUNING"){const A=u(i,["validationDataset"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec"],nm(A))}const f=u(i,["tunedModelDisplayName"]);t!==void 0&&f!=null&&c(t,["tunedModelDisplayName"],f);const p=u(i,["description"]);t!==void 0&&p!=null&&c(t,["description"],p);let m=u(l,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const A=u(i,["epochCount"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(m==="PREFERENCE_TUNING"){const A=u(i,["epochCount"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let y=u(l,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const A=u(i,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(y==="PREFERENCE_TUNING"){const A=u(i,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let g=u(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const A=u(i,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(g==="PREFERENCE_TUNING"){const A=u(i,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let v=u(l,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const A=u(i,["adapterSize"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(v==="PREFERENCE_TUNING"){const A=u(i,["adapterSize"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=u(i,["labels"]);t!==void 0&&E!=null&&c(t,["labels"],E);const _=u(i,["beta"]);return t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],_),a}function fA(i,t){const l={},a=u(i,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&_A(f);const p=u(i,["config"]);return p!=null&&uA(p,l),l}function dA(i,t){const l={},a=u(i,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&CA(f,l,t);const p=u(i,["config"]);return p!=null&&cA(p,l,t),l}function pA(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function hA(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function mA(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function gA(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function yA(i,t){const l={},a=u(i,["config"]);return a!=null&&mA(a,l),l}function vA(i,t){const l={},a=u(i,["config"]);return a!=null&&gA(a,l),l}function TA(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const f=u(i,["tunedModels"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>tg(m))),c(l,["tuningJobs"],p)}return l}function SA(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const f=u(i,["tuningJobs"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>yc(m))),c(l,["tuningJobs"],p)}return l}function EA(i,t){const l={},a=u(i,["name"]);a!=null&&c(l,["model"],a);const r=u(i,["name"]);return r!=null&&c(l,["endpoint"],r),l}function _A(i,t){const l={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(l,["examples","examples"],r)}return l}function CA(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let f=u(l,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(f==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function tg(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["state"]);f!=null&&c(l,["state"],mm(f));const p=u(i,["createTime"]);p!=null&&c(l,["createTime"],p);const m=u(i,["tuningTask","startTime"]);m!=null&&c(l,["startTime"],m);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(l,["endTime"],y);const g=u(i,["updateTime"]);g!=null&&c(l,["updateTime"],g);const v=u(i,["description"]);v!=null&&c(l,["description"],v);const E=u(i,["baseModel"]);E!=null&&c(l,["baseModel"],E);const _=u(i,["_self"]);return _!=null&&c(l,["tunedModel"],EA(_)),l}function yc(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["state"]);f!=null&&c(l,["state"],mm(f));const p=u(i,["createTime"]);p!=null&&c(l,["createTime"],p);const m=u(i,["startTime"]);m!=null&&c(l,["startTime"],m);const y=u(i,["endTime"]);y!=null&&c(l,["endTime"],y);const g=u(i,["updateTime"]);g!=null&&c(l,["updateTime"],g);const v=u(i,["error"]);v!=null&&c(l,["error"],v);const E=u(i,["description"]);E!=null&&c(l,["description"],E);const _=u(i,["baseModel"]);_!=null&&c(l,["baseModel"],_);const A=u(i,["tunedModel"]);A!=null&&c(l,["tunedModel"],A);const D=u(i,["preTunedModel"]);D!=null&&c(l,["preTunedModel"],D);const P=u(i,["supervisedTuningSpec"]);P!=null&&c(l,["supervisedTuningSpec"],P);const N=u(i,["preferenceOptimizationSpec"]);N!=null&&c(l,["preferenceOptimizationSpec"],N);const q=u(i,["tuningDataStats"]);q!=null&&c(l,["tuningDataStats"],q);const X=u(i,["encryptionSpec"]);X!=null&&c(l,["encryptionSpec"],X);const J=u(i,["partnerModelTuningSpec"]);J!=null&&c(l,["partnerModelTuningSpec"],J);const te=u(i,["customBaseModel"]);te!=null&&c(l,["customBaseModel"],te);const le=u(i,["experiment"]);le!=null&&c(l,["experiment"],le);const ue=u(i,["labels"]);ue!=null&&c(l,["labels"],ue);const Z=u(i,["outputUri"]);Z!=null&&c(l,["outputUri"],Z);const ve=u(i,["pipelineJob"]);ve!=null&&c(l,["pipelineJob"],ve);const ae=u(i,["serviceAccount"]);ae!=null&&c(l,["serviceAccount"],ae);const _e=u(i,["tunedModelDisplayName"]);_e!=null&&c(l,["tunedModelDisplayName"],_e);const j=u(i,["veoTuningSpec"]);return j!=null&&c(l,["veoTuningSpec"],j),l}function AA(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["metadata"]);f!=null&&c(l,["metadata"],f);const p=u(i,["done"]);p!=null&&c(l,["done"],p);const m=u(i,["error"]);return m!=null&&c(l,["error"],m),l}function nm(i,t){const l={},a=u(i,["gcsUri"]);a!=null&&c(l,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(l,["validationDatasetUri"],r),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xA extends ri{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new sl(si.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.get=async l=>await this.getInternal(l),this.tune=async l=>{var a;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const r={tunedModelName:l.baseModel};!((a=l.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=l.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},l),{preTunedModel:r});return f.baseModel=void 0,await this.tuneInternal(f)}else{const r=Object.assign({},l);return await this.tuneInternal(r)}else{const r=Object.assign({},l),f=await this.tuneMldevInternal(r);let p="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?p=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(p=f.name.split("/operations/")[0]),{name:p,state:oc.JOB_STATE_QUEUED}}}}async getInternal(t){var l,a,r,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const g=hA(t);return m=oe("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>yc(v))}else{const g=pA(t);return m=oe("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>tg(v))}}async listInternal(t){var l,a,r,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const g=vA(t);return m=oe("tuningJobs",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=SA(v),_=new Rh;return Object.assign(_,E),_})}else{const g=yA(t);return m=oe("tunedModels",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=TA(v),_=new Rh;return Object.assign(_,E),_})}}async cancel(t){var l,a,r,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const g=aA(t);return m=oe("{name}:cancel",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=rA(v),_=new Nh;return Object.assign(_,E),_})}else{const g=oA(t);return m=oe("{name}:cancel",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=sA(v),_=new Nh;return Object.assign(_,E),_})}}async tuneInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const m=dA(t,t);return f=oe("tuningJobs",m._url),p=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>yc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=fA(t);return f=oe("tunedModels",m._url),p=m._query,delete m._url,delete m._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>AA(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MA{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const bA=1024*1024*8,RA=3,NA=1e3,wA=2,Ds="x-goog-upload-status";async function IA(i,t,l){var a;const r=await ng(i,t,l),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ds])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function DA(i,t,l){var a;const r=await ng(i,t,l),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ds])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=um(f),m=new Cc;return Object.assign(m,p),m}async function ng(i,t,l){var a,r;let f=0,p=0,m=new ac(new Response),y="upload";for(f=i.size;p<f;){const g=Math.min(bA,f-p),v=i.slice(p,p+g);p+g>=f&&(y+=", finalize");let E=0,_=NA;for(;E<RA&&(m=await l.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(g)}}}),!(!((a=m==null?void 0:m.headers)===null||a===void 0)&&a[Ds]));)E++,await UA(_),_=_*wA;if(p+=g,((r=m==null?void 0:m.headers)===null||r===void 0?void 0:r[Ds])!=="active")break;if(f<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return m}async function LA(i){return{size:i.size,type:i.type}}function UA(i){return new Promise(t=>setTimeout(t,i))}class GA{async upload(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await IA(t,l,a)}async uploadToFileSearchStore(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await DA(t,l,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await LA(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kA{create(t,l,a){return new HA(t,l,a)}}class HA{constructor(t,l,a){this.url=t,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const im="x-goog-api-key";class PA{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(im)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(im,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qA="gl-node/";class VA{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const l=new It({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=l.interactions,this._interactions}constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const a=Uv(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new PA(this.apiKey);this.apiClient=new L1({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:qA+"web",uploader:new GA,downloader:new MA}),this.models=new W1(this.apiClient),this.live=new J1(this.apiClient,r,new kA),this.batches=new uS(this.apiClient),this.chats=new FS(this.models,this.apiClient),this.caches=new zS(this.apiClient),this.files=new eE(this.apiClient),this.operations=new j1(this.apiClient),this.authTokens=new mC(this.apiClient),this.tunings=new xA(this.apiClient),this.fileSearchStores=new CC(this.apiClient)}}let vc=null;try{vc=new VA({apiKey:"PLACEHOLDER_API_KEY"})}catch(i){console.error("Failed to initialize Gemini Client:",i)}const zA=async i=>{if(!vc)return"The spirits are silent (API Key missing).";try{const t=`
      Write a short, gritty, high-fantasy lore description (max 2 sentences) for a Dragon-themed ARPG item.
      Item Name: ${i.name}
      Type: ${i.type}
      Rarity: ${i.rarity}
      Stats: ${JSON.stringify(i.stats)}
      Context: A world ruled by ancient dragons and dark magic. The item is ancient, powerful, and perhaps cursed.
    `;return(await vc.models.generateContent({model:"gemini-2.5-flash",contents:t})).text.trim()}catch(t){return console.error("Gemini generation error:",t),"The ancient texts are illegible."}},lm={[ot.COMMON]:"text-slate-400 drop-shadow-[0_0_2px_rgba(148,163,184,0.5)]",[ot.RARE]:"text-cyan-400 drop-shadow-[0_0_3px_rgba(34,211,238,0.6)]",[ot.EPIC]:"text-fuchsia-400 drop-shadow-[0_0_3px_rgba(232,121,249,0.6)]",[ot.LEGENDARY]:"text-yellow-400 drop-shadow-[0_0_4px_rgba(250,204,21,0.6)]"},BA=({onClose:i,onBuy:t,gold:l,inventory:a})=>{const[r,f]=ie.useState(null),[p,m]=ie.useState(""),[y,g]=ie.useState(!1),[v,E]=ie.useState("ALL"),_=async N=>{f(N),m("")},A=async()=>{if(!r)return;g(!0);const N=await zA(r);m(N),g(!1)},D=r?a.some(N=>N.id===r.id):!1,P=Ev.filter(N=>v==="ALL"?!0:N.type===v);return x.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-in fade-in duration-200",children:[x.jsxs("div",{className:"w-full max-w-6xl h-[85vh] glass-panel flex flex-col md:flex-row relative overflow-hidden clip-path-notch",children:[x.jsx("div",{className:"absolute inset-0 cyber-grid opacity-20 pointer-events-none"}),x.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 border-t-2 border-l-2 border-cyan-500/50 pointer-events-none"}),x.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 border-b-2 border-r-2 border-pink-500/50 pointer-events-none"}),x.jsx("button",{onClick:i,className:"absolute top-0 right-0 p-4 text-cyan-500 hover:text-white z-20 hover:bg-cyan-900/20 transition-colors",children:x.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),x.jsxs("div",{className:"w-full md:w-[70%] flex flex-col border-r border-white/10 relative z-10 bg-black/40 h-[70%] md:h-full min-h-0 transition-all",children:[x.jsxs("div",{className:"p-6 pb-2 border-b border-cyan-500/30 shrink-0",children:[x.jsx("h2",{className:"text-2xl font-cyber font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500 tracking-wider",children:"NEO-MARKET"}),x.jsx("p",{className:"text-cyan-600/80 text-xs font-tech tracking-widest mt-1 mb-4",children:":: UNAUTHORIZED DEALER DETECTED ::"}),x.jsx("div",{className:"flex gap-2 bg-slate-900/50 p-1 rounded-lg border border-slate-700 overflow-x-auto custom-scrollbar no-scrollbar-on-mobile",children:["ALL",et.WEAPON,et.ARMOR].map(N=>x.jsx("button",{onClick:()=>E(N),className:`flex-none px-4 py-1.5 text-[10px] font-cyber tracking-widest uppercase transition-all rounded whitespace-nowrap ${v===N?"bg-cyan-700 text-white shadow-lg":"text-slate-500 hover:bg-slate-800 hover:text-cyan-300"}`,children:N==="ALL"?"ALL GOODS":N+"S"},N))})]}),x.jsx("div",{className:"flex-1 overflow-y-auto p-4 scrollbar-thin scrollbar-thumb-cyan-700 min-h-0",children:x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-3",children:P.map(N=>{const q=a.some(X=>X.id===N.id);return x.jsxs("div",{onClick:()=>_(N),className:`flex items-center gap-4 p-3 border transition-all cursor-pointer group relative overflow-hidden shrink-0 ${(r==null?void 0:r.id)===N.id?"bg-cyan-900/30 border-cyan-400 shadow-[0_0_15px_rgba(34,211,238,0.1)]":"bg-slate-900/40 border-slate-700 hover:border-cyan-500/50"}`,children:[(r==null?void 0:r.id)===N.id&&x.jsx("div",{className:"absolute inset-0 bg-cyan-400/5 animate-pulse"}),x.jsxs("div",{className:"w-16 h-16 bg-black border border-slate-600 shrink-0 relative",children:[x.jsx("img",{src:N.image,alt:N.name,className:`w-full h-full object-cover transition-all ${q?"grayscale opacity-50":"opacity-80 group-hover:opacity-100 group-hover:grayscale-0"}`}),x.jsx("div",{className:`absolute top-0 right-0 w-3 h-3 ${N.rarity===ot.LEGENDARY?"bg-yellow-500":N.rarity===ot.EPIC?"bg-purple-500":"bg-cyan-500"}`}),q&&x.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-green-500 font-bold text-xl",children:""})]}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("h3",{className:`font-cyber text-sm truncate ${q?"text-slate-500":lm[N.rarity]}`,children:N.name.toUpperCase()}),x.jsxs("div",{className:"text-[10px] text-slate-400 font-tech uppercase tracking-widest mt-1 flex gap-2",children:[x.jsx("span",{className:"bg-slate-800 px-1 rounded",children:N.type}),x.jsx("span",{children:N.rarity})]})]}),x.jsx("div",{className:"text-right",children:x.jsxs("div",{className:`font-tech font-bold text-lg ${q?"text-slate-600":l>=N.price?"text-yellow-400":"text-red-500"}`,children:[N.price,x.jsx("span",{className:"text-[10px] ml-0.5",children:"CR"})]})})]},N.id)})})})]}),x.jsx("div",{className:"w-full md:w-[30%] p-3 md:p-4 flex flex-col relative z-10 bg-gradient-to-br from-slate-900/90 to-black/90 h-[30%] md:h-full min-h-0 overflow-y-auto border-l border-white/10 transition-all",children:r?x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"flex gap-3 mb-3 items-start shrink-0 bg-slate-900/40 p-2 border border-slate-700/50 rounded-sm flex-wrap md:flex-nowrap",children:[x.jsxs("div",{className:"w-14 h-7 md:w-16 md:h-7 shrink-0 border border-cyan-500/50 p-0.5 relative shadow-[0_0_10px_rgba(6,182,212,0.15)] bg-black/50 overflow-hidden",children:[x.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover"}),x.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-1.5 h-1.5 border-b border-r border-cyan-400"}),x.jsx("div",{className:"absolute -top-0.5 -left-0.5 w-1.5 h-1.5 border-t border-l border-cyan-400"})]}),x.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center h-full gap-1 pt-0.5",children:[x.jsx("div",{children:x.jsx("h2",{className:`text-xs md:text-sm font-cyber font-bold leading-none truncate ${lm[r.rarity]}`,children:r.name.toUpperCase()})}),x.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(r.stats).map(([N,q])=>x.jsxs("div",{className:"flex items-center gap-1 bg-slate-800/80 px-1 py-px border-l border-cyan-600",children:[x.jsx("span",{className:"text-cyan-500 text-[6px] font-cyber uppercase tracking-wider",children:N.substring(0,3)}),x.jsxs("span",{className:`font-mono text-[8px] font-bold ${Number(q)>0?"text-green-400":"text-red-400"}`,children:[Number(q)>0?"+":"",q]})]},N))})]}),x.jsxs("button",{onClick:()=>t(r),disabled:l<r.price||D,className:`shrink-0 px-2 py-1.5 md:px-3 md:py-2 font-cyber font-bold transition-all uppercase tracking-widest text-[9px] clip-path-corner relative overflow-hidden group flex flex-col items-center justify-center gap-px ${D?"bg-slate-700 text-slate-400 border border-slate-600 cursor-not-allowed":"bg-cyan-700 hover:bg-cyan-600 text-white shadow-[0_0_15px_rgba(6,182,212,0.4)] disabled:opacity-50 disabled:grayscale"}`,children:[x.jsx("span",{className:"relative z-10 leading-none",children:D?"OWNED":"BUY"}),!D&&x.jsx("span",{className:`relative z-10 text-[8px] font-mono leading-none ${l>=r.price?"text-cyan-100":"text-red-300"}`,children:r.price}),!D&&x.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/20 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-500"})]})]}),x.jsxs("div",{className:"bg-black/40 border border-slate-700 p-3 relative flex-1 overflow-y-auto custom-scrollbar min-h-[80px]",children:[x.jsxs("div",{className:"flex justify-between items-start mb-2",children:[x.jsx("div",{className:"text-[8px] px-2 py-px text-slate-400 font-tech border border-slate-800 bg-slate-900/50",children:"DATA_LOGS"}),x.jsxs("button",{onClick:A,disabled:y,className:"flex items-center gap-1 px-2 py-px text-pink-400 font-cyber hover:bg-pink-500/10 hover:text-pink-300 transition-all disabled:opacity-50 uppercase tracking-widest text-[8px]",children:[x.jsx("span",{className:"w-1 h-1 bg-pink-500 rounded-full animate-pulse"}),"DECRYPT"]})]}),x.jsxs("p",{className:"text-slate-300 font-tech text-xs leading-relaxed border-l-2 border-slate-600 pl-2 mb-2",children:['"',r.description,'"']}),x.jsx("div",{className:"font-mono text-[10px] text-cyan-300/80 min-h-[50px] bg-slate-900/30 p-2 border border-slate-800/50 leading-tight",children:y?x.jsxs("span",{className:"animate-pulse",children:[">> ","ACCESSING..."]}):p?x.jsx("span",{className:"animate-in fade-in duration-500",children:p}):x.jsxs("span",{className:"opacity-40 text-[8px]",children:[">> ","ENCRYPTED."]})})]})]}):x.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-700",children:[x.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 border-2 border-dashed border-slate-800 rounded-full flex items-center justify-center mb-2",children:x.jsx("span",{className:"text-2xl animate-pulse",children:""})}),x.jsx("p",{className:"font-cyber text-[10px] tracking-widest text-center px-4",children:"SELECT ITEM TO INITIALIZE"})]})})]}),x.jsx("style",{children:`
        .clip-path-notch {
          clip-path: polygon(
            0 0, 
            100% 0, 
            100% calc(100% - 20px), 
            calc(100% - 20px) 100%, 
            0 100%
          );
        }
        .clip-path-corner {
            clip-path: polygon(
                5px 0, 100% 0, 
                100% calc(100% - 5px), calc(100% - 5px) 100%, 
                0 100%, 0 5px
            );
        }
        .custom-scrollbar::-webkit-scrollbar { width: 4px; height: 4px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: rgba(0,0,0,0.2); }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #374151; border-radius: 2px; }
        
        /* Hide scrollbar on mobile horizontal tabs */
        @media (max-width: 768px) {
           .no-scrollbar-on-mobile::-webkit-scrollbar { display: none; }
           .no-scrollbar-on-mobile { -ms-overflow-style: none; scrollbar-width: none; }
        }
      `})]})},OA=({stats:i,equippedItems:t})=>{const l=t.find(_=>_.type===et.ARMOR),a=t.find(_=>_.type===et.WEAPON),r=sm(l==null?void 0:l.name),f=rm(r),p=Sc(l==null?void 0:l.name),m=_v(a==null?void 0:a.name),[y,g]=ie.useState(!1);ie.useEffect(()=>{let _;const A=()=>{g(!0),setTimeout(()=>g(!1),150);const D=Math.random()*3e3+2e3;_=setTimeout(A,D)};return _=setTimeout(A,2e3),()=>clearTimeout(_)},[]);const{usePhoto:v,photoUrl:E}=i.avatarConfig;return x.jsxs("div",{className:"relative w-full aspect-[3/4] flex items-center justify-center bg-gradient-to-b from-slate-900 to-black border border-slate-700 rounded-lg overflow-hidden shadow-inner group",children:[x.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-48 h-48 bg-cyan-500/10 rounded-full blur-3xl"}),x.jsx("div",{className:"relative w-full h-full",children:x.jsxs("svg",{viewBox:"0 0 400 500",className:"w-full h-full object-contain drop-shadow-[0_10px_20px_rgba(0,0,0,0.5)]",children:[x.jsx("defs",{dangerouslySetInnerHTML:{__html:f}}),v&&x.jsx("defs",{children:x.jsx("clipPath",{id:"previewFaceClip",children:x.jsx("ellipse",{cx:"200",cy:"175",rx:"80",ry:"70"})})}),x.jsx("g",{transform:"translate(50, 0)",dangerouslySetInnerHTML:{__html:p.armL}}),x.jsx("g",{dangerouslySetInnerHTML:{__html:p.legL}}),x.jsx("g",{dangerouslySetInnerHTML:{__html:p.body}}),v&&E&&x.jsxs("g",{children:[x.jsx("image",{href:E,x:"120",y:"105",width:"160",height:"140",clipPath:"url(#previewFaceClip)",preserveAspectRatio:"xMidYMid slice"}),x.jsx("ellipse",{cx:"200",cy:"175",rx:"80",ry:"70",fill:"none",stroke:"rgba(0,0,0,0.4)",strokeWidth:"4"})]}),x.jsx("g",{dangerouslySetInnerHTML:{__html:p.legR}}),x.jsx("g",{transform:"translate(-50, 0)",dangerouslySetInnerHTML:{__html:p.armR}}),x.jsx("g",{transform:"translate(-50, 0)",dangerouslySetInnerHTML:{__html:m}}),y&&!v&&x.jsxs("g",{transform:"translate(100, 50)",children:[x.jsx("ellipse",{cx:"35",cy:"130",rx:"10",ry:"9",fill:"#fecdd3"}),x.jsx("path",{d:"M25 132 Q35 136 45 132",stroke:"#b45309",strokeWidth:"2",fill:"none"}),x.jsx("ellipse",{cx:"165",cy:"130",rx:"10",ry:"9",fill:"#fecdd3"}),x.jsx("path",{d:"M155 132 Q165 136 175 132",stroke:"#b45309",strokeWidth:"2",fill:"none"})]})]})}),x.jsxs("div",{className:"absolute bottom-2 left-2 right-2 bg-black/60 backdrop-blur-sm p-2 rounded border border-slate-700/50 flex justify-between text-[10px] font-mono text-cyan-300",children:[x.jsxs("span",{children:["ATK: ",i.attack]}),x.jsxs("span",{children:["DEF: ",i.defense]}),x.jsxs("span",{children:["HP: ",i.maxHp]})]})]})},om={[ot.COMMON]:"border-slate-600",[ot.RARE]:"border-cyan-500",[ot.EPIC]:"border-fuchsia-500",[ot.LEGENDARY]:"border-yellow-500"},FA={[ot.COMMON]:"bg-slate-900",[ot.RARE]:"bg-cyan-900/20",[ot.EPIC]:"bg-fuchsia-900/20",[ot.LEGENDARY]:"bg-yellow-900/20"},ic=20,YA=({onClose:i,inventory:t,equippedItems:l,playerStats:a,onEquip:r,onUnequip:f,onUpgrade:p,onUpdateAvatar:m})=>{const[y,g]=ie.useState("ALL"),[v,E]=ie.useState(null),[_,A]=ie.useState(!1),D=ie.useRef(null),P=t.slice().reverse().filter(j=>y==="ALL"?!0:y==="GEAR"?j.type===et.WEAPON||j.type===et.ARMOR:j.type===y),N=l.find(j=>j.type===et.WEAPON),q=l.find(j=>j.type===et.ARMOR),X=v?l.find(j=>j.id===v)||t.find(j=>j.id===v):null,J=j=>{E(j.id)},te=j=>Math.floor(25*Math.pow(1.2,j)),le=(X==null?void 0:X.upgradeLevel)||0,ue=te(le),Z=le>=ic,ve=!Z&&a.runes>=ue,ae=j=>{var pe;const re=(pe=j.target.files)==null?void 0:pe[0];if(re){const Re=new FileReader;Re.onloadend=()=>{m({...a.avatarConfig,photoUrl:Re.result,usePhoto:!0})},Re.readAsDataURL(re)}},_e=()=>{m({...a.avatarConfig,usePhoto:!a.avatarConfig.usePhoto})};return x.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/95 backdrop-blur-lg p-2 sm:p-4 animate-in fade-in",children:[x.jsxs("div",{className:"w-full max-w-7xl h-[90vh] sm:h-[85vh] bg-slate-900 border border-cyan-500/30 flex flex-col relative shadow-[0_0_50px_rgba(6,182,212,0.1)]",children:[x.jsxs("div",{className:"h-10 border-b border-slate-700 flex justify-between items-center px-3 bg-black/60 shrink-0",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-1.5 h-1.5 bg-cyan-500 rounded-full animate-pulse"}),x.jsx("h2",{className:"text-lg font-cyber text-cyan-50 tracking-wider neon-text",children:"TACTICAL LOADOUT"}),x.jsx("div",{className:"h-3 w-px bg-slate-700"}),x.jsxs("span",{className:"text-[10px] font-mono text-yellow-400",children:["CREDITS: ",a.gold]}),x.jsx("div",{className:"h-3 w-px bg-slate-700"}),x.jsxs("span",{className:"text-[10px] font-mono text-purple-400",children:["RUNES: ",a.runes]})]}),x.jsx("button",{onClick:i,className:"text-slate-500 hover:text-white transition-colors text-lg font-bold px-2",children:""})]}),x.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row overflow-hidden",children:[x.jsxs("div",{className:"order-1 w-full lg:w-[280px] shrink-0 border-r border-slate-800 bg-black/30 flex flex-row relative group/char",children:[x.jsxs("div",{className:"w-[110px] p-2 border-r border-slate-800/50 flex flex-col items-center justify-center bg-gradient-to-b from-black/20 to-transparent shrink-0 relative",children:[x.jsx("h3",{className:"w-full font-cyber text-[8px] text-slate-500 uppercase tracking-widest mb-1 text-center",children:"Visual Feed"}),x.jsxs("div",{className:"w-full relative cursor-pointer",onClick:()=>A(!_),children:[x.jsx(OA,{stats:a,equippedItems:l}),x.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover/char:opacity-100 flex items-center justify-center transition-opacity",children:x.jsx("span",{className:"text-[9px] font-cyber text-cyan-400 border border-cyan-500 px-1 py-0.5 bg-black/80",children:"EDIT"})})]}),_&&x.jsxs("div",{className:"absolute top-[20px] left-[5px] right-[5px] bg-slate-900 border border-cyan-500/50 p-2 z-20 shadow-xl animate-in fade-in slide-in-from-bottom-2",children:[x.jsx("h4",{className:"text-[9px] font-cyber text-cyan-400 mb-1 border-b border-slate-700 pb-0.5",children:"AVATAR MODULE"}),x.jsxs("div",{className:"flex flex-col gap-1.5",children:[x.jsxs("label",{className:"flex items-center justify-between text-[8px] text-slate-300 cursor-pointer",children:[x.jsx("span",{children:"USE PHOTO"}),x.jsx("div",{className:`w-6 h-3 rounded-full p-0.5 transition-colors ${a.avatarConfig.usePhoto?"bg-cyan-600":"bg-slate-700"}`,onClick:_e,children:x.jsx("div",{className:`w-2 h-2 bg-white rounded-full shadow-sm transform transition-transform ${a.avatarConfig.usePhoto?"translate-x-3":"translate-x-0"}`})})]}),x.jsx("button",{onClick:()=>{var j;return(j=D.current)==null?void 0:j.click()},className:"w-full py-1 bg-slate-800 hover:bg-slate-700 border border-slate-600 text-[8px] text-white font-mono uppercase transition-colors",children:"UPLOAD"}),x.jsx("input",{type:"file",ref:D,className:"hidden",accept:"image/*",onChange:ae}),x.jsx("button",{onClick:()=>A(!1),className:"text-[8px] text-slate-500 hover:text-white mt-0.5 underline",children:"CLOSE"})]})]})]}),x.jsxs("div",{className:"flex-1 p-2 flex flex-col gap-2 justify-center overflow-hidden",children:[x.jsxs("h4",{className:"text-[8px] font-mono text-cyan-600 flex justify-between items-center shrink-0",children:[x.jsxs("span",{children:[">> ","ACTIVE SYSTEM"]}),x.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse shadow-[0_0_5px_#22c55e]"})]}),x.jsxs("div",{onClick:()=>N&&J(N),className:`relative flex items-center gap-2 p-1.5 border border-slate-700 bg-slate-800/40 cursor-pointer hover:bg-slate-800 transition-all group ${(X==null?void 0:X.id)===(N==null?void 0:N.id)?"border-cyan-400 bg-cyan-900/10":""}`,children:[x.jsx("div",{className:"w-10 h-10 bg-black border border-slate-600 flex items-center justify-center shrink-0 group-hover:border-cyan-500/50 transition-colors",children:N?x.jsx("img",{src:N.image,className:"w-full h-full object-cover"}):x.jsx("span",{className:"text-lg opacity-20",children:""})}),x.jsxs("div",{className:"min-w-0 flex-1",children:[x.jsx("span",{className:"text-[7px] text-slate-500 uppercase tracking-wider block",children:"WEAPON"}),x.jsx("div",{className:`text-[10px] font-bold truncate ${N?"text-white":"text-slate-600"}`,children:N?N.name:"EMPTY"}),N!=null&&N.upgradeLevel?x.jsxs("span",{className:"text-[8px] text-purple-400 font-mono",children:["+",N.upgradeLevel]}):null]})]}),x.jsxs("div",{onClick:()=>q&&J(q),className:`relative flex items-center gap-2 p-1.5 border border-slate-700 bg-slate-800/40 cursor-pointer hover:bg-slate-800 transition-all group ${(X==null?void 0:X.id)===(q==null?void 0:q.id)?"border-cyan-400 bg-cyan-900/10":""}`,children:[x.jsx("div",{className:"w-10 h-10 bg-black border border-slate-600 flex items-center justify-center shrink-0 group-hover:border-cyan-500/50 transition-colors",children:q?x.jsx("img",{src:q.image,className:"w-full h-full object-cover"}):x.jsx("span",{className:"text-lg opacity-20",children:""})}),x.jsxs("div",{className:"min-w-0 flex-1",children:[x.jsx("span",{className:"text-[7px] text-slate-500 uppercase tracking-wider block",children:"ARMOR"}),x.jsx("div",{className:`text-[10px] font-bold truncate ${q?"text-white":"text-slate-600"}`,children:q?q.name:"EMPTY"}),q!=null&&q.upgradeLevel?x.jsxs("span",{className:"text-[8px] text-purple-400 font-mono",children:["+",q.upgradeLevel]}):null]})]})]})]}),x.jsxs("div",{className:"order-3 lg:order-2 flex-1 flex flex-col border-r border-slate-800 bg-slate-900/60 min-h-[150px]",children:[x.jsx("div",{className:"flex border-b border-slate-800 bg-black/40 h-8 shrink-0",children:[{label:"ALL",value:"ALL"},{label:"WEAPONS",value:et.WEAPON},{label:"ARMOR",value:et.ARMOR}].map(j=>x.jsx("button",{onClick:()=>g(j.value),className:`flex-1 flex items-center justify-center text-[9px] font-cyber tracking-widest hover:bg-slate-800/50 transition-colors ${y===j.value?"bg-cyan-900/20 text-cyan-400 border-b-2 border-cyan-500":"text-slate-500"}`,children:j.label},j.value))}),x.jsx("div",{className:"flex-1 overflow-y-auto p-2 custom-scrollbar bg-[radial-gradient(circle_at_top,rgba(6,182,212,0.05)_0%,transparent_50%)]",children:x.jsxs("div",{className:"grid grid-cols-6 sm:grid-cols-8 md:grid-cols-9 lg:grid-cols-10 xl:grid-cols-12 gap-1.5",children:[P.map(j=>x.jsxs("div",{onClick:()=>J(j),className:`aspect-square relative group cursor-pointer border transition-all overflow-hidden ${(X==null?void 0:X.id)===j.id?"border-white ring-1 ring-white z-10":`${om[j.rarity]} ${FA[j.rarity]} opacity-80 hover:opacity-100 hover:scale-105 hover:z-10`}`,children:[x.jsx("img",{src:j.image,alt:j.name,className:"w-full h-full object-cover"}),t.indexOf(j)===t.length-1&&x.jsx("div",{className:"absolute top-0 left-0 bg-cyan-500 text-black text-[6px] font-bold px-0.5 leading-none shadow-md",children:"NEW"}),j.upgradeLevel&&j.upgradeLevel>0&&x.jsxs("div",{className:"absolute top-0 right-0 bg-purple-600 text-white text-[7px] font-bold px-0.5 shadow-sm",children:["+",j.upgradeLevel]}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end justify-center p-0.5",children:x.jsx("span",{className:"text-[7px] text-center text-white truncate font-mono w-full leading-none",children:j.name})})]},j.id)),Array.from({length:Math.max(0,40-P.length)}).map((j,re)=>x.jsx("div",{className:"aspect-square bg-slate-900/20 border border-slate-800/20 flex items-center justify-center",children:x.jsx("div",{className:"w-0.5 h-0.5 bg-slate-800 rounded-full"})},`empty-${re}`))]})})]}),x.jsxs("div",{className:`order-2 lg:order-3 w-full lg:w-[260px] shrink-0 bg-black/50 flex flex-col border-l border-slate-800 backdrop-blur-sm transition-all duration-300 ${X?"h-[200px] lg:h-full":"h-0 lg:h-full overflow-hidden"}`,children:[x.jsx("div",{className:"p-2 border-b border-slate-800/50 bg-black/20 shrink-0",children:x.jsx("h3",{className:"font-cyber text-[10px] text-slate-400 uppercase tracking-widest",children:"Workbench"})}),X?x.jsxs("div",{className:"flex-1 flex flex-col p-2 animate-in slide-in-from-right-2 overflow-y-auto custom-scrollbar",children:[x.jsxs("div",{className:"flex gap-3 mb-2",children:[x.jsxs("div",{className:`w-12 h-12 border ${om[X.rarity]} p-px bg-black shrink-0 shadow-lg relative`,children:[x.jsx("img",{src:X.image,className:"w-full h-full object-cover"}),X.isEquipped&&x.jsx("div",{className:"absolute top-0 right-0 bg-green-500 text-black text-[6px] font-bold px-0.5 shadow-sm leading-none",children:"E"})]}),x.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsx("h2",{className:`text-xs font-cyber font-bold leading-tight ${X.rarity===ot.LEGENDARY?"text-yellow-400":"text-white"} truncate pr-1`,children:X.name}),X.isEquipped?x.jsx("button",{onClick:()=>{f(X),E(null)},className:"px-1.5 py-0.5 bg-red-900/30 border border-red-500/50 text-red-400 font-cyber text-[8px] font-bold tracking-widest hover:bg-red-900/50 hover:text-white transition-all shrink-0",children:"UNEQUIP"}):x.jsx("button",{onClick:()=>r(X),className:"px-1.5 py-0.5 bg-cyan-700/50 border border-cyan-400 text-white font-cyber text-[8px] font-bold tracking-widest hover:bg-cyan-600/50 shadow-[0_0_10px_rgba(6,182,212,0.2)] transition-all shrink-0",children:"EQUIP"})]}),x.jsxs("div",{className:"mt-0.5 mb-1 flex flex-wrap gap-1",children:[x.jsx("span",{className:"text-[8px] font-mono text-black bg-slate-400 px-1 rounded font-bold",children:X.type}),x.jsx("span",{className:"text-[8px] font-mono text-cyan-300 border border-cyan-500/30 px-1 rounded",children:X.rarity}),le>0&&x.jsxs("span",{className:"text-[8px] font-mono text-purple-300 border border-purple-500/30 px-1 rounded bg-purple-900/20",children:["+",le]})]}),x.jsx("div",{className:"grid grid-cols-2 gap-x-2 gap-y-0 pt-1 border-t border-slate-800/50",children:Object.entries(X.stats).map(([j,re])=>x.jsxs("div",{className:"flex justify-between text-[8px] font-mono leading-tight",children:[x.jsx("span",{className:"text-slate-500 uppercase",children:j}),x.jsxs("span",{className:`${Number(re)>0?"text-green-400":"text-red-400"} font-bold`,children:[Number(re)>0?"+":"",re]})]},j))})]})]}),(X.type===et.WEAPON||X.type===et.ARMOR)&&x.jsx("div",{className:"flex-1 flex flex-col",children:x.jsxs("div",{className:"bg-black/20 p-2 border border-dashed border-purple-500/30 rounded-sm mb-1",children:[x.jsxs("h4",{className:"text-[8px] text-purple-500 font-cyber mb-2 flex justify-between items-center",children:[x.jsx("span",{children:"ENHANCE"}),x.jsxs("span",{className:"bg-purple-900/20 px-1 py-px rounded text-purple-300 border border-purple-500/20 text-[8px]",children:[le,"/",ic]})]}),x.jsxs("div",{className:"flex justify-between items-center text-[9px] font-mono mb-1",children:[x.jsx("span",{className:"text-slate-400",children:"COST:"}),x.jsx("span",{className:`${ve?"text-purple-300":Z?"text-slate-500":"text-red-400 font-bold"}`,children:Z?"MAX":`${ue} RN`})]}),x.jsx("div",{className:"w-full bg-slate-800 h-1 rounded-full overflow-hidden mt-0.5",children:x.jsx("div",{className:"h-full bg-purple-500 transition-all shadow-[0_0_5px_#a855f7]",style:{width:`${le/ic*100}%`}})}),x.jsx("button",{onClick:()=>p(X),disabled:!ve||Z,className:"mt-2 w-full py-1 bg-purple-900/40 border border-purple-500/50 text-purple-300 font-cyber text-[9px] tracking-widest hover:bg-purple-800/50 hover:text-white transition-all disabled:opacity-50 disabled:cursor-not-allowed clip-path-corner",children:Z?"MAX POWER":"UPGRADE"})]})})]}):x.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-600 opacity-50 p-4 text-center",children:[x.jsx("span",{className:"text-2xl mb-1",children:""}),x.jsx("p",{className:"font-cyber text-[9px] tracking-widest",children:"SELECT ITEM"})]})]})]})]}),x.jsx("style",{children:`
        .clip-path-corner {
            clip-path: polygon(
                5px 0, 100% 0, 
                100% calc(100% - 5px), calc(100% - 5px) 100%, 
                0 100%, 0 5px
            );
        }
        .custom-scrollbar::-webkit-scrollbar { width: 3px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: rgba(0,0,0,0.2); }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #374151; border-radius: 1px; }
      `})]})},JA=({onInput:i,onSkill:t,skillCooldowns:l})=>{const a=ie.useRef(null),r=ie.useRef(null),f=ie.useRef({x:0,y:0}),p=ie.useRef(!1),[m,y]=ie.useState({x:0,y:0}),[g,v]=ie.useState(!1),[E,_]=ie.useState({1:0,2:0,3:0}),A={3:1e4},D=ie.useRef({x:0,y:0}),P=ie.useRef(!1);ie.useEffect(()=>{let re;const pe=()=>{i(D.current,P.current),re=requestAnimationFrame(pe)};return pe(),()=>cancelAnimationFrame(re)},[i]),ie.useEffect(()=>{let re;const pe=()=>{const ze=Date.now(),k={};let $=!1;[1,2,3].forEach(se=>{const Ue=(l[se]||0)-ze,b=A[se]||1e3;Ue>0?(k[se]=Ue/b,$=!0):k[se]=0}),_(k),$&&(re=requestAnimationFrame(pe))};return Object.values(l).some(ze=>ze>Date.now())?pe():_({1:0,2:0,3:0}),()=>cancelAnimationFrame(re)},[l]);const N=re=>{if(re.cancelable&&re.preventDefault(),"touches"in re){const Re=re.changedTouches[0];r.current=Re.identifier,Re.clientX,Re.clientY}else{const pe=re;pe.clientX,pe.clientY}if(a.current){const pe=a.current.getBoundingClientRect(),Re=pe.left+pe.width/2,ze=pe.top+pe.height/2;f.current={x:Re,y:ze},p.current=!0,y({x:0,y:0}),"touches"in re?(window.addEventListener("touchmove",q,{passive:!1}),window.addEventListener("touchend",X)):(window.addEventListener("mousemove",q),window.addEventListener("mouseup",X))}},q=re=>{if(!p.current)return;re.cancelable&&re.preventDefault();let pe,Re;if("changedTouches"in re){const F=re;let B;for(let K=0;K<F.changedTouches.length;K++)if(F.changedTouches[K].identifier===r.current){B=F.changedTouches[K];break}if(!B)return;pe=B.clientX,Re=B.clientY}else{const F=re;pe=F.clientX,Re=F.clientY}const ze=pe-f.current.x,k=Re-f.current.y,$=Math.sqrt(ze*ze+k*k),se=40,Ne=Math.atan2(k,ze),Ue=Math.min($,se),b=Math.cos(Ne)*Ue,L=Math.sin(Ne)*Ue;y({x:b,y:L}),D.current={x:b/se,y:L/se}},X=()=>{p.current=!1,r.current=null,y({x:0,y:0}),D.current={x:0,y:0},window.removeEventListener("touchmove",q),window.removeEventListener("touchend",X),window.removeEventListener("mousemove",q),window.removeEventListener("mouseup",X)},J=re=>{re.preventDefault(),v(!0),P.current=!0},te=re=>{re.preventDefault(),v(!1),P.current=!1},le=(re,pe)=>{re.preventDefault(),!(E[pe]>0)&&t(pe)},ue=56,Z=3,ve=(ue-Z)/2,ae=2*Math.PI*ve,_e=ue/2,j=(re,pe,Re,ze,k,$)=>{const se=E[re]||0;return x.jsxs("div",{className:`absolute ${$} group`,children:[x.jsxs("button",{className:`w-14 h-14 rounded-full bg-slate-900/90 border ${ze} shadow-[0_0_15px_rgba(0,0,0,0.5)] flex items-center justify-center relative overflow-hidden active:scale-95 transition-all ${se>0?"cursor-not-allowed opacity-80":"hover:scale-105 hover:brightness-125"}`,onTouchStart:Ne=>le(Ne,re),onMouseDown:Ne=>le(Ne,re),children:[x.jsx("span",{className:`text-2xl relative z-10 drop-shadow-md ${se>0?"grayscale opacity-50":""}`,children:pe}),se>0&&x.jsxs("div",{className:"absolute inset-0 z-20 pointer-events-none",children:[x.jsxs("svg",{className:"rotate-[-90deg] w-full h-full",children:[x.jsx("circle",{r:ve,cx:_e,cy:_e,stroke:"rgba(0,0,0,0.8)",strokeWidth:Z,fill:"transparent"}),x.jsx("circle",{r:ve,cx:_e,cy:_e,stroke:k,strokeWidth:Z,fill:"transparent",strokeDasharray:ae,strokeDashoffset:ae*(1-se),strokeLinecap:"round",className:"transition-all duration-75 ease-linear"})]}),x.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:x.jsx("span",{className:"text-white text-[10px] font-bold font-mono drop-shadow-md",children:Math.ceil(se*((A[re]||1e3)/1e3))})})]})]}),x.jsx("span",{className:`absolute -bottom-3 w-full text-center text-[7px] font-cyber font-bold bg-black/80 px-1 rounded border border-white/10 uppercase tracking-widest ${re===3?"text-orange-400":re===2?"text-green-400":"text-cyan-400"}`,children:Re})]})};return x.jsxs("div",{className:"absolute inset-0 z-20 pointer-events-none select-none overflow-hidden",children:[x.jsx("div",{className:"absolute bottom-12 left-8 w-32 h-32 pointer-events-auto",ref:a,onTouchStart:N,onMouseDown:N,children:x.jsx("div",{className:"w-full h-full rounded-full bg-black/40 border-2 border-cyan-900/50 backdrop-blur-sm relative flex items-center justify-center shadow-[inset_0_0_20px_rgba(6,182,212,0.1)]",children:x.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-t from-cyan-900 to-slate-800 shadow-[0_0_10px_rgba(6,182,212,0.5)] border border-cyan-500/50 relative",style:{transform:`translate(${m.x}px, ${m.y}px)`,transition:p.current?"none":"transform 0.1s ease-out"},children:x.jsx("div",{className:"absolute inset-2 rounded-full bg-cyan-400 opacity-20 blur-sm"})})})}),x.jsxs("div",{className:"absolute bottom-6 right-6 pointer-events-auto w-48 h-48 flex items-end justify-end",children:[j(1,"","SPIN","border-cyan-500/50 shadow-cyan-500/20","#22d3ee","bottom-4 right-24"),j(2,"","NANO","border-green-500/50 shadow-green-500/20","#4ade80","bottom-20 right-20"),j(3,"","PYRO","border-orange-500/50 shadow-orange-500/20","#f97316","bottom-24 right-4"),x.jsxs("button",{className:`w-20 h-20 rounded-full border-[3px] shadow-[0_0_25px_rgba(180,83,9,0.4)] flex items-center justify-center transition-all duration-100 relative overflow-hidden group absolute bottom-0 right-0 ${g?"scale-90 brightness-75":"hover:scale-105"}`,style:{background:"linear-gradient(135deg, #78350f 0%, #451a03 100%)",borderColor:"#fbbf24"},onTouchStart:J,onTouchEnd:te,onMouseDown:J,onMouseUp:te,onMouseLeave:te,children:[x.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-yellow-600/20 to-transparent pointer-events-none"}),x.jsx("div",{className:"pointer-events-none relative z-10 transform group-hover:rotate-12 transition-transform duration-300",children:x.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"#fcd34d",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.5))"},children:[x.jsx("path",{d:"M14.5 17.5L3 6V3h3l11.5 11.5"}),x.jsx("path",{d:"M13 19l6-6"}),x.jsx("path",{d:"M16 16l4 4"}),x.jsx("path",{d:"M19 21l2-2"})]})})]})]})]})};class XA{constructor(){this.ctx=null,this.bgmNodes=[],this.isMuted=!0,this.masterGain=null,this.nextNoteTime=0,this.schedulerTimer=null,this.beatCount=0}init(){this.ctx||(this.ctx=new(window.AudioContext||window.webkitAudioContext),this.masterGain=this.ctx.createGain(),this.masterGain.connect(this.ctx.destination),this.masterGain.gain.value=this.isMuted?0:.4),this.ctx.state==="suspended"&&this.ctx.resume().catch(t=>console.error("Audio resume failed",t))}setMute(t){this.isMuted=t,this.init(),this.masterGain&&this.ctx&&this.masterGain.gain.setTargetAtTime(t?0:.4,this.ctx.currentTime,.1),t?this.stopBGM():this.startBGM()}startBGM(){if(this.init(),this.bgmNodes.length>0||!this.ctx)return;const t=this.ctx.createOscillator(),l=this.ctx.createOscillator(),a=this.ctx.createGain(),r=this.ctx.createBiquadFilter();t.type="sawtooth",t.frequency.value=55,l.type="triangle",l.frequency.value=110.5,r.type="lowpass",r.frequency.value=300,r.Q.value=1;const f=this.ctx.createOscillator();f.type="sine",f.frequency.value=.1;const p=this.ctx.createGain();p.gain.value=150,f.connect(p),p.connect(r.frequency),t.connect(r),l.connect(r),r.connect(a),a.connect(this.masterGain),a.gain.value=.15,t.start(),l.start(),f.start(),this.bgmNodes.push(t,l,f,a,r,p),this.nextNoteTime=this.ctx.currentTime,this.beatCount=0,this.scheduleSequence()}scheduleSequence(){if(!this.ctx||this.isMuted)return;const t=.6,l=.1;for(;this.nextNoteTime<this.ctx.currentTime+l;)this.playBassNote(this.nextNoteTime,this.beatCount),this.nextNoteTime+=t,this.beatCount++;this.schedulerTimer=window.setTimeout(()=>this.scheduleSequence(),25)}playBassNote(t,l){if(!this.ctx||!this.masterGain)return;const a=this.ctx.createOscillator(),r=this.ctx.createGain(),f=this.ctx.createBiquadFilter(),p=[55,55,55,55,43.65,43.65,36.71,41.2],m=p[Math.floor(l/4)%p.length];a.type="sawtooth",a.frequency.setValueAtTime(m,t),f.type="lowpass",f.frequency.setValueAtTime(200,t),f.frequency.exponentialRampToValueAtTime(800,t+.1),f.frequency.exponentialRampToValueAtTime(200,t+.3),r.gain.setValueAtTime(.25,t),r.gain.exponentialRampToValueAtTime(.01,t+.4),a.connect(f),f.connect(r),r.connect(this.masterGain),a.start(t),a.stop(t+.5)}stopBGM(){this.schedulerTimer&&(clearTimeout(this.schedulerTimer),this.schedulerTimer=null),this.bgmNodes.forEach(t=>{try{t instanceof OscillatorNode&&t.stop(),t.disconnect()}catch{}}),this.bgmNodes=[]}playSFX(t){if(this.isMuted||(this.init(),!this.ctx||!this.masterGain))return;const l=this.ctx.currentTime,a=this.ctx.createGain();switch(a.connect(this.masterGain),t){case"attack":{const r=this.ctx.createOscillator();r.type="triangle",r.frequency.setValueAtTime(400,l),r.frequency.exponentialRampToValueAtTime(100,l+.15);const f=this.ctx.createBufferSource();f.buffer=this.createNoiseBuffer();const p=this.ctx.createBiquadFilter();p.type="highpass",p.frequency.value=1e3,r.connect(a),f.connect(p),p.connect(a),a.gain.setValueAtTime(.3,l),a.gain.exponentialRampToValueAtTime(.01,l+.15),r.start(l),r.stop(l+.15),f.start(l),f.stop(l+.15);break}case"hit":{const r=this.ctx.createOscillator();r.type="square",r.frequency.setValueAtTime(150,l),r.frequency.exponentialRampToValueAtTime(40,l+.1);const f=this.ctx.createBiquadFilter();f.type="lowpass",f.frequency.setValueAtTime(3e3,l),f.frequency.exponentialRampToValueAtTime(100,l+.1),r.connect(f),f.connect(a),a.gain.setValueAtTime(.4,l),a.gain.exponentialRampToValueAtTime(.01,l+.1),r.start(l),r.stop(l+.1);break}case"kill":{const r=this.ctx.createOscillator();r.type="sawtooth",r.frequency.setValueAtTime(100,l),r.frequency.exponentialRampToValueAtTime(10,l+.4);const f=this.ctx.createOscillator();f.type="square",f.frequency.setValueAtTime(80,l),f.frequency.exponentialRampToValueAtTime(5,l+.4),r.connect(a),f.connect(a),a.gain.setValueAtTime(.5,l),a.gain.exponentialRampToValueAtTime(.01,l+.4),r.start(l),r.stop(l+.4),f.start(l),f.stop(l+.4);break}case"buy":{const r=this.ctx.createOscillator();r.type="sine",r.frequency.setValueAtTime(1200,l),r.frequency.setValueAtTime(1600,l+.05),a.gain.setValueAtTime(.1,l),a.gain.linearRampToValueAtTime(.3,l+.05),a.gain.exponentialRampToValueAtTime(.01,l+.4),r.connect(a),r.start(l),r.stop(l+.4);break}case"levelUp":{const r=(f,p)=>{const m=this.ctx.createOscillator();m.type="sawtooth",m.frequency.value=f;const y=this.ctx.createGain();y.gain.setValueAtTime(.1,l+p),y.gain.exponentialRampToValueAtTime(.01,l+p+.5),m.connect(y),y.connect(this.masterGain),m.start(l+p),m.stop(l+p+.5)};r(440,0),r(554,.1),r(659,.2),r(880,.4);break}case"skill":{const r=this.ctx.createOscillator();r.type="sine",r.frequency.setValueAtTime(200,l),r.frequency.linearRampToValueAtTime(1200,l+.5);const f=this.ctx.createOscillator();f.frequency.value=50;const p=this.ctx.createGain();p.gain.value=500,f.connect(p),p.connect(r.frequency),r.connect(a),a.gain.setValueAtTime(.3,l),a.gain.exponentialRampToValueAtTime(.01,l+.5),r.start(l),f.start(l),r.stop(l+.5),f.stop(l+.5);break}case"click":{const r=this.ctx.createOscillator();r.frequency.setValueAtTime(2e3,l),r.frequency.exponentialRampToValueAtTime(1e3,l+.05),r.connect(a),a.gain.setValueAtTime(.1,l),a.gain.exponentialRampToValueAtTime(.01,l+.05),r.start(l),r.stop(l+.05);break}}}createNoiseBuffer(){if(!this.ctx)return new AudioBuffer({length:1,sampleRate:44100});const t=this.ctx.sampleRate*.5,l=this.ctx.createBuffer(1,t,this.ctx.sampleRate),a=l.getChannelData(0);for(let r=0;r<t;r++)a[r]=Math.random()*2-1;return l}}const Bt=new XA,KA=()=>{const[i,t]=ie.useState(0),[l,a]=ie.useState(!1),[r,f]=ie.useState(!0),[p,m]=ie.useState(ju),[y,g]=ie.useState([]),[v,E]=ie.useState([]),[_,A]=ie.useState(1),[D,P]=ie.useState(!1),[N,q]=ie.useState(!1),[X,J]=ie.useState(!1),[te,le]=ie.useState({}),ue=ie.useRef({vector:{x:0,y:0},isAttacking:!1}),Z=ie.useRef(null);ie.useEffect(()=>{const L=setInterval(()=>{l||m(F=>F.mp>=F.maxMp?F:{...F,mp:Math.min(F.maxMp,F.mp+5)})},1e3);return()=>clearInterval(L)},[l]);const ve=ie.useCallback(()=>{const L=!r;f(L),Bt.setMute(L)},[r]),ae=ie.useCallback(L=>{Bt.playSFX(L)},[]),_e=()=>{m({...ju,avatarConfig:{...ju.avatarConfig}}),g([]),E([]),A(1),P(!1),le({}),a(!1),t(L=>L+1),Bt.playSFX("click")},j=()=>{a(L=>!L),Bt.playSFX("click")},re=(L,F)=>{ue.current={vector:L,isAttacking:F}},pe=ie.useCallback(L=>{m(F=>{const B=Math.max(0,F.hp-Math.max(0,L-F.defense*.1));return{...F,hp:B}})},[]),Re=ie.useCallback((L,F,B)=>{m(K=>{const Q=K.xp+L;let ee=K.level,Le=K.maxXp,Me=K.maxHp,Ze=K.maxMp;return Q>=K.maxXp&&(ee+=1,Le=Math.floor(K.maxXp*1.5),Me+=50,Ze+=20,Bt.playSFX("levelUp")),{...K,xp:Q>=K.maxXp?Q-K.maxXp:Q,maxXp:Le,level:ee,maxHp:Me,maxMp:Ze,hp:ee>K.level?Me:K.hp,mp:ee>K.level?Ze:K.mp,gold:K.gold+F,runes:K.runes+B}})},[]),ze=ie.useCallback(()=>{A(L=>L+1),Bt.playSFX("levelUp")},[]),k=L=>{if(l)return!1;const F=Date.now();if(te[L]&&F<te[L])return!1;if(L===1){if(p.mp>=10)return m(B=>({...B,mp:B.mp-10})),Z.current="spin",!0}else if(L===2){if(p.mp>=25&&p.hp<p.maxHp)return m(B=>({...B,mp:B.mp-25,hp:Math.min(B.maxHp,B.hp+B.maxHp*.4)})),Bt.playSFX("skill"),!0}else if(L===3&&p.mp>=5)return m(B=>({...B,mp:B.mp-5})),Z.current="fireball",le(B=>({...B,3:F+1e4})),!0;return!1},$=L=>{if(p.gold>=L.price)if(Bt.playSFX("buy"),L.type===et.WEAPON||L.type===et.ARMOR){const B=v.find(Q=>Q.type===L.type);B&&g(Q=>[...Q,{...B,isEquipped:!1}]);const K={...L,isEquipped:!0};E(Q=>[...Q.filter(ee=>ee.type!==L.type),K]),m(Q=>{let ee={...Q,gold:Q.gold-L.price};return B&&(ee.attack-=B.stats.attack||0,ee.defense-=B.stats.defense||0,ee.maxHp-=B.stats.hp||0,ee.maxMp-=B.stats.mp||0),ee.attack+=K.stats.attack||0,ee.defense+=K.stats.defense||0,ee.maxHp+=K.stats.hp||0,ee.maxMp+=K.stats.mp||0,ee})}else m(B=>({...B,gold:B.gold-L.price})),g(B=>[...B,L])},se=L=>{Bt.playSFX("equip"),E(B=>B.filter(K=>K.id!==L.id));const F={...L,isEquipped:!1};g(B=>[...B,F]),m(B=>({...B,attack:B.attack-(L.stats.attack||0),defense:B.defense-(L.stats.defense||0),maxHp:B.maxHp-(L.stats.hp||0),maxMp:B.maxMp-(L.stats.mp||0)}))},Ne=L=>{Bt.playSFX("equip"),g(K=>K.filter(Q=>Q.id!==L.id));const F=v.find(K=>K.type===L.type);if(F){const K={...F,isEquipped:!1};g(Q=>[...Q,K]),m(Q=>({...Q,attack:Q.attack-(F.stats.attack||0),defense:Q.defense-(F.stats.defense||0),maxHp:Q.maxHp-(F.stats.hp||0),maxMp:Q.maxMp-(F.stats.mp||0)}))}const B={...L,isEquipped:!0};E(K=>[...K.filter(Q=>Q.type!==L.type),B]),m(K=>({...K,attack:K.attack+(B.stats.attack||0),defense:K.defense+(B.stats.defense||0),maxHp:K.maxHp+(B.stats.hp||0),maxMp:K.maxMp+(B.stats.mp||0)}))},Ue=L=>{const F=L.upgradeLevel||0;if(F>=20)return;const B=Math.floor(25*Math.pow(1.2,F));if(p.runes>=B){Bt.playSFX("equip"),m(ee=>({...ee,runes:ee.runes-B}));const K=ee=>ee?Math.ceil(ee*1.1):void 0,Q=ee=>({...ee,upgradeLevel:(ee.upgradeLevel||0)+1,stats:{...ee.stats,attack:K(ee.stats.attack),defense:K(ee.stats.defense),hp:K(ee.stats.hp),mp:K(ee.stats.mp),magic:K(ee.stats.magic),speed:ee.stats.speed}});L.isEquipped?E(ee=>ee.map(Le=>{if(Le.id===L.id){const Me=Q(Le);return m(Ze=>({...Ze,attack:Ze.attack+((Me.stats.attack||0)-(Le.stats.attack||0)),defense:Ze.defense+((Me.stats.defense||0)-(Le.stats.defense||0)),maxHp:Ze.maxHp+((Me.stats.hp||0)-(Le.stats.hp||0)),maxMp:Ze.maxMp+((Me.stats.mp||0)-(Le.stats.mp||0))})),Me}return Le})):g(ee=>ee.map(Le=>Le.id===L.id?Q(Le):Le))}},b=L=>{m(F=>({...F,avatarConfig:L}))};return x.jsxs("div",{className:"relative w-screen h-screen overflow-hidden bg-black select-none font-sans",children:[x.jsx(Rv,{isPaused:l,playerStats:p,equippedItems:v,inputState:ue,skillTriggerRef:Z,isAutoplay:D,wave:_,onPlayerHit:pe,onEnemyKilled:Re,onWaveComplete:ze,onRequestSkill:k,playSFX:ae},i),x.jsx(JA,{onInput:re,onSkill:k,skillCooldowns:te}),x.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_0%,rgba(0,0,0,0.6)_80%,rgba(0,0,0,1)_100%)]"}),x.jsx(Nv,{stats:p,openShop:()=>{l||(q(!0),Bt.playSFX("click"))},openInventory:()=>{l||(J(!0),Bt.playSFX("click"))},equippedItems:v,wave:_,isAutoplay:D,isPaused:l,isMuted:r,toggleAutoplay:()=>{P(!D),Bt.playSFX("click")},onTogglePause:j,onRestart:_e,onUseSkill:k,onToggleMute:ve}),N&&x.jsx(BA,{onClose:()=>{q(!1),Bt.playSFX("click")},onBuy:$,gold:p.gold,inventory:y}),X&&x.jsx(YA,{onClose:()=>{J(!1),Bt.playSFX("click")},inventory:y,equippedItems:v,playerStats:p,onEquip:Ne,onUnequip:se,onUpgrade:Ue,onUpdateAvatar:b})]})},ig=document.getElementById("root");if(!ig)throw new Error("Could not find root element to mount to");const QA=Sv.createRoot(ig);QA.render(x.jsx(dv.StrictMode,{children:x.jsx(KA,{})}));
